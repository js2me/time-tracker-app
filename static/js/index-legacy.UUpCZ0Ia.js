!function(){const e=["className"],t=["className"],n=["className"],r=["className"],a=["className"],o=["className"],i=["className"],s=["children"],l=["className","type","size"],c=["className"],u=["scope","children"],d=["__scopeSelect","disabled"],f=["__scopeSelect","className","style","children","placeholder"],p=["__scopeSelect","children"],m=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],v=["__scopeSelect","onPlaced"],h=["__scopeSelect","align","collisionPadding"],g=["__scopeSelect"],y=["__scopeSelect"],x=["__scopeSelect","value","disabled","textValue"],b=["__scopeSelect","className","style"],w=["__scopeSelect"],j=["__scopeSelect","onAutoScroll"],S=["__scopeSelect"],N=["value"],k=["className","children"],C=["className"],E=["className"],O=["className","children","position"],M=["className"],R=["className","children"],_=["className"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}System.register(["./entry-legacy._raVYelx.js"],(function(P,A){"use strict";var T,z,L,F,V,q,H,B,K,W,U,$,G,Z,X,Y,J,Q,ee,te,ne,re,ae,oe,ie,se,le,ce,ue,de,fe,pe,me,ve,he,ge,ye,xe,be,we,je,Se,Ne,ke,Ce,Ee,Oe,Me,Re,_e,Pe,De,Ae,Ie,Te,ze,Le,Fe,Ve,qe,He,Be,Ke;return{setters:[e=>{T=e.c,z=e.s,L=e.w,F=e.r,V=e.j,q=e.a,H=e.b,B=e.$,K=e.h,W=e.d,U=e.e,$=e._,G=e.D,Z=e.f,X=e.B,Y=e.t,J=e.g,Q=e.i,ee=e.k,te=e.l,ne=e.m,re=e.n,ae=e.o,oe=e.p,ie=e.q,se=e.u,le=e.v,ce=e.x,ue=e.y,de=e.z,fe=e.A,pe=e.C,me=e.E,ve=e.F,he=e.G,ge=e.H,ye=e.I,xe=e.J,be=e.K,we=e.L,je=e.M,Se=e.N,Ne=e.O,ke=e.P,Ce=e.Q,Ee=e.R,Oe=e.S,Me=e.T,Re=e.U,_e=e.V,Pe=e.W,De=e.X,Ae=e.Y,Ie=e.Z,Te=e.a0,ze=e.a1,Le=e.a2,Fe=e.a3,Ve=e.a4,qe=e.a5,He=e.a6,Be=e.a7,Ke=e.a8}],execute:function(){
/**
       * @license lucide-react v0.308.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const A=T("BadgePlus",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),We=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ue=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$e=T("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ge=T("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ze=T("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),Xe=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ye=T("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Je=T("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),Qe=T("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),et=Object.freeze(Object.defineProperty({__proto__:null,skip:!0},Symbol.toStringTag,{value:"Module"}));
/**
       * @license lucide-react v0.308.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */P("homePageModel",et);var tt={},nt={};function rt(e,t){for(var n in e)t(e[n],n)}function at(e,t){e.forEach(t)}function ot(e,t,n){if(!e)throw Error((n?n+": ":"")+t)}function it(e,t){var n=Ot(e).meta||{};rn={id:Ot(e).id,parent:rn,value:e,template:n.template||on(),sidRoot:n.sidRoot||rn&&rn.sidRoot,meta:n};try{return t()}finally{an("region"),rn=At(rn)}}function st(e){var t=void 0===e?{}:e,n=t.node,r=void 0===n?[]:n,a=t.parent,o=t.child,i=void 0===o?t.to||t.target:o,s=t.scope,l=void 0===s?{}:s,c=t.meta,u=void 0===c?{}:c,d=t.family,f=void 0===d?{type:"regular"}:d,p=t.regional,m=cn(void 0===a?t.from||t.source:a),v=cn(f.links),h=cn(f.owners),g=[];at(r,(function(e){return e&&Xt(g,e)}));var y={id:tn(),seq:g,next:cn(i),meta:u,scope:l,family:{type:f.type||"crosslink",links:v,owners:h}};return at(v,(function(e){return Xt(Mt(e),y)})),at(h,(function(e){return Xt(Rt(e),y)})),at(m,(function(e){return Xt(e.next,y)})),p&&rn&&ln(Pt(rn),[y]),y}function lt(e,t,n){var r,a=$n,o=null,i=Tn;if(e.target&&(t=e.params,n=e.defer,r=e.meta,a="page"in e?e.page:a,e.stack&&(o=e.stack),i=It(e)||i,e=e.target),i&&Tn&&i!==Tn&&(Tn=null),Array.isArray(e))for(var s=0;s<e.length;s++)Vn("pure",a,Ot(e[s]),o,t[s],i,r);else Vn("pure",a,Ot(e),o,t,i,r);if(!n||Kn){var l,c,u,d,f,p,m={isRoot:Kn,currentPage:$n,scope:Tn,isWatch:Wn,isPure:Un};Kn=0;for(var v=function(){var e=d.idx,t=d.stack,n=d.type;u=t.node,$n=f=t.page,Tn=It(t),f?p=f.reg:Tn&&(p=Tn.reg);var r=!!f,a=!!Tn,o={fail:0,scope:u.scope};l=c=0;for(var i=e;i<u.seq.length&&!l;i++){var s=u.seq[i];if(s.order){var v=s.order,h=v.priority,g=v.barrierID,y=g?f?f.fullID+"_"+g:g:0;if(i!==e||n!==h)return g?Bn.has(y)||(Bn.add(y),qn(i,t,h,g)):qn(i,t,h,0),"continue|kernelLoop";g&&Bn.delete(y)}switch(s.type){case"mov":var x=s.data,b=void 0;switch(x.from){case"stack":b=Pt(t);break;case"a":case"b":b=t[x.from];break;case"value":b=x.store;break;case"store":if(p&&!p[x.store.id])if(r){var w=Xn(f,x.store.id);t.page=f=w,w?p=w.reg:a?(Qn(Tn,x.store,0,1,x.softRead),p=Tn.reg):p=void 0}else a&&Qn(Tn,x.store,0,1,x.softRead);b=Rn(p&&p[x.store.id]||x.store)}switch(x.to){case"stack":t.value=b;break;case"a":case"b":t[x.to]=b;break;case"store":Yn(f,Tn,x.target,0).current=b}break;case"compute":var j=s.data;if(j.fn){Wn="watch"===u.meta.op,Un=j.pure;var S=j.safe?(0,j.fn)(Pt(t),o.scope,t):er(o,j.fn,t);j.filter?c=!S:t.value=S,Wn=m.isWatch,Un=m.isPure}}l=o.fail||c}if(zn&&zn(t,o),!l){var N=Pt(t),k=It(t);if(at(u.next,(function(e){Vn("child",f,e,t,N,k)})),k){u.meta.needFxCounter&&Vn("child",f,k.fxCount,t,N,k),u.meta.storeChange&&Vn("child",f,k.storeChange,t,N,k),u.meta.warnSerialize&&Vn("child",f,k.warnSerializeNode,t,N,k);var C=k.additionalLinks[u.id];C&&at(C,(function(e){Vn("child",f,e,t,N,k)}))}}};d=Fn();)v();Kn=m.isRoot,$n=m.currentPage,Tn=It(m)}}function ct(e,t){void 0===t&&(t="combine");var n=t+"(",r="",a=0;return rt(e,(function(e){a<25&&(null!=e&&(n+=r,n+=Ft(e)?Lt(e).fullName:e.toString()),a+=1,r=", ")})),n+")"}function ut(e,t){var n,r,a=e;if(t){var o=Lt(t);0===e.length?(n=o.path,r=o.fullName):(n=o.path.concat([e]),r=0===o.fullName.length?e:o.fullName+"/"+e)}else n=0===e.length?[]:[e],r=e;return{shortName:a,fullName:r,path:n}}function dt(e,t){if(!t)return e;if(!t.name&&!t.named&&!t.loc)return e;var n="["+e+"]",r=t.named||t.name;r&&(n+=" unit '"+r+"'");var a=t.loc;return!r&&a&&(n+=" ("+a.file+":"+a.line+":"+a.column+")"),n}function ft(e,t){var n=t?e:e[0];pn(n);var r=n.or,a=n.and;if(a){var o=t?a:a[0];if(un(o)&&"and"in o){var i=ft(a,t);e=i[0],r=Object.assign({},r,i[1])}else e=a}return[e,r]}function pt(e){var t=function(){return e()};return t.unsubscribe=function(){return e()},t}function mt(e){var t=on();if(t){for(var n=t.handlers[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n)return n.apply(void 0,[t].concat(a))}}function vt(e,t){var n=tr({or:t,and:"string"==typeof e?{name:e}:e}),r=dt("event",n),a=function e(t){ot(!Tt(e,"derived"),"call of derived event is not supported, use createEvent instead",r),ot(!Un,"unit call from pure function is not supported, use operators like sample instead",r);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return $n?function(e,t,n,r){var a=$n,o=null;if(t)for(o=$n;o&&o.template!==t;)o=At(o);Zn(o);var i=e.create(n,r);return Zn(a),i}(e,o,t,a):e.create(t,a)},o=on(),i=Object.assign(a,{graphite:st({meta:ur(n.actualOp||"event",a,n),regional:1}),create:function(e){return lt({target:a,params:e,scope:Tn}),e},watch:function(e){return lr(a,e)},map:function(e){return dr(a,"map",e,[En()])},filter:function(e){return dr(a,"filter",e.fn?e:e.fn,[En(xn,1)])},filterMap:function(e){return dr(a,"filterMap",e,[En(),kn((function(e){return!fn(e)}),1)])},prepend:function(e){ot(a.targetable,".prepend of derived event is not supported, call source event instead",r);var t=vt("* → "+a.shortName,{parent:At(a)});return mt("eventPrepend",Ot(t)),sr(t,a,[En()],"prepend",e),cr(a,t),t}});return null!=n&&n.domain&&n.domain.hooks.event(i),zt(i,"id",i.graphite.id),an(i.graphite),i}function ht(e,t,n,r,a){return vn(n,a+" "+t,"first argument"),ot(dn(r),"second argument should be a function",a),Yt(!Tt(e,"derived"),t+" in derived store",t+" in store created via createStore",a),at(Array.isArray(n)?n:[n],(function(t){e.off(t),Dt(e).set(t,ir(pr(t,e,"on",yn,r)))})),e}function gt(e,t){var n=tr(t),r=Mn(e),a=dt("store",n),o=vt({named:"updates",derived:1});mt("storeBase",r);var i=r.id,s="skipVoid"in n,l=s&&!n.skipVoid;Yt(!(s&&n.skipVoid),"{skipVoid: true}","updateFilter",a);var c={subscribers:new Map,updates:o,defaultState:e,stateRef:r,getState:function(){var e,t=r;if($n){for(var n=$n;n&&!n.reg[i];)n=At(n);n&&(e=n)}return!e&&Tn&&(Qn(Tn,r,1),e=Tn),e&&(t=e.reg[i]),Rn(t)},setState:function(e){return lt({target:c,params:e,defer:1,scope:Tn})},reset:function(){ot(c.targetable,".reset of derived store is not supported",a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return at(t,(function(e){return ht(c,".reset",e,(function(){return c.defaultState}),a)})),c},on:function(e,t){return ot(c.targetable,".on of derived store is not supported",a),ht(c,".on",e,t,a)},off:function(e){var t=Dt(c).get(e);return t&&(t(),Dt(c).delete(e)),c},map:function(e,t){var n,a;un(e)&&(n=e,e=e.fn);var o=c.getState(),i=fn(o);on()?a=null:(!i||i&&l)&&(a=e(o));var s=gt(a,Object.assign({name:c.shortName+" → *",derived:1},t,{and:n})),u=pr(c,s,"map",xn,e);return _n(_t(s),{type:"map",fn:e,from:r}),_t(s).noInit=1,mt("storeMap",r,u),s},watch:function(e,t){if(Yt(!t,"watch second argument","sample",a),!t||!Ft(e)){var n=lr(c,e);return mt("storeWatch",r,e)||e(c.getState()),n}return ot(dn(t),"second argument should be a function",a),e.watch((function(e){return t(c.getState(),e)}))}},u=ur("store",c,n),d=c.defaultConfig.updateFilter;c.graphite=st({scope:{state:r,fn:d},node:[kn((function(e,t,n){return n.scope&&!n.scope.reg[r.id]&&(n.b=1),e})),Cn(r),kn((function(e,t,n){var r=n.a,o=n.b,i=fn(e);return i&&!s&&console.error(a+": "+fr),(i&&l||!i)&&(e!==r||o)}),1),d&&En(gn,1),jn({from:"stack",target:r})],child:o,meta:Object.assign({},u,{defaultState:e}),regional:1}),zt(c,"id",c.graphite.id),zt(c,"rootStateRefId",i);var f=Tt(c,"serialize"),p=Tt(c,"derived"),m="ignore"===f,v=Tt(c,"sid");v&&(zt(c,"storeChange",1),r.sid=v),v||m||p||zt(c,"warnSerialize",1);var h=fn(e);return ot(p||!h||h&&l,fr,a),p&&h&&!s&&console.error(a+": "+fr),ln(c,[o]),null!=n&&n.domain&&n.domain.hooks.store(c),p||(c.reinit=vt({named:"reinit"}),c.reset(c.reinit)),r.meta=c.graphite.meta,an(c.graphite),c}function yt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,o,i=ft(t);t=i[0];var s,l,c,u=dt("combine",o=i[1]),d=t[t.length-1],f=!qt(d)&&un(d),p=f&&d,m=f?t[t.length-2]:d;if(dn(m)?(a=t.slice(0,f?-2:-1),r=m):a=t,1===a.length){var v=a[0];qt(v)||(s=v,l=1)}if(!l&&(s=a,r)){c=1;var h=r;r=function(e){return h.apply(void 0,e)}}return ot(un(s),u+": shape should be an object"),mr(Array.isArray(s),!c,s,o,r,p)}function xt(){var e={};return e.req=new Promise((function(t,n){e.rs=t,e.rj=n})),e.req.catch((function(){})),e}function bt(e,t){void 0===t&&(t={});var n=tr(dn(e)?{handler:e}:e,t),r=dt("effect",n),a=vt(dn(e)?{handler:e}:e,Object.assign({},t,{actualOp:"effect"})),o=Ot(a);zt(o,"op",a.kind="effect"),a.use=function(e){return ot(dn(e),".use argument should be a function",r),d.scope.handler=e,a},a.use.getCurrent=function(){return d.scope.handler};var i=a.finally=vt({named:"finally",derived:1}),s=a.done=i.filterMap({named:"done",fn:function(e){if("done"===e.status)return{params:e.params,result:e.result}}}),l=a.fail=i.filterMap({named:"fail",fn:function(e){if("fail"===e.status)return{params:e.params,error:e.error}}}),c=a.doneData=s.map({named:"doneData",fn:function(e){return e.result}}),u=a.failData=l.map({named:"failData",fn:function(e){return e.error}}),d=st({scope:{handler:a.defaultConfig.handler||function(){return ot(0,"no handler used in "+a.compositeName.fullName)}},node:[kn((function(e,t,n){var r=t.handler,o=It(n);if(o){var i=o.handlers.unitMap.get(a)||o.handlers.sidMap[a.sid];i&&(r=i)}return e.handler=r,e}),0,1),kn((function(e,t,n){if(!t.runnerFn||t.runnerFn(e,null,n)){var r=e.params,a=e.req,o=e.handler,s=e.args,l=void 0===s?[r]:s,c=hr(r,a,1,i,n),u=hr(r,a,0,i,n),d=vr(o,u,l),f=d[1];d[0]&&(un(f)&&dn(f.then)?f.then(c,u):c(f))}}),0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=d,Xt(o.seq,kn((function(e,t,n){var r=t.runner,a=At(n)?{params:e,req:{rs:function(){},rj:function(){}}}:e;return n.meta||(n.meta={fxID:nn()}),lt({target:r,params:a,defer:1,scope:It(n),meta:n.meta}),a.params}))),a.create=function(e){var t=xt(),n={params:e,req:t};if(Tn&&!Wn){var r=Tn;t.req.finally((function(){Gn(r)})).catch((function(){}))}return lt({target:a,params:n,scope:Tn}),t.req};var f=a.inFlight=gt(0,{serialize:"ignore",named:(Tt(a,"name")||a.graphite.id)+".inFlight"}).on(a,(function(e){return e+1})).on(i,(function(e){return e-1})).map({fn:function(e){return e},named:"inFlight"});zt(i,"needFxCounter","dec"),zt(a,"needFxCounter",1);var p=a.pending=f.map({fn:function(e){return e>0},named:"pending"});return ln(a,[i,s,l,c,u,p,f]),null!=n&&n.domain&&n.domain.hooks.effect(a),a}function wt(e,t){var n=dt("merge",t);vn(e,n,"first argument");var r=vt({name:ct(e,"merge"),derived:1,and:t});return sr(e,r,[],"merge"),r}function jt(e,t){var n=0;return at(yr,(function(r){r in e&&(ot(null!=e[r],xr(t,r)),n=1)})),n}function St(e,t,n){var r=[];!function e(a){Gt(r,a)||(Xt(r,a),"store"===Tt(a,"op")&&(n||Tt(a,"sid"))&&t(a,Tt(a,"sid")),at(a.next,e),at(Mt(a),e),at(Rt(a),e))}(e)}function Nt(e,t){var n=Array.isArray(e)?new Map(e):e,r=new Map,a=0;if(n instanceof Map){var o={};return at(n,(function(e,n){ot(Ft(n),"Map key should be a unit"),t&&t(n,e),n.sid&&(n.sid in o&&(a=1),o[n.sid]=e),r.set(n,e)})),{sidMap:o,unitMap:r,hasSidDoubles:a}}return{sidMap:n,unitMap:r}}function kt(e,t){return qt(t)?[On.mov({store:t.stateRef,to:"stack"})].concat(e):e}Object.defineProperty(nt,"__esModule",{value:1});for(var Ct,Et="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",Ot=function(e){return e.graphite||e},Mt=function(e){return e.family.owners},Rt=function(e){return e.family.links},_t=function(e){return e.stateRef},Pt=function(e){return e.value},Dt=function(e){return e.subscribers},At=function(e){return e.parent},It=function(e){return e.scope},Tt=function(e,t){return Ot(e).meta[t]},zt=function(e,t,n){return Ot(e).meta[t]=n},Lt=function(e){return e.compositeName},Ft=function(e){return(dn(e)||un(e))&&"kind"in e},Vt=function(e){return function(t){return Ft(t)&&t.kind===e}},qt=Vt("store"),Ht=Vt("event"),Bt=Vt("effect"),Kt=function(e){return Ft(e)&&!!e.targetable},Wt=Vt("domain"),Ut=Vt("scope"),$t={__proto__:null,unit:Ft,store:qt,event:Ht,effect:Bt,targetable:Kt,domain:Wt,scope:Ut,attached:function(e){return Bt(e)&&1==Tt(e,"attached")}},Gt=function(e,t){return e.includes(t)},Zt=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},Xt=function(e,t){return e.push(t)},Yt=function(e,t,n,r){return!e&&console.error((r?r+": ":"")+t+" is deprecated"+(n?", use "+n+" instead":""))},Jt=function(){var e=0;return function(){return""+ ++e}},Qt=Jt(),en=Jt(),tn=Jt(),nn=Jt(),rn=null,an=function(e){Ct&&Ct(e,rn)},on=function(){return rn&&rn.template},sn=function(e){return e&&rn&&rn.sidRoot&&(e=rn.sidRoot+"|"+e),e},ln=function(e,t){var n=Ot(e);at(t,(function(e){var t=Ot(e);"domain"!==n.family.type&&(t.family.type="crosslink"),Xt(Mt(t),n),Xt(Rt(n),t)}))},cn=function(e){return void 0===e&&(e=[]),(Array.isArray(e)?e:[e]).flat().map(Ot)},un=function(e){return"object"==typeof e&&null!==e},dn=function(e){return"function"==typeof e},fn=function(e){return void 0===e},pn=function(e){return ot(un(e)||dn(e),"expect first argument be an object")},mn=function(e,t,n,r){return ot(!(!un(e)&&!dn(e)||!("family"in e)&&!("graphite"in e)),t+": expect "+n+" to be a unit (store, event or effect)"+r)},vn=function(e,t,n){Array.isArray(e)?at(e,(function(e,r){return mn(e,t,r+" item of "+n,"")})):mn(e,t,n," or array of units")},hn=function(e,t,n){return void 0===n&&(n="target"),at(cn(t),(function(t){return ot(!Tt(t,"derived"),e+': derived unit in "'+n+'" is not supported, use createStore/createEvent instead"')}))},gn=function(e,t,n){return(0,t.fn)(e,n.a)},yn=function(e,t,n){return(0,t.fn)(n.a,e)},xn=function(e,t){return(0,t.fn)(e)},bn=function(e,t,n,r){var a={id:en(),type:e,data:t};return n&&(a.order={priority:n},r&&(a.order.barrierID=++wn)),a},wn=0,jn=function(e){var t=e.from,n=e.target,r=e.to;return bn("mov",{from:void 0===t?"store":t,store:e.store,to:void 0===r?n?"store":"stack":r,target:n},e.priority,e.batch)},Sn=function(e){var t=e.safe,n=e.filter,r=e.pure;return bn("compute",{fn:e.fn,safe:void 0===t?0:t,filter:void 0===n?0:n,pure:void 0===r?0:r},e.priority,e.batch)},Nn=function(e){return Sn({fn:e.fn,priority:"effect"})},kn=function(e,t,n){return Sn({fn:e,safe:1,filter:t,priority:n&&"effect"})},Cn=function(e,t,n){return jn({store:e,to:t?"stack":"a",priority:n&&"sampler",batch:1})},En=function(e,t){return void 0===e&&(e=xn),Sn({fn:e,pure:1,filter:t})},On={mov:jn,compute:Sn,filter:function(e){return Sn({fn:e.fn,filter:1,pure:e.pure})},run:Nn},Mn=function(e){return{id:en(),current:e,initial:e}},Rn=function(e){return e.current},_n=function(e,t){e.before||(e.before=[]),Xt(e.before,t)},Pn=null,Dn=function e(t,n){return t?n?((t.v.type===n.v.type&&t.v.id>n.v.id||Hn(t.v.type)>Hn(n.v.type))&&(r=t,t=n,n=r),r=e(t.r,n),t.r=t.l,t.l=r,t):t:n;var r},An=[],In=0;In<6;)Xt(An,{first:null,last:null,size:0}),In+=1;var Tn,zn,Ln,Fn=function(){for(var e=0;e<6;e++){var t=An[e];if(t.size>0){if(3===e||4===e){t.size-=1;var n=Pn.v;return Pn=Dn(Pn.l,Pn.r),n}1===t.size&&(t.last=null);var r=t.first;return t.first=r.r,t.size-=1,r.v}}},Vn=function(e,t,n,r,a,o,i){return qn(0,{a:null,b:null,node:n,parent:r,value:a,page:t,scope:o,meta:i},e,0)},qn=function(e,t,n,r){var a=Hn(n),o=An[a],i={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};3===a||4===a?Pn=Dn(Pn,i):(0===o.size?o.first=i:o.last.r=i,o.last=i),o.size+=1},Hn=function(e){switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Bn=new Set,Kn=1,Wn=0,Un=0,$n=null,Gn=function(e){Tn=e},Zn=function(e){$n=e},Xn=function(e,t){if(e){for(;e&&!e.reg[t];)e=e.parent;if(e)return e}return null},Yn=function(e,t,n,r){var a=Xn(e,n.id);return a?a.reg[n.id]:t?(Qn(t,n,r),t.reg[n.id]):n},Jn=function(e){return e},Qn=function e(t,n,r,a,o){var i=t.reg;if(!i[n.id]){var s=n.sid,l={id:n.id,current:n.initial,meta:n.meta};if(l.id in t.values.idMap)l.current=t.values.idMap[l.id];else if(s&&s in t.values.sidMap&&!(s in t.sidIdMap)){var c,u=null==n||null===(c=n.meta)||void 0===c?void 0:c.serialize;l.current=(t.fromSerialize&&"ignore"!==u&&(null==u?void 0:u.read)||Jn)(t.values.sidMap[s])}else if(n.before&&!o){var d=0,f=r||!n.noInit||a;at(n.before,(function(n){switch(n.type){case"map":var o=n.from;if((o||n.fn)&&(o&&e(t,o,r,a),f)){var s=o&&i[o.id].current;l.current=n.fn?n.fn(s):s}break;case"field":e(t,n.from,r,a),d||(d=1,l.current=Array.isArray(l.current)?[].concat(l.current):Object.assign({},l.current)),f&&(l.current[n.field]=i[i[n.from.id].id].current)}}))}s&&(t.sidIdMap[s]=n.id),i[n.id]=l}},er=function(e,t,n){try{return t(Pt(n),e.scope,n)}catch(Cr){console.error(Cr),e.fail=1,e.failReason=Cr}},tr=function e(t,n){return void 0===n&&(n={}),un(t)&&(e(t.or,n),rt(t,(function(e,t){fn(e)||"or"===t||"and"===t||(n[t]=e)})),e(t.and,n)),n},nr=function(e,t){Zt(e.next,t),Zt(Mt(e),t),Zt(Rt(e),t)},rr=function e(t,n,r){var a;t.next.length=0,t.seq.length=0,t.scope=null;for(var o=Rt(t);a=o.pop();)nr(a,t),(n||r&&"sample"!==t.meta.op||"crosslink"===a.family.type)&&e(a,n,"on"!==a.meta.op&&r);for(o=Mt(t);a=o.pop();)nr(a,t),r&&"crosslink"===a.family.type&&e(a,n,"on"!==a.meta.op&&r)},ar=function(e){return e.clear()},or=function(e,t){var n=(void 0===t?{}:t).deep,r=0;if(e.ownerSet&&e.ownerSet.delete(e),qt(e))ar(Dt(e));else if(Wt(e)){r=1;var a=e.history;ar(a.events),ar(a.effects),ar(a.stores),ar(a.domains)}rr(Ot(e),!!n,r)},ir=function(e){return pt((function(){return or(e)}))},sr=function(e,t,n,r,a){return st({node:n,parent:e,child:t,scope:{fn:a},meta:{op:r},family:{owners:[e,t],links:t},regional:1})},lr=function(e,t){return ot(dn(t),".watch argument should be a function"),ir(st({scope:{fn:t},node:[Nn({fn:xn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))},cr=function(e,t,n){void 0===n&&(n="event"),At(e)&&At(e).hooks[n](t)},ur=function(e,t,n){var r=tr(n),a="domain"===e,o=Qt(),i=r.sid,s=void 0===i?null:i,l=r.named,c=void 0===l?null:l,u=r.domain,d=r.parent,f=void 0===d?void 0===u?null:u:d,p=c||r.name||(a?"":o),m=ut(p,f),v={op:t.kind=e,name:t.shortName=p,sid:t.sid=sn(s),named:c,unitId:t.id=o,serialize:r.serialize,derived:r.derived,config:r};if(t.targetable=!r.derived,t.parent=f,t.compositeName=m,t.defaultConfig=r,t.getType=function(){return Yt(0,"getType","compositeName.fullName"),m.fullName},!a){t.subscribe=function(e){return pn(e),t.watch(dn(e)?e:function(t){return e.next&&e.next(t)})},t[Et]=function(){return t};var h=on();h&&(v.nativeTemplate=h)}return v},dr=function(e,t,n,r){var a;un(n)&&(a=n,n=n.fn);var o=vt({name:e.shortName+" → *",derived:1,and:a});return sr(e,o,r,t,n),o},fr="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",pr=function(e,t,n,r,a){var o=_t(t),i=jn({store:o,to:"a",priority:"read"});"map"===n&&(i.data.softRead=1);var s=[i,En(r)];return mt("storeOnMap",o,s,qt(e)&&_t(e)),sr(e,t,s,n,a)},mr=function(e,t,n,r,a,o){var i=dt("combine",r),s=e?function(e){return[].concat(e)}:function(e){return Object.assign({},e)},l=e?[]:{},c=s(l),u=Mn(c),d=Mn(1);u.type=e?"list":"shape",u.noInit=1,mt("combineBase",u,d);var f=gt(c,Object.assign({name:ct(n),derived:1},o,{and:r})),p=_t(f);p.noInit=1,zt(f,"isCombine",1);var m=Cn(u);m.order={priority:"barrier"};var v=jn({store:p,to:"b",priority:"read"});v.data.softRead=1;var h=[kn((function(e,t,n){return n.scope&&!n.scope.reg[u.id]&&(n.c=1),e})),m,jn({store:d,to:"b"}),kn((function(e,n,r){var a=n.key;if(r.c||e!==r.a[a])return t&&r.b&&(r.a=s(r.a)),r.a[a]=e,1}),1),jn({from:"a",target:u}),jn({from:"value",store:0,target:d}),jn({from:"value",store:1,target:d,priority:"barrier",batch:1}),Cn(u,1,1),a&&En(),v];if(rt(n,(function(e,t){if(!qt(e))return ot(!Ft(e)&&!fn(e),"combine expects a store in a field "+t,i),void(c[t]=l[t]=e);l[t]=e.defaultState,c[t]=e.getState();var n=sr(e,f,h,"combine",a);n.scope.key=t;var r=_t(e);_n(u,{type:"field",field:t,from:r}),mt("combineField",r,n)})),f.defaultShape=n,_n(p,{type:"map",from:u,fn:a}),!on())if(a){var g=a(c);!fn(g)||o&&"skipVoid"in o||console.error(i+": "+fr),p.current=g,p.initial=g,f.defaultState=g}else f.defaultState=l;return f},vr=function(e,t,n){try{return[1,e.apply(void 0,n)]}catch(Cr){return t(Cr),[0,null]}},hr=function(e,t,n,r,a){return function(o){lt({target:[r,gr],params:[n?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:n?t.rs:t.rj}],defer:1,page:a.page,scope:a.scope,meta:a.meta})}},gr=st({node:[Nn({fn:function(e){return(0,e.fn)(e.value)}})],meta:{op:"fx",fx:"sidechain"}}),yr=["source","clock","target"],xr=function(e,t){return e+": "+t+" should be defined"},br=function(e,t,n,r,a,o,i,s,l,c,u,d){var f=dt(e,s),p=!!a;ot(!fn(n)||!fn(t),xr(f,"either source or clock"));var m=0;fn(n)?m=1:Ft(n)||(n=yt(n)),fn(t)?t=n:(vn(t,f,"clock"),Array.isArray(t)&&(t=wt(t))),m&&(n=t),s||i||(i=n.shortName);var v="none";(u||r)&&(Ft(r)?v="unit":(ot(dn(r),"`filter` should be function or unit"),v="fn")),a?(vn(a,f,"target"),hn(f,a)):"none"===v&&c&&qt(n)&&qt(t)?a=gt(o?o(Rn(_t(n)),Rn(_t(t))):Rn(_t(n)),{name:i,sid:d,or:s}):(a=vt({name:i,derived:1,or:s}),mt("sampleTarget",Ot(a)));var h=Mn(),g=[];if("unit"===v){var y=jr(r,a,t,h,e),x=y[0];y[2]||g.push.apply(g,wr(y[1])),g.push.apply(g,wr(x))}var b=[];if(m)l&&b.push(Cn(h,1,1));else{var w=jr(n,a,t,h,e),j=w[0];w[2]||b.push.apply(b,wr(w[1])),b.push(Cn(j,1,l))}var S=sr(t,a,[mt("sampleSourceLoader"),jn({from:"stack",target:h})].concat(b,g,[Cn(h),"fn"===v&&En((function(e,t,n){return r(e,n.a)}),1),o&&En(gn),mt("sampleSourceUpward",p)]),e,o);return ln(n,[S]),Object.assign(S.meta,s,{joint:1}),a},wr=function(e){return[Cn(e),kn((function(e,t,n){return n.a}),1)]},jr=function(e,t,n,r,a){var o=qt(e),i=o?_t(e):Mn(),s=Mn(o);return o||st({parent:e,node:[jn({from:"stack",target:i}),jn({from:"value",store:1,target:s})],family:{owners:[e,t,n],links:t},meta:{op:a},regional:1}),mt("sampleSource",s,i,r),[i,s,o]},Sr=function(e,t,n,r){var a=e[t];a&&lt({target:a,params:Array.isArray(a)?a.map((function(){return n})):n,defer:1,stack:r})},Nr=function(e){return!e.node.meta.isCombine||e.parent&&"combine"!==e.parent.node.meta.op},kr=function(e){return e};function Cr(e,t){return t.displayName=e,t}function Er(e,t){var n=zr.is.unit(e),r={};n?r={unit:e}:"@@unitShape"in e?"function"==typeof e["@@unitShape"]?r=e["@@unitShape"]():qr("expect @@unitShape to be a function"):r=e;var a=Array.isArray(r),o=Vr.useRef({stale:1,justSubscribed:0,scope:t}),i=Vr.useMemo((function(){o.current.stale=1;var e=Array.isArray(r)?[]:{},a=[],i=[],s=[],l=[];for(var c in r)if({}.hasOwnProperty.call(r,c)){var u=r[c];zr.is.unit(u)||qr("expect useUnit "+(n?"argument":'value in key "'+c+'"')+" to be a unit"),zr.is.event(u)||zr.is.effect(u)?(e[c]=t?zr.scopeBind(u,{scope:t}):u,s.push(c),l.push(u)):(e[c]=null,a.push(c),i.push(u))}return[e,a,i,s,l]}),[o,t].concat(Object.keys(r),Object.values(r))),s=i[0],l=i[1],c=i[2],u=i[3],d=i[4],f=Vr.useRef({value:s,storeKeys:l,eventKeys:u,eventValues:d}),p=Vr.useCallback((function(e){var n=o.current;return n.justSubscribed=1,zr.createWatch({unit:c,fn:function(){n.stale||(n.stale=1,e())},scope:t,batch:1})}),[c,t,f,o]),m=Vr.useCallback((function(){var e,r=f.current,i=o.current,p=0,m=r.value,v=r.storeKeys,h=r.eventKeys,g=r.eventValues,y=t!==i.scope;if(i.stale||i.justSubscribed||y){p=!i.justSubscribed||y,e=a?[].concat(s):Object.assign({},s),v.length===l.length&&h.length===u.length||(p=1);for(var x=0;x<l.length;x++){var b=Kr(c[x],t),w=l[x];p||(p=v.includes(w)?m[w]!==b:1),e[w]=b}for(var j=0;j<u.length;j++){var S=d[j],N=u[j];p||(p=h.includes(N)?g[h.indexOf(N)]!==S:1)}}return p&&(r.value=e),r.storeKeys=l,r.eventKeys=u,r.eventValues=d,i.stale=0,i.justSubscribed=!p,i.scope=t,n?r.value.unit:r.value}),[p,c,d,t,f,o]);return Lr.useSyncExternalStore(p,m,m)}function Or(e,t){var n,r,a,o,i=e[0],s=e[1],l=Wr;if(s)n=s,a=i,o=[];else{n=i.fn,a=i.store,o=i.keys,r=i.defaultValue;var c=i.updateFilter;l=void 0===c?Wr:c}zr.is.store(a)||qr("useStoreMap expects a store"),Array.isArray(o)||qr("useStoreMap expects an array as keys"),"function"!=typeof n&&qr("useStoreMap expects a function");var u=Vr.useCallback((function(e){return zr.createWatch({unit:a,fn:e,scope:t})}),[a,t]),d=Vr.useCallback((function(){return Kr(a,t)}),[a,t]),f=Vr.useRef(),p=Vr.useRef(),m=Vr.useRef(o);return Fr.useSyncExternalStoreWithSelector(u,d,d,(function(e){if(f.current!==e||!function(e,t){if(!e||!t||e.length!==t.length)return 0;for(var n=1,r=0;r<e.length;r++)if(e[r]!==t[r]){n=0;break}return n}(m.current,o)){var t=n(e,o);void 0===t&&void 0!==r&&(t=r),f.current=e,m.current=o,void 0!==t&&(p.current=t)}return p.current}),(function(e,t){return!l(t,e)}))}function Mr(e,t,n){void 0===t&&(t={});var r=Er({open:e.open,close:e.close,set:e.set},n),a=r.open,o=r.close,i=r.set,s=Vr.useMemo((function(){return{open:a,close:o,set:i}}),[e,a]),l=Vr.useRef({value:null,count:0});Hr((function(){return s.open(l.current.value),function(){return s.close(l.current.value)}}),[s]),function(e,t){if(e===t)return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return 0;for(var a=0;a<n.length;a++){var o=n[a];if(e[o]!==t[o])return 0}return 1}return 0}(l.current.value,t)||(l.current.value=t,l.current.count+=1),Hr((function(){s.set(l.current.value)}),[l.current.count])}function Rr(e){var t=Vr.useContext(Ur);return e&&!t&&qr("No scope found, consider adding <Provider> to app root"),t}function _r(e,t){return function(e,t){Br(1,"useStore","useUnit"),zr.is.store(e)||qr("expect useStore argument to be a store");var n=Vr.useCallback((function(n){return zr.createWatch({unit:e,fn:n,scope:t})}),[e,t]),r=Vr.useCallback((function(){return Kr(e,t)}),[e,t]);return Lr.useSyncExternalStore(n,r,r)}(e,Rr(null==t?void 0:t.forceScope))}function Pr(e,t){function n(e){var n=Vr.useRef(e),a=_r(r);Hr((function(){return o({props:n.current,state:r.getState()}),function(){i({props:n.current,state:r.getState()})}}),[]);var s=t(e,a);return n.current=e,s}var r;$r("createComponent","@effector/reflect"),zr.is.store(e)?r=e:"object"==typeof e&&null!==e?r=zr.combine(e):qr("shape should be a store or object with stores");var a="Unknown";r&&r.shortName&&(a=r.shortName);var o=zr.createEvent(),i=zr.createEvent();return n.mounted=o,n.unmounted=i,Cr(a+".View",n)}function Dr(e,t){var n,r=t?e:e[0];!function(e){if(!e)throw Error("expect first argument be an object")}(Gr(n=r)||function(e){return"function"==typeof e}(n));var a=r.or,o=r.and;if(o){var i=t?o:o[0];if(Gr(i)&&"and"in i){var s=Dr(o,t);e=s[0],a=Object.assign({},a,s[1])}else e=o}return[e,a]}function Ar(e){function t(e){return a(t,e,Rr()),null}var n=e.domain,r=e.defaultState,a=e.hook,o=Zr({or:e.maybeConfig,and:e.mainConfig}),i=(n?n.compositeName.fullName+"/":"")+(o.name||"gate"),s=zr.createEvent({name:i+".set",sid:o.sid?o.sid+"|set":void 0}),l=zr.createEvent({name:i+".open",sid:o.sid?o.sid+"|open":void 0}),c=zr.createEvent({name:i+".close",sid:o.sid?o.sid+"|close":void 0}),u=zr.createStore(Boolean(0),{name:i+".status",serialize:"ignore"}).on(l,(function(){return Boolean(1)})).on(c,(function(){return Boolean(0)})),d=zr.createStore(r,{name:i+".state",sid:o.sid}).on(s,(function(e,t){return t})).on(l,(function(e,t){return t})).reset(c);if(n){var f=n.hooks;zr.launch({target:[f.store,f.store,f.event,f.event,f.event],params:[u,d,l,c,s]})}return t.open=l,t.close=c,t.status=u,t.state=d,t.set=s,Cr("Gate:"+i,t)}function Ir(e,t){var n,r,a,o=Dr(t&&Gr(n=t[0])&&(n.and||n.or)?t:[{and:t}]),i=o[0],s=i[0],l=i[1],c={},u={},d=o[1];return"string"==typeof s?(u={name:s},Gr(a=l)&&"sid"in a||(c=l||{})):function(e){return Gr(e)&&("domain"in e||"defaultState"in e||"name"in e)}(s)&&(u=s,c=s.defaultState||{},r=s.domain),{hook:e,domain:r,defaultState:c,mainConfig:u,maybeConfig:d}}nt.allSettled=function(e,t){var n=void 0===t?{}:t,r=n.scope,a=n.params;if(!Ft(e))return Promise.reject(new Error("first argument should be unit"));if(!(Bt(e)||Ht(e)||qt(e)||Ut(e)))return Promise.reject(new Error("first argument accepts only effects, events, stores or scopes"));Ut(e)&&(r=e);var o=xt();o.parentFork=Tn;var i=r.fxCount;Xt(i.scope.defers,o);var s=[],l=[];return Ut(e)||(Xt(s,e),Xt(l,Bt(e)?{params:a,req:{rs:function(e){o.value={status:"done",value:e}},rj:function(e){o.value={status:"fail",value:e}}}}:a)),Xt(s,i),Xt(l,null),lt({target:s,params:l,scope:r}),o.req},nt.attach=function(e){var t,n,r=ft(e,1);e=r[0];var a=dt("attach",n=r[1]),o=e.source,i=e.effect,s=e.mapParams,l=e.domain;Bt(i)&&ot(fn(l),"`domain` can only be used with a plain function",a);var c=bt(e,n);zt(c,"attached",1);var u,d,f=Ot(c).scope.runner,p=function(e,t,n){var r,a=e.params,i=e.req,l=e.handler,u=c.finally,d=hr(a,i,0,u,n),f=n.a,p=Bt(l),m=1;if(s){var v=vr(s,d,[a,f]);m=v[0],r=v[1]}else r=o&&p?f:a;if(m){if(!p)return e.args=[f,r],1;lt({target:l,params:{params:r,req:{rs:hr(a,i,1,u,n),rj:d}},page:n.page,defer:1,meta:n.meta})}};o?(f.scope.runnerFn=p,qt(o)?ln(d=o,[c]):(d=yt(o),ln(c,[d])),u=[kn((function(e){return e}),0,1),Cn(_t(d))],delete f.seq[1].order):u=[kn(p,1,1)],(t=f.seq).splice.apply(t,[1,0].concat(u)),c.use(i);var m=At(i);return m&&(Object.assign(Lt(c),ut(c.shortName,m)),c.defaultConfig.parent=m),cr(i,c,"effect"),c},nt.clearNode=or,nt.combine=yt,nt.createApi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ft(t),a=r[0],o=a[0],i=a[1],s=r[1],l={};return rt(i,(function(e,t){var n=l[t]=vt(t,{parent:At(o),config:s});o.on(n,e),cr(o,n)})),l},nt.createDomain=function e(t,n){var r=tr({or:n,and:"string"==typeof t?{name:t}:t}),a=st({family:{type:"domain"},regional:1,parent:(null==r?void 0:r.domain)||(null==r?void 0:r.parent)}),o={history:{},graphite:a,hooks:{}};a.meta=ur("domain",o,{parent:(null==r?void 0:r.domain)||(null==r?void 0:r.parent),or:Object.assign({},r,{derived:1})}),rt({Event:vt,Effect:bt,Store:gt,Domain:e},(function(e,t){var n=t.toLowerCase(),r=vt({named:"on"+t});o.hooks[n]=r;var a=new Set;o.history[n+"s"]=a,r.create=function(e){return lt(r,e),e},Xt(Ot(r).seq,kn((function(e,t,n){return n.scope=null,e}))),r.watch((function(e){ln(o,[e]),a.add(e),e.ownerSet||(e.ownerSet=a),At(e)||(e.parent=o)})),ln(o,[r]),o["onCreate"+t]=function(e){return at(a,e),r.watch(e)},o["create"+t]=o[n]=function(t,n){var a=tr({and:n,or:t});return null!=a&&a.domain?e(t,n):r(e(t,{parent:o,or:a}))}}));var i=At(o);return i&&rt(o.hooks,(function(e,t){return sr(e,i.hooks[t])})),null!=r&&r.domain&&r.domain.hooks.domain(o),o},nt.createEffect=bt,nt.createEvent=vt,nt.createNode=st,nt.createStore=gt,nt.createWatch=function(e){var t=e.unit,n=e.fn,r=e.scope,a=e.batch,o=[On.run({fn:function(e){return n(e)}})];a&&o.unshift(On.compute({priority:"sampler",batch:1})),qt(t)&&o.unshift(On.mov({store:t.stateRef,to:"stack"}));var i=Array.isArray(t)?t:[t];if(r){var s=[],l=r.additionalLinks;return i.forEach((function(e){var t=l[e.graphite.id]||[];l[e.graphite.id]=t;var n=st({node:kt(o,e),meta:{watchOp:e.kind}});t.push(n),s.push((function(){var e=t.indexOf(n);-1!==e&&t.splice(e,1),or(n)}))})),pt((function(){s.forEach((function(e){return e()}))}))}var c=st({node:o,parent:i,family:{owners:i}});return pt((function(){or(c)}))},nt.fork=function(e,t){var n,r=e;Wt(e)&&(Yt(0,"fork(domain)","fork()"),n=e,r=t);var a=function(e){var t=st({scope:{defers:[],inFlight:0,fxID:0},node:[kn((function(e,t,n){n.parent?"dec"===n.parent.node.meta.needFxCounter?t.inFlight-=1:(t.inFlight+=1,t.fxID+=1):t.fxID+=1})),Sn({priority:"sampler",batch:1}),kn((function(e,t){var n=t.defers,r=t.fxID;t.inFlight>0||0===n.length||Promise.resolve().then((function(){t.fxID===r&&at(n.splice(0,n.length),(function(e){Gn(e.parentFork),e.rs(e.value)}))}))}),0,1)]}),n=st({node:[kn((function(e,t,n){var r=n.parent;if(r){var a=r.node;if(Nr(r)){var o=It(n),i=a.meta.sid;o.sidIdMap[i]=a.scope.state.id,o.values.sidMap[i]=e;var s=a.meta.serialize;s&&o.sidSerializeSettings.set(i,"ignore"===s?{ignore:1}:{ignore:0,write:s.write})}}}))]}),r=st({node:[kn((function(e,t,n){var r=It(n);r&&n.parent&&Nr(n.parent)&&(r.warnSerialize=1)}))]}),a={cloneOf:e,reg:{},values:{sidMap:{},idMap:{}},sidIdMap:{},sidSerializeSettings:new Map,getState:function(e){if("current"in e)return Yn($n,a,e,0).current;var t=Ot(e);return Yn($n,a,t.scope.state,1).current},kind:"scope",graphite:st({family:{type:"domain",links:[t,n,r]},meta:{unit:"fork"},scope:{forkInFlightCounter:t}}),additionalLinks:{},handlers:{sidMap:{},unitMap:new Map},fxCount:t,storeChange:n,warnSerializeNode:r};return a}(n);if(r){if(r.values){var o=Nt(r.values,(function(e){return ot(qt(e)&&Kt(e),"Values map can contain only writable stores as keys")})),i=o.unitMap,s=o.hasSidDoubles;Object.assign(a.values.sidMap,o.sidMap),at(i,(function(e,t){if(a.values.idMap[t.stateRef.id]=e,"ignore"===Tt(t,"serialize")){var n=Tt(t,"sid");a.sidSerializeSettings.set(n,{ignore:1})}})),a.fromSerialize=!(Array.isArray(r.values)||r.values instanceof Map),a.hasSidDoubles=s}r.handlers&&(Yt(r.handlers instanceof Map||Array.isArray(r.handlers),"object with handlers","array"),a.handlers=Nt(r.handlers,(function(e){return ot(Bt(e),"Handlers map can contain only effects as keys")})))}return a},nt.forward=function(e){var t="forward",n=ft(e,1),r=n[0],a=r.from,o=r.to,i=n[1],s=dt(t,i);return Yt(0,t,"sample",s),vn(a,s,'"from"'),vn(o,s,'"to"'),hn(s,o,"to"),ir(st({parent:a,child:o,meta:{op:t,config:i},family:{},regional:1}))},nt.fromObservable=function(e){pn(e);var t=Et in e?e[Et]():e;ot(t.subscribe,"expect observable to have .subscribe");var n=vt(),r=ir(n);return t.subscribe({next:n,error:r,complete:r}),n},nt.guard=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ft(t),a=r[0],o=a[0],i=a[1],s=r[1],l=dt("guard",s);return Yt(0,"guard","sample",l),i||(o=(i=o).source),jt(i,l),br("guard",i.clock,o,i.filter,i.target,null,i.name,s,!i.greedy,0,1)},nt.hydrate=function(e,t){var n=t.values;ot(un(n),"values property should be an object");var r=Nt(n),a=r.sidMap,o=r.unitMap,i=Object.getOwnPropertyNames(a),s={};at(o,(function(e,t){s[t.stateRef.id]=t}));var l,c,u,d=[],f=[];Ut(e)?(u=1,ot((l=e).cloneOf,"scope should be created from domain"),Yt(0,"hydrate(fork(domain), { values })","fork({ values })"),c=Ot(l.cloneOf)):Wt(e)?(Yt(0,"hydrate(domain, { values })","fork({ values })"),c=Ot(e)):ot(0,"first argument of hydrate should be domain or scope"),St(c,(function(e,t){if(t&&Gt(i,t)){Xt(d,e);var n=Tt(e,"serialize");n&&"ignore"!==n&&(a[t]=n.read(a[t])),Xt(f,a[t])}else e.scope.state.id in s&&(Xt(d,e),Xt(f,o.get(s[e.scope.state.id])))}),1),lt({target:d,params:f,scope:l}),u&&Object.assign(l.values.sidMap,a)},nt.is=$t,nt.launch=lt,nt.merge=wt,nt.restore=function(e,t,n){var r=dt("restore",n);if(ot(!qt(e),"restore($store) is not supported",r),Ht(e)||Bt(e)){var a=At(e),o=gt(t,{parent:a,name:e.shortName,and:n});return sr(Bt(e)?e.doneData:e,o),a&&a.hooks.store(o),o}var i=Array.isArray(e)?[]:{};return rt(e,(function(e,t){return i[t]=qt(e)?e:gt(e,{name:t})})),i},nt.sample=function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o,i,s=ft(r),l=s[0],c=l[0],u=l[1],d=l[2],f=s[1],p=1,m=dt("sample",f);return fn(u)&&un(c)&&jt(c,m)&&(u=c.clock,d=c.fn,"batch"in c?p=c.batch:(Yt(!("greedy"in c),"greedy in sample","batch",m),p=!c.greedy),i=c.filter,e=c.target,t=c.name,o=c.sid,c=c.source),br("sample",u,c,i,e,d,t,f,p,1,0,o)},nt.scopeBind=function(e,t){var n=void 0===t?{}:t,r=n.scope;ot(r||Tn||n.safe,"scopeBind: scope not found");var a=r||Tn;return function(t){function n(){Gn(i)}var r,o=0,i=Tn;Gn(a);try{r=e(t)}catch(Mr){r=Mr,o=1}if(n(),o)throw r;return r instanceof Promise&&r.then(n,n),r}},nt.serialize=function(e,t){void 0===t&&(t={}),e.warnSerialize&&console.error("There is a store without sid in this scope, its value is omitted"),ot(!e.hasSidDoubles,"duplicate sid found in this scope");var n=t.ignore?t.ignore.map((function(e){return e.sid})):[],r={};return rt(e.values.sidMap,(function(t,a){var o;if(!Gt(n,a)){var i=e.sidIdMap[a],s=null!==(o=e.sidSerializeSettings.get(a))&&void 0!==o?o:{ignore:0,write:kr};s.ignore||(r[a]=(0,s.write)(i&&i in e.reg?e.reg[i].current:t))}})),"onlyChanges"in t&&(Yt(0,"onlyChanges"),t.onlyChanges||(ot(e.cloneOf,"scope should be created from domain"),St(Ot(e.cloneOf),(function(t,a){a in r||Gt(n,a)||Tt(t,"isCombine")||"ignore"===Tt(t,"serialize")||(r[a]=e.getState(t))})))),r},nt.setGraphInspector=function(e){Ct=e},nt.setInspector=function(e){zn=e},nt.setStoreName=function(e,t){e.shortName=t,Object.assign(Lt(e),ut(t,At(e)))},nt.split=function(){for(var e,t,n="split",r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=ft(a),s=i[0],l=s[0],c=s[1],u=i[1],d=dt(n,u),f=!c;f&&(e=l.cases,c=l.match,t=l.clock,l=l.source);var p=qt(c),m=!Ft(c)&&dn(c),v=!p&&!m&&un(c);ot(Ft(l),"source must be a unit",d),e||(e={}),f?rt(e,(function(e,t){return hn(d,e,"cases."+t)})):(ot(v,"match should be an object",d),rt(c,(function(t,n){return e[n]=vt({derived:1,named:"cases."+n,and:u})})),e.__=vt({derived:1,named:"cases.__",and:u}));var h,g=new Set([].concat(l,t||[],Object.values(e))),y=Object.keys(p||m?e:c);if(p||m)p&&g.add(c),h=[p&&Cn(_t(c),0,1),Sn({safe:p,filter:1,pure:!p,fn:function(e,t,n){var r=String(p?n.a:c(e));Sr(t,Gt(y,r)?r:"__",e,n)}})];else if(v){var x=Mn({});x.type="shape";var b,w=[];rt(c,(function(e,t){if(Ft(e)){b=1,Xt(w,t),g.add(e);var n=sr(e,[],[Cn(x),kn((function(e,n,r){return r.a[t]=e}))]);if(qt(e)){x.current[t]=e.getState();var r=_t(e);_n(x,{from:r,field:t,type:"field"}),mt("splitMatchStore",r,n)}}})),b&&mt("splitBase",x),h=[b&&Cn(x,0,1),En((function(e,t,n){for(var r=0;r<y.length;r++){var a=y[r];if(Gt(w,a)?n.a[a]:c[a](e))return void Sr(t,a,e,n)}Sr(t,"__",e,n)}),1)]}else ot(0,"expect match to be unit, function or object");var j=st({meta:{op:n},parent:t?[]:l,scope:e,node:h,family:{owners:Array.from(g)},regional:1});if(t&&br(n,t,l,null,j,null,n,u,0,0,0),!f)return e},nt.step=On,nt.version="23.1.0",nt.withFactory=function(e){var t=e.sid,n=e.name,r=e.loc,a=e.method,o=e.fn;return it(st({meta:{sidRoot:sn(t),sid:t,name:n,loc:r,method:a,type:"factory"}}),o)},nt.withRegion=it,Object.defineProperty(tt,"__esModule",{value:1});var Tr=F,zr=nt,Lr=z,Fr=L,Vr=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(Tr),qr=function(e){throw Error(e)},Hr="undefined"!=typeof window?Vr.useLayoutEffect:Vr.useEffect,Br=function(e,t,n){Tr.useEffect((function(){e&&console.error(t+" is deprecated"+(n?", prefer "+n+" instead":""))}),[e,t,n])},Kr=function(e,t){return t?t.getState(e):e.getState()},Wr=function(e,t){return e!==t},Ur=Vr.createContext(null),$r=function(e,t){console.error(e+" is deprecated"+(t?", use "+t+" instead":""))},Gr=function(e){return"object"==typeof e&&null!==e},Zr=function e(t,n){return void 0===n&&(n={}),Gr(t)&&(e(t.or,n),function(e){for(var t in e)a=t,function(e){return void 0===e}(r=e[t])||"or"===a||"and"===a||(n[a]=r);var r,a}(t),e(t.and,n)),n};tt.Provider=Ur.Provider,tt.connect=function(e){return $r("connect","useUnit"),function(t){var n=e;return"function"!=typeof e&&(n=t,t=e),Cr("Connect("+(n.displayName||n.name||"Unknown")+")",(function(e){return Vr.createElement(n,Object.assign({},e,_r(t)))}))}},tt.createComponent=Pr,tt.createGate=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ar(Ir(Mr,t))},tt.createStoreConsumer=function(e){return $r("createStoreConsumer","useUnit"),Pr(e,(function(e,t){return(0,e.children)(t)}))},tt.useEvent=function(e,t){return function(e,t){if(Br(1,"useEvent","useUnit"),!t)return e;var n=zr.is.unit(e)||"object"!=typeof e?{event:e}:e;return Vr.useMemo((function(){if(zr.is.unit(e))return zr.scopeBind(e,{scope:t});var n=Array.isArray(e)?[]:{};for(var r in e)n[r]=zr.scopeBind(e[r],{scope:t});return n}),[t].concat(Object.keys(n),Object.values(n)))}(e,Rr(null==t?void 0:t.forceScope))},tt.useGate=function(e,t,n){return void 0===t&&(t={}),Mr(e,t,Rr(null==n?void 0:n.forceScope))},tt.useList=function(e,t,n){return function(e,t,n){var r,a,o,i=[];"object"==typeof t&&null!==t?(t.keys&&(i=t.keys),r=t.fn,a=t.getKey,o=t.placeholder):r=t,zr.is.store(e)||qr("expect useList first argument to be a store"),"function"!=typeof r&&qr("expect useList's renderItem to be a function"),Array.isArray(i)||qr("expect useList's keys to be an array");var s=Vr.useMemo((function(){var t=Cr((e.shortName||"Unknown")+".Item",(function(t){var r=t.index,a=t.keys;if(l.current[1])return l.current[0](t.value,t.keyVal);var o=Or([{store:e,keys:[r].concat(a),fn:function(e,t){return e[t[0]]}}],n);return l.current[0](o,r)}));return Vr.memo(t)}),[e,n,!!a]),l=Vr.useRef([r,a]);l.current=[r,a];var c=Vr.useMemo((function(){return i}),i);if(a){var u=Er(e,n);return 0===u.length&&o?o:u.map((function(e){var t=l.current[1](e);return Vr.createElement(s,{keyVal:t,key:t,keys:c,value:e})}))}var d=Or([{store:e,keys:[e],fn:function(e){return e.length}}],n);return 0===d&&o?o:Array.from({length:d},(function(e,t){return Vr.createElement(s,{index:t,key:t,keys:c})}))}(e,t,Rr(null==n?void 0:n.forceScope))},tt.useProvidedScope=function(){return Rr()||null},tt.useStore=_r,tt.useStoreMap=function(e,t){return Or([e,t],Rr(null==e?void 0:e.forceScope))},Ln=tt.useUnit=function(e,t){return Er(e,Rr(null==t?void 0:t.forceScope))};const Xr=F.forwardRef(((t,n)=>{let{className:r}=t,a=I(t,e);return V.jsx("div",D({ref:n,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",r)},a))}));Xr.displayName="Card";F.forwardRef(((e,n)=>{let{className:r}=e,a=I(e,t);return V.jsx("div",D({ref:n,className:q("flex flex-col space-y-1.5 p-6",r)},a))})).displayName="CardHeader";F.forwardRef(((e,t)=>{let{className:r}=e,a=I(e,n);return V.jsx("h3",D({ref:t,className:q("text-2xl font-semibold tracking-tight",r)},a))})).displayName="CardTitle";F.forwardRef(((e,t)=>{let{className:n}=e,a=I(e,r);return V.jsx("p",D({ref:t,className:q("text-sm text-muted-foreground",n)},a))})).displayName="CardDescription";F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,a);return V.jsx("div",D({ref:t,className:q("p-6 pt-0",n)},r))})).displayName="CardContent";F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,o);return V.jsx("div",D({ref:t,className:q("flex items-center p-6 pt-0",n)},r))})).displayName="CardFooter";const Yr=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,i);return V.jsx("textarea",D({className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},r))}));Yr.displayName="Textarea";const Jr=e=>{let{children:t}=e,n=I(e,s);const r=H(B);return V.jsxs("span",D(D({},n),{},{children:[t,K.format.dateTime(r,{format:"time",asTime:!0})]}))},Qr=e=>{const[t,n]=F.useState(!!e);return[t,F.useCallback((()=>n((e=>!e))),[]),n]},ea=W("flex rounded-md border border-input bg-background ring-offset-background file:border-0 file:bg-transparent placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{default:"h-10 w-full px-3 py-2 text-sm file:text-sm file:font-medium",sm:"h-8 w-full px-1.5 text-sm file:text-sm file:font-medium"}},defaultVariants:{size:"default"}}),ta=F.forwardRef(((e,t)=>{let{className:n,type:r,size:a}=e,o=I(e,l);return V.jsx("input",D({type:r,className:q(ea({size:a,className:n})),ref:t},o))}));ta.displayName="Input";const na=F.forwardRef(((e,t)=>F.createElement(U.label,$({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))),ra=W("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),aa=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,c);return V.jsx(na,D({ref:t,className:q(ra(),n)},r))}));aa.displayName=na.displayName;const oa=({className:e})=>{const[t,,n]=Qr(!1),r=F.useRef(null);return F.useLayoutEffect((()=>{var e;t||(null===(e=r.current)||void 0===e||e.reset())}),[t]),V.jsxs(G,{open:t,onOpenChange:n,children:[V.jsx(Z,{asChild:!0,children:V.jsx(X,{variant:"ghost",size:"icon",className:Y("h-7 w-7",e),children:V.jsx(A,{className:"h-4 w-4"})})}),V.jsxs(J,{className:"sm:max-w-[425px]",children:[V.jsx(Q,{children:V.jsx(ee,{children:"Ручное добавление лога"})}),V.jsxs("form",{ref:r,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const t=r.current,a=Object.fromEntries(new FormData(t));console.info("fff",a);const[o,i]=a.time.split(":"),s=+o*ae(1,"hour")+ +i*ae(1,"min"),l=new Date(a.date).toISOString();te({startDate:l,spentTime:s,meta:a.description||""}),t.reset(),n(!1),ne({type:"success",message:"Лог добавлен!"})},children:[V.jsx("div",{className:"grid gap-4 py-4",children:V.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[V.jsx(aa,{htmlFor:"date",className:"text-right",children:"Дата"}),V.jsx(ta,{id:"date",name:"date",type:"date",required:!0,className:"col-span-3"})]})}),V.jsx("div",{className:"grid gap-4 py-4",children:V.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[V.jsx(aa,{htmlFor:"time",className:"text-right",children:"Время"}),V.jsx(ta,{id:"time",name:"time",type:"time",required:!0,className:"col-span-3"})]})}),V.jsxs("div",{className:"grid gap-4 py-4",children:[V.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:V.jsx(aa,{htmlFor:"description",className:"text-right",children:"Описание"})}),V.jsx(Yr,{id:"description",name:"description"})]}),V.jsx(re,{children:V.jsx(X,{type:"submit",children:"Создать"})})]})]})]})},ia=({className:e})=>{var t;const n=Ln(oe),r=Ln(ie),a=Ln({finishActiveLog:se,continueActiveLog:le,pauseActiveLog:ce,createActiveLog:ue});return V.jsxs(Xr,{className:Y("flex flex-col items-center justify-center gap-2 p-4",e),children:[V.jsxs("h1",{className:"inline-flex w-full flex-1 text-xl font-semibold",children:["Трекер",r.value?` (${r.value.projectName})`:"",V.jsx(oa,{className:"ml-auto"})]}),V.jsx(Yr,{value:(null===(t=r.value)||void 0===t?void 0:t.meta)||"",onChange:e=>r.update({meta:e.target.value}),className:"!h-[40px]",placeholder:"Чем занимаешься?",disabled:!r.value}),V.jsx("div",{className:"mt-4 flex w-full flex-row items-center gap-2",children:r.value?V.jsxs(V.Fragment,{children:[V.jsx(Jr,{className:"relative mr-auto flex items-center text-2xl font-bold "+("paused"===r.value.status?"text-reverse":"text-destructive"),children:"active"===r.value.status&&V.jsx(V.Fragment,{children:V.jsxs("span",{className:"relative mr-2 flex h-4 w-4",children:[V.jsx("span",{className:"absolute block h-full w-full animate-ping rounded-full bg-destructive opacity-75"}),V.jsx("span",{className:"relative block h-4 w-4 rounded-full bg-destructive"})]})})}),V.jsx(X,{variant:(r.value.status,"destructive"),disabled:"active"===r.value.status,onClick:a.finishActiveLog,children:"ЗАВЕРШИТЬ"}),"paused"===r.value.status?V.jsx(X,{style:{width:150},variant:"default",onClick:a.continueActiveLog,children:"ПРОДОЛЖИТЬ"}):V.jsx(X,{style:{width:150},variant:"outline",onClick:a.pauseActiveLog,children:"ПАУЗА"})]}):V.jsx(X,{disabled:!n.value,className:"ml-auto",onClick:()=>{var e;return a.createActiveLog({meta:"",lastTickDate:null,startDate:(new Date).toISOString(),spentTime:0,projectName:(null===(e=n.value)||void 0===e?void 0:e.name)||"",status:"active"})},children:"ПРИСТУПИТЬ К РАБОТЕ"})})]})};function sa(e,[t,n]){return Math.min(n,Math.max(t,e))}const la=F.createContext(void 0);const ca=[" ","Enter","ArrowUp","ArrowDown"],ua=[" ","Enter"],da="Select",[fa,pa,ma]=function(e){const t=e+"CollectionProvider",[n,r]=de(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=e+"CollectionSlot",s=e+"CollectionItemSlot",l="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:n}=e,r=fe.useRef(null),o=fe.useRef(new Map).current;return fe.createElement(a,{scope:t,itemMap:o,collectionRef:r},n)},Slot:fe.forwardRef(((e,t)=>{const{scope:n,children:r}=e,a=o(i,n),s=pe(t,a.collectionRef);return fe.createElement(me,{ref:s},r)})),ItemSlot:fe.forwardRef(((e,t)=>{const{scope:n,children:r}=e,a=I(e,u),i=fe.useRef(null),c=pe(t,i),d=o(s,n);return fe.useEffect((()=>(d.itemMap.set(i,D({ref:i},a)),()=>{d.itemMap.delete(i)}))),fe.createElement(me,{[l]:"",ref:c},r)}))},function(t){const n=o(e+"CollectionConsumer",t),r=fe.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${l}]`)),r=Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return r}),[n.collectionRef,n.itemMap]);return r},r]}(da),[va,ha]=de(da,[ma,ve]),ga=ve(),[ya,xa]=va(da),[ba,wa]=va(da),ja=F.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:r=!1}=e,a=I(e,d),o=ga(n),i=xa("SelectTrigger",n),s=i.disabled||r,l=pe(t,i.onTriggerChange),c=pa(n),[u,f,p]=to((e=>{const t=c().filter((e=>!e.disabled)),n=t.find((e=>e.value===i.value)),r=no(t,e,n);void 0!==r&&i.onValueChange(r.value)})),m=()=>{s||(i.onOpenChange(!0),p())};return F.createElement(he,$({asChild:!0},o),F.createElement(U.button,$({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Qa(i.value)?"":void 0},a,{ref:l,onClick:ge(a.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:ge(a.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(m(),i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:ge(a.onKeyDown,(e=>{const t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||ca.includes(e.key)&&(m(),e.preventDefault())}))})))})),Sa=F.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:i=""}=e,s=I(e,f),l=xa("SelectValue",n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==o,d=pe(t,l.onValueNodeChange);return ye((()=>{c(u)}),[c,u]),F.createElement(U.span,$({},s,{ref:d,style:{pointerEvents:"none"}}),Qa(l.value)?F.createElement(F.Fragment,null,i):o)})),Na=F.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r}=e,a=I(e,p);return F.createElement(U.span,$({"aria-hidden":!0},a,{ref:t}),r||"▼")})),ka="SelectContent",Ca=F.forwardRef(((e,t)=>{const n=xa(ka,e.__scopeSelect),[r,a]=F.useState();if(ye((()=>{a(new DocumentFragment)}),[]),!n.open){const t=r;return t?xe.createPortal(F.createElement(Oa,{scope:e.__scopeSelect},F.createElement(fa.Slot,{scope:e.__scopeSelect},F.createElement("div",null,e.children))),t):null}return F.createElement(Ra,$({},e,{ref:t}))})),Ea=10,[Oa,Ma]=va(ka),Ra=F.forwardRef(((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:h,avoidCollisions:g}=e,y=I(e,m),x=xa(ka,n),[b,w]=F.useState(null),[j,S]=F.useState(null),N=pe(t,(e=>w(e))),[k,C]=F.useState(null),[E,O]=F.useState(null),M=pa(n),[R,_]=F.useState(!1),P=F.useRef(!1);F.useEffect((()=>{if(b)return be(b)}),[b]),we();const A=F.useCallback((e=>{const[t,...n]=M().map((e=>e.ref.current)),[r]=n.slice(-1),a=document.activeElement;for(const o of e){if(o===a)return;if(null==o||o.scrollIntoView({block:"nearest"}),o===t&&j&&(j.scrollTop=0),o===r&&j&&(j.scrollTop=j.scrollHeight),null==o||o.focus(),document.activeElement!==a)return}}),[M,j]),T=F.useCallback((()=>A([k,b])),[A,k,b]);F.useEffect((()=>{R&&T()}),[R,T]);const{onOpenChange:z,triggerPointerDownPosRef:L}=x;F.useEffect((()=>{if(b){let e={x:0,y:0};const t=t=>{var n,r,a,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=L.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(o=L.current)||void 0===o?void 0:o.y)&&void 0!==a?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||z(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[b,z,L]),F.useEffect((()=>{const e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[z]);const[V,q]=to((e=>{const t=M().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=no(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),H=F.useCallback(((e,t,n)=>{const r=!P.current&&!n;(void 0!==x.value&&x.value===t||r)&&(C(e),r&&(P.current=!0))}),[x.value]),B=F.useCallback((()=>null==b?void 0:b.focus()),[b]),K=F.useCallback(((e,t,n)=>{const r=!P.current&&!n;(void 0!==x.value&&x.value===t||r)&&O(e)}),[x.value]),W="popper"===r?Pa:_a,U=W===Pa?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:h,avoidCollisions:g}:{};return F.createElement(Oa,{scope:n,content:b,viewport:j,onViewportChange:S,itemRefCallback:H,selectedItem:k,onItemLeave:B,itemTextRefCallback:K,focusSelectedItem:T,selectedItemText:E,position:r,isPositioned:R,searchRef:V},F.createElement(je,{as:me,allowPinchZoom:!0},F.createElement(Se,{asChild:!0,trapped:x.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ge(a,(e=>{var t;null===(t=x.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}))},F.createElement(Ne,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},F.createElement(W,$({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:e=>e.preventDefault()},y,U,{onPlaced:()=>_(!0),ref:N,style:D({display:"flex",flexDirection:"column",outline:"none"},y.style),onKeyDown:ge(y.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=M().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>A(t))),e.preventDefault()}}))}))))))})),_a=F.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:r}=e,a=I(e,v),o=xa(ka,n),i=Ma(ka,n),[s,l]=F.useState(null),[c,u]=F.useState(null),d=pe(t,(e=>u(e))),f=pa(n),p=F.useRef(!1),m=F.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=i,b=F.useCallback((()=>{if(o.trigger&&o.valueNode&&s&&c&&h&&g&&y){const e=o.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),a=y.getBoundingClientRect();if("rtl"!==o.dir){const r=a.left-t.left,o=n.left-r,i=e.left-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-Ea,d=sa(o,[Ea,u-c]);s.style.minWidth=l+"px",s.style.left=d+"px"}else{const r=t.right-a.right,o=window.innerWidth-n.right-r,i=window.innerWidth-e.right-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-Ea,d=sa(o,[Ea,u-c]);s.style.minWidth=l+"px",s.style.right=d+"px"}const i=f(),l=window.innerHeight-2*Ea,u=h.scrollHeight,d=window.getComputedStyle(c),m=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),x=parseInt(d.borderBottomWidth,10),b=m+v+u+parseInt(d.paddingBottom,10)+x,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(h),S=parseInt(j.paddingTop,10),N=parseInt(j.paddingBottom,10),k=e.top+e.height/2-Ea,C=l-k,E=g.offsetHeight/2,O=m+v+(g.offsetTop+E),M=b-O;if(O<=k){const e=g===i[i.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-h.offsetTop-h.offsetHeight,n=O+Math.max(C,E+(e?N:0)+t+x);s.style.height=n+"px"}else{const e=g===i[0].ref.current;s.style.top="0px";const t=Math.max(k,m+h.offsetTop+(e?S:0)+E)+M;s.style.height=t+"px",h.scrollTop=O-k+h.offsetTop}s.style.margin=`${Ea}px 0`,s.style.minHeight=w+"px",s.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame((()=>p.current=!0))}}),[f,o.trigger,o.valueNode,s,c,h,g,y,o.dir,r]);ye((()=>b()),[b]);const[w,j]=F.useState();ye((()=>{c&&j(window.getComputedStyle(c).zIndex)}),[c]);const S=F.useCallback((e=>{e&&!0===m.current&&(b(),null==x||x(),m.current=!1)}),[b,x]);return F.createElement(Da,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:S},F.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},F.createElement(U.div,$({},a,{ref:d,style:D({boxSizing:"border-box",maxHeight:"100%"},a.style)}))))})),Pa=F.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ea}=e,o=I(e,h),i=ga(n);return F.createElement(Me,$({},i,o,{ref:t,align:r,collisionPadding:a,style:D(D({boxSizing:"border-box"},o.style),{},{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))})),[Da,Aa]=va(ka,{}),Ia="SelectViewport",Ta=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,g),a=Ma(Ia,n),o=Aa(Ia,n),i=pe(t,a.onViewportChange),s=F.useRef(0);return F.createElement(F.Fragment,null,F.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),F.createElement(fa.Slot,{scope:n},F.createElement(U.div,$({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:D({position:"relative",flex:1,overflow:"auto"},r.style),onScroll:ge(r.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(null!=r&&r.current&&n){const e=Math.abs(s.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Ea,a=parseFloat(n.style.minHeight),o=parseFloat(n.style.height),i=Math.max(a,o);if(i<r){const a=i+e,o=Math.min(r,a),s=a-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}s.current=t.scrollTop}))}))))})),[za,La]=va("SelectGroup"),Fa=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,y),a=La("SelectLabel",n);return F.createElement(U.div,$({id:a.id},r,{ref:t}))})),Va="SelectItem",[qa,Ha]=va(Va),Ba=F.forwardRef(((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o}=e,i=I(e,x),s=xa(Va,n),l=Ma(Va,n),c=s.value===r,[u,d]=F.useState(null!=o?o:""),[f,p]=F.useState(!1),m=pe(t,(e=>{var t;return null===(t=l.itemRefCallback)||void 0===t?void 0:t.call(l,e,r,a)})),v=ke(),h=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return F.createElement(qa,{scope:n,value:r,disabled:a,textId:v,isSelected:c,onItemTextChange:F.useCallback((e=>{d((t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()}))}),[])},F.createElement(fa.ItemSlot,{scope:n,value:r,disabled:a,textValue:u},F.createElement(U.div,$({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i,{ref:m,onFocus:ge(i.onFocus,(()=>p(!0))),onBlur:ge(i.onBlur,(()=>p(!1))),onPointerUp:ge(i.onPointerUp,h),onPointerMove:ge(i.onPointerMove,(e=>{var t;a?null===(t=l.onItemLeave)||void 0===t||t.call(l):e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:ge(i.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null===(t=l.onItemLeave)||void 0===t||t.call(l))})),onKeyDown:ge(i.onKeyDown,(e=>{var t;""!==(null===(t=l.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(ua.includes(e.key)&&h()," "===e.key&&e.preventDefault())}))}))))})),Ka="SelectItemText",Wa=F.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:a}=e,o=I(e,b),i=xa(Ka,n),s=Ma(Ka,n),l=Ha(Ka,n),c=wa(Ka,n),[u,d]=F.useState(null),f=pe(t,(e=>d(e)),l.onItemTextChange,(e=>{var t;return null===(t=s.itemTextRefCallback)||void 0===t?void 0:t.call(s,e,l.value,l.disabled)})),p=null==u?void 0:u.textContent,m=F.useMemo((()=>F.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p)),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:h}=c;return ye((()=>(v(m),()=>h(m))),[v,h,m]),F.createElement(F.Fragment,null,F.createElement(U.span,$({id:l.textId},o,{ref:f})),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?xe.createPortal(o.children,i.valueNode):null)})),Ua=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,w);return Ha("SelectItemIndicator",n).isSelected?F.createElement(U.span,$({"aria-hidden":!0},r,{ref:t})):null})),$a="SelectScrollUpButton",Ga=F.forwardRef(((e,t)=>{const n=Ma($a,e.__scopeSelect),r=Aa($a,e.__scopeSelect),[a,o]=F.useState(!1),i=pe(t,r.onScrollButtonChange);return ye((()=>{if(n.viewport&&n.isPositioned){const e=n.viewport;function t(){const t=e.scrollTop>0;o(t)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[n.viewport,n.isPositioned]),a?F.createElement(Ya,$({},e,{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null})),Za="SelectScrollDownButton",Xa=F.forwardRef(((e,t)=>{const n=Ma(Za,e.__scopeSelect),r=Aa(Za,e.__scopeSelect),[a,o]=F.useState(!1),i=pe(t,r.onScrollButtonChange);return ye((()=>{if(n.viewport&&n.isPositioned){const e=n.viewport;function t(){const t=e.scrollHeight-e.clientHeight,n=Math.ceil(e.scrollTop)<t;o(n)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[n.viewport,n.isPositioned]),a?F.createElement(Ya,$({},e,{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null})),Ya=F.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:r}=e,a=I(e,j),o=Ma("SelectScrollButton",n),i=F.useRef(null),s=pa(n),l=F.useCallback((()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)}),[]);return F.useEffect((()=>()=>l()),[l]),ye((()=>{var e;const t=s().find((e=>e.ref.current===document.activeElement));null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})}),[s]),F.createElement(U.div,$({"aria-hidden":!0},a,{ref:t,style:D({flexShrink:0},a.style),onPointerDown:ge(a.onPointerDown,(()=>{null===i.current&&(i.current=window.setInterval(r,50))})),onPointerMove:ge(a.onPointerMove,(()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===i.current&&(i.current=window.setInterval(r,50))})),onPointerLeave:ge(a.onPointerLeave,(()=>{l()}))}))})),Ja=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,S);return F.createElement(U.div,$({"aria-hidden":!0},r,{ref:t}))}));function Qa(e){return""===e||void 0===e}const eo=F.forwardRef(((e,t)=>{const{value:n}=e,r=I(e,N),a=F.useRef(null),o=pe(t,a),i=function(e){const t=F.useRef({value:e,previous:e});return F.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(n);return F.useEffect((()=>{const e=a.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(i!==n&&r){const t=new Event("change",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}}),[i,n]),F.createElement(Ce,{asChild:!0},F.createElement("select",$({},r,{ref:o,defaultValue:n})))}));function to(e){const t=Ee(e),n=F.useRef(""),r=F.useRef(0),a=F.useCallback((e=>{const a=n.current+e;t(a),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(a)}),[t]),o=F.useCallback((()=>{n.current="",window.clearTimeout(r.current)}),[]);return F.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[n,a,o]}function no(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,a=n?e.indexOf(n):-1;let o=(i=e,s=Math.max(a,0),i.map(((e,t)=>i[(s+t)%i.length])));var i,s;1===r.length&&(o=o.filter((e=>e!==n)));const l=o.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}eo.displayName="BubbleSelect";const ro=ja,ao=Na,oo=e=>F.createElement(Oe,$({asChild:!0},e)),io=Ca,so=Ta,lo=Fa,co=Ba,uo=Wa,fo=Ua,po=Ga,mo=Xa,vo=Ja,ho=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p}=e,m=ga(t),[v,h]=F.useState(null),[g,y]=F.useState(null),[x,b]=F.useState(!1),w=function(e){const t=F.useContext(la);return e||t||"ltr"}(c),[j=!1,S]=Re({prop:r,defaultProp:a,onChange:o}),[N,k]=Re({prop:i,defaultProp:s,onChange:l}),C=F.useRef(null),E=!v||Boolean(v.closest("form")),[O,M]=F.useState(new Set),R=Array.from(O).map((e=>e.props.value)).join(";");return F.createElement(_e,m,F.createElement(ya,{required:p,scope:t,trigger:v,onTriggerChange:h,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:x,onValueNodeHasChildrenChange:b,contentId:ke(),value:N,onValueChange:k,open:j,onOpenChange:S,dir:w,triggerPointerDownPosRef:C,disabled:f},F.createElement(fa.Provider,{scope:t},F.createElement(ba,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback((e=>{M((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:F.useCallback((e=>{M((t=>{const n=new Set(t);return n.delete(e),n}))}),[])},n)),E?F.createElement(eo,{key:R,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:N,onChange:e=>k(e.target.value),disabled:f},void 0===N?F.createElement("option",{value:""}):null,Array.from(O)):null))},go=Sa,yo=F.forwardRef(((e,t)=>{let{className:n,children:r}=e,a=I(e,k);return V.jsxs(ro,D(D({ref:t,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},a),{},{children:[r,V.jsx(ao,{asChild:!0,children:V.jsx(Ue,{className:"h-4 w-4 opacity-50"})})]}))}));yo.displayName=ro.displayName;const xo=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,C);return V.jsx(po,D(D({ref:t,className:q("flex cursor-default items-center justify-center py-1",n)},r),{},{children:V.jsx($e,{className:"h-4 w-4"})}))}));xo.displayName=po.displayName;const bo=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,E);return V.jsx(mo,D(D({ref:t,className:q("flex cursor-default items-center justify-center py-1",n)},r),{},{children:V.jsx(Ue,{className:"h-4 w-4"})}))}));bo.displayName=mo.displayName;const wo=F.forwardRef(((e,t)=>{let{className:n,children:r,position:a="popper"}=e,o=I(e,O);return V.jsx(oo,{children:V.jsxs(io,D(D({ref:t,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:a},o),{},{children:[V.jsx(xo,{}),V.jsx(so,{className:q("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),V.jsx(bo,{})]}))})}));wo.displayName=io.displayName;F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,M);return V.jsx(lo,D({ref:t,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},r))})).displayName=lo.displayName;const jo=F.forwardRef(((e,t)=>{let{className:n,children:r}=e,a=I(e,R);return V.jsxs(co,D(D({ref:t,className:q("relative flex w-full cursor-default items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},a),{},{children:[V.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:V.jsx(fo,{children:V.jsx(We,{className:"h-4 w-4"})})}),V.jsx(uo,{children:r})]}))}));jo.displayName=co.displayName;F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,_);return V.jsx(vo,D({ref:t,className:q("-mx-1 my-1 h-px bg-muted",n)},r))})).displayName=vo.displayName;const So=()=>{var e;const t=Ln(Pe),n=Ln(oe),r=Ln(De);return V.jsxs(ho,{value:null===(e=n.value)||void 0===e?void 0:e.name,disabled:t.empty,onValueChange:e=>r(t.value.find((t=>t.name===e))),children:[V.jsx(yo,{className:"max-w-[250px]",children:V.jsx(go,{placeholder:"Выберите проект..."})}),V.jsx(wo,{children:t.value.map((e=>V.jsx(jo,{value:e.name||"-",children:e.name||"-"},e.name)))})]})},No=()=>{const[e,,t]=Qr(!1),n=F.useRef(null);return F.useLayoutEffect((()=>{var t;e||(null===(t=n.current)||void 0===t||t.reset())}),[e]),V.jsxs(G,{open:e,onOpenChange:t,children:[V.jsx(Z,{asChild:!0,children:V.jsx(X,{variant:"outline",size:"icon",className:"shrink-0",children:V.jsx(Xe,{className:"h-4 w-4"})})}),V.jsxs(J,{className:"sm:max-w-[425px]",children:[V.jsxs(Q,{children:[V.jsx(ee,{children:"Создание проекта"}),V.jsx(Ae,{children:"Создавай давай"})]}),V.jsxs("form",{ref:n,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const r=n.current,a=Object.fromEntries(new FormData(r));Ie({logs:[],rate:0,name:a.name}),r.reset(),t(!1),ne({type:"success",message:"Проект успешно сделан!"})},children:[V.jsx("div",{className:"grid gap-4 py-4",children:V.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[V.jsx(aa,{htmlFor:"name",className:"text-right",children:"Имя"}),V.jsx(ta,{id:"name",name:"name",required:!0,className:"col-span-3"})]})}),V.jsx(re,{children:V.jsx(X,{type:"submit",children:"Создать"})})]})]})]})},ko=()=>{const e=H(Te);return V.jsx(X,{variant:"outline",size:"icon",className:"shrink-0",onClick:e,children:V.jsx(Ge,{className:"h-4 w-4"})})},Co=({index:e,onDelete:t})=>{const[n,,r]=Qr(!1),[a]=H([ze]),o=F.useRef(null);return F.useLayoutEffect((()=>{var e;n||(null===(e=o.current)||void 0===e||e.reset())}),[n]),V.jsxs(G,{open:n,onOpenChange:r,children:[V.jsx(Z,{asChild:!0,children:V.jsx(X,{className:"mt-auto h-5 w-5",size:"icon",variant:"destructive",children:V.jsx(Qe,{className:"h-3 w-3"})})}),V.jsxs(J,{className:"sm:max-w-[425px]",children:[V.jsxs(Q,{children:[V.jsx(ee,{children:"Удаление лога"}),V.jsx(Ae,{children:"Нужно подтвердить удаление"})]}),V.jsx("form",{ref:o,onSubmit:n=>{n.preventDefault(),n.stopPropagation();const i=o.current;a({index:e}),i.reset(),t(),r(!1),ne({type:"success",message:"Лог удалён!"})},children:V.jsxs(re,{children:[V.jsx(X,{type:"submit",variant:"destructive",children:"УДАЛИТЬ"}),V.jsx(X,{type:"button",variant:"ghost",onClick:()=>{r(!1)},children:"НЕ НАДО"})]})})]})]})};const Eo=e=>Ve(e).replace(/(https?:\/\/[-a-zA-Z0-9@:%._\\+~#?&//=]*)/g,(e=>`<a href="${e}" target="_blank" rel="nofollow" class="text-link">${e}</a>`)),Oo=({log:e,index:t})=>{const[n,r,a]=Qr(!1),[o]=H([Le]),[i,s]=F.useState(e.meta),[l,c]=F.useState((()=>{const t=K.parser.msDuration(e.spentTime);return{hours:t.hours,minutes:t.minutes}}));return F.useLayoutEffect((()=>{if(!n){const t=K.parser.msDuration(e.spentTime);s(e.meta),c({hours:t.hours,minutes:t.minutes})}}),[e,n]),V.jsx(V.Fragment,{children:V.jsxs("div",{className:"group relative my-1 select-text","data-active":n||void 0,children:[V.jsx("div",{className:"absolute left-0 top-0 h-full w-1 select-text rounded-sm "+(n?"bg-reverse/70":"bg-accent")}),V.jsx("span",{className:"ml-3 select-text text-sm text-foreground/70",children:K.format.dateTime(e.startDate,{format:"dddd, D, HH:mm A"})}),V.jsx("span",{className:"ml-1 inline-flex select-text text-sm text-foreground/70 "+(n?"mb-1.5":""),children:n?V.jsx(ta,{size:"sm",type:"time",className:"h-6.5 px-1.5 font-semibold text-foreground",value:`${l.hours.toString().padStart(2,"0")}:${l.minutes.toString().padStart(2,"0")}`,onChange:e=>{const[t,n]=e.target.value.split(":");c({hours:+t||0,minutes:+n||0})}}):V.jsx(V.Fragment,{children:V.jsx("span",{className:"select-text font-semibold text-foreground",children:K.format.dateTime(e.spentTime,{format:"time-short",asTime:!0})})})}),n?V.jsx(Yr,{className:"ml-3",value:i,onChange:e=>s(e.target.value)}):V.jsx("div",{className:"ml-3 select-text",dangerouslySetInnerHTML:{__html:Eo(i)}}),V.jsx("div",{className:"absolute -left-6 top-0 flex flex-col gap-2 opacity-10 group-hover:opacity-100 group-data-[active]:opacity-100",children:n?V.jsxs(V.Fragment,{children:[V.jsx(X,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:r,children:V.jsx(Fe,{className:"h-3 w-3"})}),V.jsx(X,{size:"icon",variant:"positive",className:"mb-4 h-5 w-5",onClick:()=>{o(D(D({},e),{},{meta:i,index:t,spentTime:l.hours*ae(1,"hour")+l.minutes*ae(1,"min")})),r()},children:V.jsx(Ye,{className:"h-3 w-3"})}),V.jsx(Co,{index:t,onDelete:()=>a(!1)})]}):V.jsx(V.Fragment,{children:V.jsx(X,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:r,children:V.jsx(Je,{className:"h-3 w-3"})})})})]})})},Mo=()=>{const e=qe(oe.$value,(e=>{if(!e)return null;if(!e.logs.length)return[];const t={};return e.logs.slice().map(((e,t)=>D(D({},e),{},{index:t}))).sort(((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime())).forEach((e=>{const n=K.format.dateTime(e.startDate,{format:"month"});t[n]||(t[n]={label:n,logs:[]}),t[n].logs.push(e)})),Object.values(t)}));return e?e.length?V.jsx("div",{className:"max-w-[540px] select-text",children:e.map((e=>V.jsxs("div",{className:"relative select-text py-4",children:[V.jsx("h1",{className:"mb-2 select-text text-lg",children:e.label}),V.jsx("div",{className:"flex select-text flex-col",children:e.logs.map(((e,t)=>V.jsx(Oo,{log:e,index:e.index},t)))})]},e.label)))}):V.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Нет логов"}):V.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Проект не выбран"})},Ro=()=>{const e=H(He);return e?V.jsx("div",{className:"select-text p-1 text-sm font-semibold",children:e}):null},_o=()=>{const e=H(oe);return e.value?V.jsx(ta,{type:"number",placeholder:"0",className:"max-w-[140px]",value:e.value.rate||"",onChange:t=>{e.update({rate:+t.target.value||0})}}):null},Po=()=>{const[e,,t]=Qr(!1),n=F.useRef(null);return F.useLayoutEffect((()=>{var t;e||(null===(t=n.current)||void 0===t||t.reset())}),[e]),V.jsxs(G,{open:e,onOpenChange:t,children:[V.jsx(Z,{asChild:!0,children:V.jsx(X,{variant:"outline",size:"icon",className:"shrink-0",children:V.jsx(Ze,{className:"h-4 w-4"})})}),V.jsxs(J,{className:"sm:max-w-[425px]",children:[V.jsxs(Q,{children:[V.jsx(ee,{children:"Сброс данных по трекингу"}),V.jsx(Ae,{children:"Все логи по текущему проекту будут удалены"})]}),V.jsx("form",{ref:n,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const r=n.current;oe.update({logs:[]}),r.reset(),t(!1),ne({type:"success",message:"Всё сброшено!"})},children:V.jsx(re,{children:V.jsx(X,{type:"submit",children:"ОК"})})})]})]})};P("HomePage",(()=>{const e=H(Ke);return V.jsx(Be,{className:"flex flex-col",children:V.jsxs("div",{children:[V.jsxs("div",{className:"flex flex-row justify-between",children:[V.jsxs("div",{children:[V.jsx("span",{className:"text-xs text-muted-foreground",children:"проект:"}),V.jsxs("div",{className:"flex w-[260px] flex-row gap-2",children:[V.jsx(So,{}),V.jsx(No,{})]})]}),V.jsxs("div",{children:[V.jsx("span",{className:"text-xs text-muted-foreground",children:"ставка:"}),V.jsx(_o,{})]})]}),V.jsx(ia,{className:"mb-6 mr-auto mt-10 w-full"}),e&&V.jsxs("div",{className:"mb-4 flex flex-row justify-end gap-2",children:[V.jsx(Po,{}),V.jsx(ko,{})]}),V.jsx(Ro,{}),V.jsx(Mo,{})]})})}))}}}))}();
