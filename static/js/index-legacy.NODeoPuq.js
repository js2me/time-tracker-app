!function(){const e=["className"],t=["className"],r=["className"],n=["className"],a=["className"],o=["className"],i=["className"],s=["children"],l=["className","type","size"],c=["className"],u=["scope","children"],d=["__scopeSelect","disabled"],f=["__scopeSelect","className","style","children","placeholder"],p=["__scopeSelect","children"],m=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],v=["__scopeSelect","onPlaced"],h=["__scopeSelect","align","collisionPadding"],g=["__scopeSelect"],y=["__scopeSelect"],b=["__scopeSelect","value","disabled","textValue"],x=["__scopeSelect","className","style"],w=["__scopeSelect"],S=["__scopeSelect","onAutoScroll"],j=["__scopeSelect"],k=["value"],N=["className","children"],C=["className"],E=["className"],O=["className","children","position"],R=["className"],M=["className","children"],_=["className"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}System.register(["./__entry__-legacy.u4XUSYAG.js"],(function(P,A){"use strict";var T,z,L,F,q,V,B,H,K,W,U,$,G,X,Y,Z,J,Q,ee,te,re,ne,ae,oe,ie,se,le,ce,ue,de,fe,pe,me,ve,he,ge,ye,be,xe,we,Se,je,ke,Ne,Ce,Ee,Oe,Re,Me,_e,Pe,De,Ae,Ie,Te,ze,Le,Fe,qe,Ve;return{setters:[e=>{T=e.c,z=e.s,L=e.w,F=e.r,q=e.j,V=e.a,B=e.b,H=e.$,K=e.h,W=e.d,U=e.e,$=e._,G=e.D,X=e.f,Y=e.B,Z=e.t,J=e.g,Q=e.i,ee=e.k,te=e.l,re=e.m,ne=e.n,ae=e.o,oe=e.p,ie=e.q,se=e.u,le=e.v,ce=e.x,ue=e.y,de=e.z,fe=e.A,pe=e.C,me=e.E,ve=e.F,he=e.G,ge=e.H,ye=e.I,be=e.J,xe=e.K,we=e.L,Se=e.M,je=e.N,ke=e.O,Ne=e.P,Ce=e.Q,Ee=e.R,Oe=e.S,Re=e.T,Me=e.U,_e=e.V,Pe=e.W,De=e.X,Ae=e.Y,Ie=e.Z,Te=e.a0,ze=e.a1,Le=e.a2,Fe=e.a3,qe=e.a4,Ve=e.a5}],execute:function(){
/**
       * @license lucide-react v0.308.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const A=T("BadgePlus",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Be=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),He=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ke=T("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),We=T("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ue=T("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),$e=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ge=Object.freeze(Object.defineProperty({__proto__:null,skip:!0},Symbol.toStringTag,{value:"Module"}));
/**
       * @license lucide-react v0.308.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */P("homePageModel",Ge);var Xe={},Ye={};function Ze(e,t){for(var r in e)t(e[r],r)}function Je(e,t){e.forEach(t)}function Qe(e,t,r){if(!e)throw Error((r?r+": ":"")+t)}function et(e,t){var r=St(e).meta||{};Zt={id:St(e).id,parent:Zt,value:e,template:r.template||Qt(),sidRoot:r.sidRoot||Zt&&Zt.sidRoot,meta:r};try{return t()}finally{Jt("region"),Zt=Ot(Zt)}}function tt(e){var t=void 0===e?{}:e,r=t.node,n=void 0===r?[]:r,a=t.parent,o=t.child,i=void 0===o?t.to||t.target:o,s=t.scope,l=void 0===s?{}:s,c=t.meta,u=void 0===c?{}:c,d=t.family,f=void 0===d?{type:"regular"}:d,p=t.regional,m=rr(void 0===a?t.from||t.source:a),v=rr(f.links),h=rr(f.owners),g=[];Je(n,(function(e){return e&&Kt(g,e)}));var y={id:Xt(),seq:g,next:rr(i),meta:u,scope:l,family:{type:f.type||"crosslink",links:v,owners:h}};return Je(v,(function(e){return Kt(jt(e),y)})),Je(h,(function(e){return Kt(kt(e),y)})),Je(m,(function(e){return Kt(e.next,y)})),p&&Zt&&tr(Ct(Zt),[y]),y}function rt(e,t,r){var n,a=qr,o=null,i=Rr;if(e.target&&(t=e.params,r=e.defer,n=e.meta,a="page"in e?e.page:a,e.stack&&(o=e.stack),i=Rt(e)||i,e=e.target),i&&Rr&&i!==Rr&&(Rr=null),Array.isArray(e))for(var s=0;s<e.length;s++)Dr("pure",a,St(e[s]),o,t[s],i,n);else Dr("pure",a,St(e),o,t,i,n);if(!r||zr){var l,c,u,d,f,p,m={isRoot:zr,currentPage:qr,scope:Rr,isWatch:Lr,isPure:Fr};zr=0;for(var v=function(){var e=d.idx,t=d.stack,r=d.type;u=t.node,qr=f=t.page,Rr=Rt(t),f?p=f.reg:Rr&&(p=Rr.reg);var n=!!f,a=!!Rr,o={fail:0,scope:u.scope};l=c=0;for(var i=e;i<u.seq.length&&!l;i++){var s=u.seq[i];if(s.order){var v=s.order,h=v.priority,g=v.barrierID,y=g?f?f.fullID+"_"+g:g:0;if(i!==e||r!==h)return g?Tr.has(y)||(Tr.add(y),Ar(i,t,h,g)):Ar(i,t,h,0),"continue|kernelLoop";g&&Tr.delete(y)}switch(s.type){case"mov":var b=s.data,x=void 0;switch(b.from){case"stack":x=Ct(t);break;case"a":case"b":x=t[b.from];break;case"value":x=b.store;break;case"store":if(p&&!p[b.store.id])if(n){var w=Hr(f,b.store.id);t.page=f=w,w?p=w.reg:a?(Ur(Rr,b.store,0,1,b.softRead),p=Rr.reg):p=void 0}else a&&Ur(Rr,b.store,0,1,b.softRead);x=jr(p&&p[b.store.id]||b.store)}switch(b.to){case"stack":t.value=x;break;case"a":case"b":t[b.to]=x;break;case"store":Kr(f,Rr,b.target,0).current=x}break;case"compute":var S=s.data;if(S.fn){Lr="watch"===u.meta.op,Fr=S.pure;var j=S.safe?(0,S.fn)(Ct(t),o.scope,t):$r(o,S.fn,t);S.filter?c=!j:t.value=j,Lr=m.isWatch,Fr=m.isPure}}l=o.fail||c}if(Mr&&Mr(t,o),!l){var k=Ct(t),N=Rt(t);if(Je(u.next,(function(e){Dr("child",f,e,t,k,N)})),N){u.meta.needFxCounter&&Dr("child",f,N.fxCount,t,k,N),u.meta.storeChange&&Dr("child",f,N.storeChange,t,k,N),u.meta.warnSerialize&&Dr("child",f,N.warnSerializeNode,t,k,N);var C=N.additionalLinks[u.id];C&&Je(C,(function(e){Dr("child",f,e,t,k,N)}))}}};d=Pr();)v();zr=m.isRoot,qr=m.currentPage,Rr=Rt(m)}}function nt(e,t){void 0===t&&(t="combine");var r=t+"(",n="",a=0;return Ze(e,(function(e){a<25&&(null!=e&&(r+=n,r+=Dt(e)?Pt(e).fullName:e.toString()),a+=1,n=", ")})),r+")"}function at(e,t){var r,n,a=e;if(t){var o=Pt(t);0===e.length?(r=o.path,n=o.fullName):(r=o.path.concat([e]),n=0===o.fullName.length?e:o.fullName+"/"+e)}else r=0===e.length?[]:[e],n=e;return{shortName:a,fullName:n,path:r}}function ot(e,t){if(!t)return e;if(!t.name&&!t.named&&!t.loc)return e;var r="["+e+"]",n=t.named||t.name;n&&(r+=" unit '"+n+"'");var a=t.loc;return!n&&a&&(r+=" ("+a.file+":"+a.line+":"+a.column+")"),r}function it(e,t){var r=t?e:e[0];ir(r);var n=r.or,a=r.and;if(a){var o=t?a:a[0];if(nr(o)&&"and"in o){var i=it(a,t);e=i[0],n=Object.assign({},n,i[1])}else e=a}return[e,n]}function st(e){var t=function(){return e()};return t.unsubscribe=function(){return e()},t}function lt(e){var t=Qt();if(t){for(var r=t.handlers[e],n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];if(r)return r.apply(void 0,[t].concat(a))}}function ct(e,t){var r=Gr({or:t,and:"string"==typeof e?{name:e}:e}),n=ot("event",r),a=function e(t){Qe(!Mt(e,"derived"),"call of derived event is not supported, use createEvent instead",n),Qe(!Fr,"unit call from pure function is not supported, use operators like sample instead",n);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return qr?function(e,t,r,n){var a=qr,o=null;if(t)for(o=qr;o&&o.template!==t;)o=Ot(o);Br(o);var i=e.create(r,n);return Br(a),i}(e,o,t,a):e.create(t,a)},o=Qt(),i=Object.assign(a,{graphite:tt({meta:nn(r.actualOp||"event",a,r),regional:1}),create:function(e){return rt({target:a,params:e,scope:Rr}),e},watch:function(e){return tn(a,e)},map:function(e){return an(a,"map",e,[xr()])},filter:function(e){return an(a,"filter",e.fn?e:e.fn,[xr(fr,1)])},filterMap:function(e){return an(a,"filterMap",e,[xr(),yr((function(e){return!or(e)}),1)])},prepend:function(e){Qe(a.targetable,".prepend of derived event is not supported, call source event instead",n);var t=ct("* → "+a.shortName,{parent:Ot(a)});return lt("eventPrepend",St(t)),en(t,a,[xr()],"prepend",e),rn(a,t),t}});return null!=r&&r.domain&&r.domain.hooks.event(i),_t(i,"id",i.graphite.id),Jt(i.graphite),i}function ut(e,t,r,n,a){return lr(r,a+" "+t,"first argument"),Qe(ar(n),"second argument should be a function",a),Wt(!Mt(e,"derived"),t+" in derived store",t+" in store created via createStore",a),Je(Array.isArray(r)?r:[r],(function(t){e.off(t),Et(e).set(t,Qr(sn(t,e,"on",dr,n)))})),e}function dt(e,t){var r=Gr(t),n=Sr(e),a=ot("store",r),o=ct({named:"updates",derived:1});lt("storeBase",n);var i=n.id,s="skipVoid"in r,l=s&&!r.skipVoid;Wt(!(s&&r.skipVoid),"{skipVoid: true}","updateFilter",a);var c={subscribers:new Map,updates:o,defaultState:e,stateRef:n,getState:function(){var e,t=n;if(qr){for(var r=qr;r&&!r.reg[i];)r=Ot(r);r&&(e=r)}return!e&&Rr&&(Ur(Rr,n,1),e=Rr),e&&(t=e.reg[i]),jr(t)},setState:function(e){return rt({target:c,params:e,defer:1,scope:Rr})},reset:function(){Qe(c.targetable,".reset of derived store is not supported",a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Je(t,(function(e){return ut(c,".reset",e,(function(){return c.defaultState}),a)})),c},on:function(e,t){return Qe(c.targetable,".on of derived store is not supported",a),ut(c,".on",e,t,a)},off:function(e){var t=Et(c).get(e);return t&&(t(),Et(c).delete(e)),c},map:function(e,t){var r,a;nr(e)&&(r=e,e=e.fn);var o=c.getState(),i=or(o);Qt()?a=null:(!i||i&&l)&&(a=e(o));var s=dt(a,Object.assign({name:c.shortName+" → *",derived:1},t,{and:r})),u=sn(c,s,"map",fr,e);return kr(Nt(s),{type:"map",fn:e,from:n}),Nt(s).noInit=1,lt("storeMap",n,u),s},watch:function(e,t){if(Wt(!t,"watch second argument","sample",a),!t||!Dt(e)){var r=tn(c,e);return lt("storeWatch",n,e)||e(c.getState()),r}return Qe(ar(t),"second argument should be a function",a),e.watch((function(e){return t(c.getState(),e)}))}},u=nn("store",c,r),d=c.defaultConfig.updateFilter;c.graphite=tt({scope:{state:n,fn:d},node:[yr((function(e,t,r){return r.scope&&!r.scope.reg[n.id]&&(r.b=1),e})),br(n),yr((function(e,t,r){var n=r.a,o=r.b,i=or(e);return i&&!s&&console.error(a+": "+on),(i&&l||!i)&&(e!==n||o)}),1),d&&xr(ur,1),vr({from:"stack",target:n})],child:o,meta:Object.assign({},u,{defaultState:e}),regional:1}),_t(c,"id",c.graphite.id),_t(c,"rootStateRefId",i);var f=Mt(c,"serialize"),p=Mt(c,"derived"),m="ignore"===f,v=Mt(c,"sid");v&&(_t(c,"storeChange",1),n.sid=v),v||m||p||_t(c,"warnSerialize",1);var h=or(e);return Qe(p||!h||h&&l,on,a),p&&h&&!s&&console.error(a+": "+on),tr(c,[o]),null!=r&&r.domain&&r.domain.hooks.store(c),p||(c.reinit=ct({named:"reinit"}),c.reset(c.reinit)),n.meta=c.graphite.meta,Jt(c.graphite),c}function ft(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a,o,i=it(t);t=i[0];var s,l,c,u=ot("combine",o=i[1]),d=t[t.length-1],f=!It(d)&&nr(d),p=f&&d,m=f?t[t.length-2]:d;if(ar(m)?(a=t.slice(0,f?-2:-1),n=m):a=t,1===a.length){var v=a[0];It(v)||(s=v,l=1)}if(!l&&(s=a,n)){c=1;var h=n;n=function(e){return h.apply(void 0,e)}}return Qe(nr(s),u+": shape should be an object"),ln(Array.isArray(s),!c,s,o,n,p)}function pt(){var e={};return e.req=new Promise((function(t,r){e.rs=t,e.rj=r})),e.req.catch((function(){})),e}function mt(e,t){void 0===t&&(t={});var r=Gr(ar(e)?{handler:e}:e,t),n=ot("effect",r),a=ct(ar(e)?{handler:e}:e,Object.assign({},t,{actualOp:"effect"})),o=St(a);_t(o,"op",a.kind="effect"),a.use=function(e){return Qe(ar(e),".use argument should be a function",n),d.scope.handler=e,a},a.use.getCurrent=function(){return d.scope.handler};var i=a.finally=ct({named:"finally",derived:1}),s=a.done=i.filterMap({named:"done",fn:function(e){if("done"===e.status)return{params:e.params,result:e.result}}}),l=a.fail=i.filterMap({named:"fail",fn:function(e){if("fail"===e.status)return{params:e.params,error:e.error}}}),c=a.doneData=s.map({named:"doneData",fn:function(e){return e.result}}),u=a.failData=l.map({named:"failData",fn:function(e){return e.error}}),d=tt({scope:{handler:a.defaultConfig.handler||function(){return Qe(0,"no handler used in "+a.compositeName.fullName)}},node:[yr((function(e,t,r){var n=t.handler,o=Rt(r);if(o){var i=o.handlers.unitMap.get(a)||o.handlers.sidMap[a.sid];i&&(n=i)}return e.handler=n,e}),0,1),yr((function(e,t,r){if(!t.runnerFn||t.runnerFn(e,null,r)){var n=e.params,a=e.req,o=e.handler,s=e.args,l=void 0===s?[n]:s,c=un(n,a,1,i,r),u=un(n,a,0,i,r),d=cn(o,u,l),f=d[1];d[0]&&(nr(f)&&ar(f.then)?f.then(c,u):c(f))}}),0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=d,Kt(o.seq,yr((function(e,t,r){var n=t.runner,a=Ot(r)?{params:e,req:{rs:function(){},rj:function(){}}}:e;return r.meta||(r.meta={fxID:Yt()}),rt({target:n,params:a,defer:1,scope:Rt(r),meta:r.meta}),a.params}))),a.create=function(e){var t=pt(),r={params:e,req:t};if(Rr&&!Lr){var n=Rr;t.req.finally((function(){Vr(n)})).catch((function(){}))}return rt({target:a,params:r,scope:Rr}),t.req};var f=a.inFlight=dt(0,{serialize:"ignore",named:(Mt(a,"name")||a.graphite.id)+".inFlight"}).on(a,(function(e){return e+1})).on(i,(function(e){return e-1})).map({fn:function(e){return e},named:"inFlight"});_t(i,"needFxCounter","dec"),_t(a,"needFxCounter",1);var p=a.pending=f.map({fn:function(e){return e>0},named:"pending"});return tr(a,[i,s,l,c,u,p,f]),null!=r&&r.domain&&r.domain.hooks.effect(a),a}function vt(e,t){var r=ot("merge",t);lr(e,r,"first argument");var n=ct({name:nt(e,"merge"),derived:1,and:t});return en(e,n,[],"merge"),n}function ht(e,t){var r=0;return Je(fn,(function(n){n in e&&(Qe(null!=e[n],pn(t,n)),r=1)})),r}function gt(e,t,r){var n=[];!function e(a){Bt(n,a)||(Kt(n,a),"store"===Mt(a,"op")&&(r||Mt(a,"sid"))&&t(a,Mt(a,"sid")),Je(a.next,e),Je(jt(a),e),Je(kt(a),e))}(e)}function yt(e,t){var r=Array.isArray(e)?new Map(e):e,n=new Map,a=0;if(r instanceof Map){var o={};return Je(r,(function(e,r){Qe(Dt(r),"Map key should be a unit"),t&&t(r,e),r.sid&&(r.sid in o&&(a=1),o[r.sid]=e),n.set(r,e)})),{sidMap:o,unitMap:n,hasSidDoubles:a}}return{sidMap:r,unitMap:n}}function bt(e,t){return It(t)?[wr.mov({store:t.stateRef,to:"stack"})].concat(e):e}Object.defineProperty(Ye,"__esModule",{value:1});for(var xt,wt="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",St=function(e){return e.graphite||e},jt=function(e){return e.family.owners},kt=function(e){return e.family.links},Nt=function(e){return e.stateRef},Ct=function(e){return e.value},Et=function(e){return e.subscribers},Ot=function(e){return e.parent},Rt=function(e){return e.scope},Mt=function(e,t){return St(e).meta[t]},_t=function(e,t,r){return St(e).meta[t]=r},Pt=function(e){return e.compositeName},Dt=function(e){return(ar(e)||nr(e))&&"kind"in e},At=function(e){return function(t){return Dt(t)&&t.kind===e}},It=At("store"),Tt=At("event"),zt=At("effect"),Lt=function(e){return Dt(e)&&!!e.targetable},Ft=At("domain"),qt=At("scope"),Vt={__proto__:null,unit:Dt,store:It,event:Tt,effect:zt,targetable:Lt,domain:Ft,scope:qt,attached:function(e){return zt(e)&&1==Mt(e,"attached")}},Bt=function(e,t){return e.includes(t)},Ht=function(e,t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)},Kt=function(e,t){return e.push(t)},Wt=function(e,t,r,n){return!e&&console.error((n?n+": ":"")+t+" is deprecated"+(r?", use "+r+" instead":""))},Ut=function(){var e=0;return function(){return""+ ++e}},$t=Ut(),Gt=Ut(),Xt=Ut(),Yt=Ut(),Zt=null,Jt=function(e){xt&&xt(e,Zt)},Qt=function(){return Zt&&Zt.template},er=function(e){return e&&Zt&&Zt.sidRoot&&(e=Zt.sidRoot+"|"+e),e},tr=function(e,t){var r=St(e);Je(t,(function(e){var t=St(e);"domain"!==r.family.type&&(t.family.type="crosslink"),Kt(jt(t),r),Kt(kt(r),t)}))},rr=function(e){return void 0===e&&(e=[]),(Array.isArray(e)?e:[e]).flat().map(St)},nr=function(e){return"object"==typeof e&&null!==e},ar=function(e){return"function"==typeof e},or=function(e){return void 0===e},ir=function(e){return Qe(nr(e)||ar(e),"expect first argument be an object")},sr=function(e,t,r,n){return Qe(!(!nr(e)&&!ar(e)||!("family"in e)&&!("graphite"in e)),t+": expect "+r+" to be a unit (store, event or effect)"+n)},lr=function(e,t,r){Array.isArray(e)?Je(e,(function(e,n){return sr(e,t,n+" item of "+r,"")})):sr(e,t,r," or array of units")},cr=function(e,t,r){return void 0===r&&(r="target"),Je(rr(t),(function(t){return Qe(!Mt(t,"derived"),e+': derived unit in "'+r+'" is not supported, use createStore/createEvent instead"')}))},ur=function(e,t,r){return(0,t.fn)(e,r.a)},dr=function(e,t,r){return(0,t.fn)(r.a,e)},fr=function(e,t){return(0,t.fn)(e)},pr=function(e,t,r,n){var a={id:Gt(),type:e,data:t};return r&&(a.order={priority:r},n&&(a.order.barrierID=++mr)),a},mr=0,vr=function(e){var t=e.from,r=e.target,n=e.to;return pr("mov",{from:void 0===t?"store":t,store:e.store,to:void 0===n?r?"store":"stack":n,target:r},e.priority,e.batch)},hr=function(e){var t=e.safe,r=e.filter,n=e.pure;return pr("compute",{fn:e.fn,safe:void 0===t?0:t,filter:void 0===r?0:r,pure:void 0===n?0:n},e.priority,e.batch)},gr=function(e){return hr({fn:e.fn,priority:"effect"})},yr=function(e,t,r){return hr({fn:e,safe:1,filter:t,priority:r&&"effect"})},br=function(e,t,r){return vr({store:e,to:t?"stack":"a",priority:r&&"sampler",batch:1})},xr=function(e,t){return void 0===e&&(e=fr),hr({fn:e,pure:1,filter:t})},wr={mov:vr,compute:hr,filter:function(e){return hr({fn:e.fn,filter:1,pure:e.pure})},run:gr},Sr=function(e){return{id:Gt(),current:e,initial:e}},jr=function(e){return e.current},kr=function(e,t){e.before||(e.before=[]),Kt(e.before,t)},Nr=null,Cr=function e(t,r){return t?r?((t.v.type===r.v.type&&t.v.id>r.v.id||Ir(t.v.type)>Ir(r.v.type))&&(n=t,t=r,r=n),n=e(t.r,r),t.r=t.l,t.l=n,t):t:r;var n},Er=[],Or=0;Or<6;)Kt(Er,{first:null,last:null,size:0}),Or+=1;var Rr,Mr,_r,Pr=function(){for(var e=0;e<6;e++){var t=Er[e];if(t.size>0){if(3===e||4===e){t.size-=1;var r=Nr.v;return Nr=Cr(Nr.l,Nr.r),r}1===t.size&&(t.last=null);var n=t.first;return t.first=n.r,t.size-=1,n.v}}},Dr=function(e,t,r,n,a,o,i){return Ar(0,{a:null,b:null,node:r,parent:n,value:a,page:t,scope:o,meta:i},e,0)},Ar=function(e,t,r,n){var a=Ir(r),o=Er[a],i={v:{idx:e,stack:t,type:r,id:n},l:null,r:null};3===a||4===a?Nr=Cr(Nr,i):(0===o.size?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ir=function(e){switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Tr=new Set,zr=1,Lr=0,Fr=0,qr=null,Vr=function(e){Rr=e},Br=function(e){qr=e},Hr=function(e,t){if(e){for(;e&&!e.reg[t];)e=e.parent;if(e)return e}return null},Kr=function(e,t,r,n){var a=Hr(e,r.id);return a?a.reg[r.id]:t?(Ur(t,r,n),t.reg[r.id]):r},Wr=function(e){return e},Ur=function e(t,r,n,a,o){var i=t.reg;if(!i[r.id]){var s=r.sid,l={id:r.id,current:r.initial,meta:r.meta};if(l.id in t.values.idMap)l.current=t.values.idMap[l.id];else if(s&&s in t.values.sidMap&&!(s in t.sidIdMap)){var c,u=null==r||null===(c=r.meta)||void 0===c?void 0:c.serialize;l.current=(t.fromSerialize&&"ignore"!==u&&(null==u?void 0:u.read)||Wr)(t.values.sidMap[s])}else if(r.before&&!o){var d=0,f=n||!r.noInit||a;Je(r.before,(function(r){switch(r.type){case"map":var o=r.from;if((o||r.fn)&&(o&&e(t,o,n,a),f)){var s=o&&i[o.id].current;l.current=r.fn?r.fn(s):s}break;case"field":e(t,r.from,n,a),d||(d=1,l.current=Array.isArray(l.current)?[].concat(l.current):Object.assign({},l.current)),f&&(l.current[r.field]=i[i[r.from.id].id].current)}}))}s&&(t.sidIdMap[s]=r.id),i[r.id]=l}},$r=function(e,t,r){try{return t(Ct(r),e.scope,r)}catch(xn){console.error(xn),e.fail=1,e.failReason=xn}},Gr=function e(t,r){return void 0===r&&(r={}),nr(t)&&(e(t.or,r),Ze(t,(function(e,t){or(e)||"or"===t||"and"===t||(r[t]=e)})),e(t.and,r)),r},Xr=function(e,t){Ht(e.next,t),Ht(jt(e),t),Ht(kt(e),t)},Yr=function e(t,r,n){var a;t.next.length=0,t.seq.length=0,t.scope=null;for(var o=kt(t);a=o.pop();)Xr(a,t),(r||n&&"sample"!==t.meta.op||"crosslink"===a.family.type)&&e(a,r,"on"!==a.meta.op&&n);for(o=jt(t);a=o.pop();)Xr(a,t),n&&"crosslink"===a.family.type&&e(a,r,"on"!==a.meta.op&&n)},Zr=function(e){return e.clear()},Jr=function(e,t){var r=(void 0===t?{}:t).deep,n=0;if(e.ownerSet&&e.ownerSet.delete(e),It(e))Zr(Et(e));else if(Ft(e)){n=1;var a=e.history;Zr(a.events),Zr(a.effects),Zr(a.stores),Zr(a.domains)}Yr(St(e),!!r,n)},Qr=function(e){return st((function(){return Jr(e)}))},en=function(e,t,r,n,a){return tt({node:r,parent:e,child:t,scope:{fn:a},meta:{op:n},family:{owners:[e,t],links:t},regional:1})},tn=function(e,t){return Qe(ar(t),".watch argument should be a function"),Qr(tt({scope:{fn:t},node:[gr({fn:fr})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))},rn=function(e,t,r){void 0===r&&(r="event"),Ot(e)&&Ot(e).hooks[r](t)},nn=function(e,t,r){var n=Gr(r),a="domain"===e,o=$t(),i=n.sid,s=void 0===i?null:i,l=n.named,c=void 0===l?null:l,u=n.domain,d=n.parent,f=void 0===d?void 0===u?null:u:d,p=c||n.name||(a?"":o),m=at(p,f),v={op:t.kind=e,name:t.shortName=p,sid:t.sid=er(s),named:c,unitId:t.id=o,serialize:n.serialize,derived:n.derived,config:n};if(t.targetable=!n.derived,t.parent=f,t.compositeName=m,t.defaultConfig=n,t.getType=function(){return Wt(0,"getType","compositeName.fullName"),m.fullName},!a){t.subscribe=function(e){return ir(e),t.watch(ar(e)?e:function(t){return e.next&&e.next(t)})},t[wt]=function(){return t};var h=Qt();h&&(v.nativeTemplate=h)}return v},an=function(e,t,r,n){var a;nr(r)&&(a=r,r=r.fn);var o=ct({name:e.shortName+" → *",derived:1,and:a});return en(e,o,n,t,r),o},on="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",sn=function(e,t,r,n,a){var o=Nt(t),i=vr({store:o,to:"a",priority:"read"});"map"===r&&(i.data.softRead=1);var s=[i,xr(n)];return lt("storeOnMap",o,s,It(e)&&Nt(e)),en(e,t,s,r,a)},ln=function(e,t,r,n,a,o){var i=ot("combine",n),s=e?function(e){return[].concat(e)}:function(e){return Object.assign({},e)},l=e?[]:{},c=s(l),u=Sr(c),d=Sr(1);u.type=e?"list":"shape",u.noInit=1,lt("combineBase",u,d);var f=dt(c,Object.assign({name:nt(r),derived:1},o,{and:n})),p=Nt(f);p.noInit=1,_t(f,"isCombine",1);var m=br(u);m.order={priority:"barrier"};var v=vr({store:p,to:"b",priority:"read"});v.data.softRead=1;var h=[yr((function(e,t,r){return r.scope&&!r.scope.reg[u.id]&&(r.c=1),e})),m,vr({store:d,to:"b"}),yr((function(e,r,n){var a=r.key;if(n.c||e!==n.a[a])return t&&n.b&&(n.a=s(n.a)),n.a[a]=e,1}),1),vr({from:"a",target:u}),vr({from:"value",store:0,target:d}),vr({from:"value",store:1,target:d,priority:"barrier",batch:1}),br(u,1,1),a&&xr(),v];if(Ze(r,(function(e,t){if(!It(e))return Qe(!Dt(e)&&!or(e),"combine expects a store in a field "+t,i),void(c[t]=l[t]=e);l[t]=e.defaultState,c[t]=e.getState();var r=en(e,f,h,"combine",a);r.scope.key=t;var n=Nt(e);kr(u,{type:"field",field:t,from:n}),lt("combineField",n,r)})),f.defaultShape=r,kr(p,{type:"map",from:u,fn:a}),!Qt())if(a){var g=a(c);!or(g)||o&&"skipVoid"in o||console.error(i+": "+on),p.current=g,p.initial=g,f.defaultState=g}else f.defaultState=l;return f},cn=function(e,t,r){try{return[1,e.apply(void 0,r)]}catch(xn){return t(xn),[0,null]}},un=function(e,t,r,n,a){return function(o){rt({target:[n,dn],params:[r?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:r?t.rs:t.rj}],defer:1,page:a.page,scope:a.scope,meta:a.meta})}},dn=tt({node:[gr({fn:function(e){return(0,e.fn)(e.value)}})],meta:{op:"fx",fx:"sidechain"}}),fn=["source","clock","target"],pn=function(e,t){return e+": "+t+" should be defined"},mn=function(e,t,r,n,a,o,i,s,l,c,u,d){var f=ot(e,s),p=!!a;Qe(!or(r)||!or(t),pn(f,"either source or clock"));var m=0;or(r)?m=1:Dt(r)||(r=ft(r)),or(t)?t=r:(lr(t,f,"clock"),Array.isArray(t)&&(t=vt(t))),m&&(r=t),s||i||(i=r.shortName);var v="none";(u||n)&&(Dt(n)?v="unit":(Qe(ar(n),"`filter` should be function or unit"),v="fn")),a?(lr(a,f,"target"),cr(f,a)):"none"===v&&c&&It(r)&&It(t)?a=dt(o?o(jr(Nt(r)),jr(Nt(t))):jr(Nt(r)),{name:i,sid:d,or:s}):(a=ct({name:i,derived:1,or:s}),lt("sampleTarget",St(a)));var h=Sr(),g=[];if("unit"===v){var y=hn(n,a,t,h,e),b=y[0];y[2]||g.push.apply(g,vn(y[1])),g.push.apply(g,vn(b))}var x=[];if(m)l&&x.push(br(h,1,1));else{var w=hn(r,a,t,h,e),S=w[0];w[2]||x.push.apply(x,vn(w[1])),x.push(br(S,1,l))}var j=en(t,a,[lt("sampleSourceLoader"),vr({from:"stack",target:h})].concat(x,g,[br(h),"fn"===v&&xr((function(e,t,r){return n(e,r.a)}),1),o&&xr(ur),lt("sampleSourceUpward",p)]),e,o);return tr(r,[j]),Object.assign(j.meta,s,{joint:1}),a},vn=function(e){return[br(e),yr((function(e,t,r){return r.a}),1)]},hn=function(e,t,r,n,a){var o=It(e),i=o?Nt(e):Sr(),s=Sr(o);return o||tt({parent:e,node:[vr({from:"stack",target:i}),vr({from:"value",store:1,target:s})],family:{owners:[e,t,r],links:t},meta:{op:a},regional:1}),lt("sampleSource",s,i,n),[i,s,o]},gn=function(e,t,r,n){var a=e[t];a&&rt({target:a,params:Array.isArray(a)?a.map((function(){return r})):r,defer:1,stack:n})},yn=function(e){return!e.node.meta.isCombine||e.parent&&"combine"!==e.parent.node.meta.op},bn=function(e){return e};function xn(e,t){return t.displayName=e,t}function wn(e,t){var r=_n.is.unit(e),n={};r?n={unit:e}:"@@unitShape"in e?"function"==typeof e["@@unitShape"]?n=e["@@unitShape"]():In("expect @@unitShape to be a function"):n=e;var a=Array.isArray(n),o=An.useRef({stale:1,justSubscribed:0,scope:t}),i=An.useMemo((function(){o.current.stale=1;var e=Array.isArray(n)?[]:{},a=[],i=[],s=[],l=[];for(var c in n)if({}.hasOwnProperty.call(n,c)){var u=n[c];_n.is.unit(u)||In("expect useUnit "+(r?"argument":'value in key "'+c+'"')+" to be a unit"),_n.is.event(u)||_n.is.effect(u)?(e[c]=t?_n.scopeBind(u,{scope:t}):u,s.push(c),l.push(u)):(e[c]=null,a.push(c),i.push(u))}return[e,a,i,s,l]}),[o,t].concat(Object.keys(n),Object.values(n))),s=i[0],l=i[1],c=i[2],u=i[3],d=i[4],f=An.useRef({value:s,storeKeys:l,eventKeys:u,eventValues:d}),p=An.useCallback((function(e){var r=o.current;return r.justSubscribed=1,_n.createWatch({unit:c,fn:function(){r.stale||(r.stale=1,e())},scope:t,batch:1})}),[c,t,f,o]),m=An.useCallback((function(){var e,n=f.current,i=o.current,p=0,m=n.value,v=n.storeKeys,h=n.eventKeys,g=n.eventValues,y=t!==i.scope;if(i.stale||i.justSubscribed||y){p=!i.justSubscribed||y,e=a?[].concat(s):Object.assign({},s),v.length===l.length&&h.length===u.length||(p=1);for(var b=0;b<l.length;b++){var x=Ln(c[b],t),w=l[b];p||(p=v.includes(w)?m[w]!==x:1),e[w]=x}for(var S=0;S<u.length;S++){var j=d[S],k=u[S];p||(p=h.includes(k)?g[h.indexOf(k)]!==j:1)}}return p&&(n.value=e),n.storeKeys=l,n.eventKeys=u,n.eventValues=d,i.stale=0,i.justSubscribed=!p,i.scope=t,r?n.value.unit:n.value}),[p,c,d,t,f,o]);return Pn.useSyncExternalStore(p,m,m)}function Sn(e,t){var r,n,a,o,i=e[0],s=e[1],l=Fn;if(s)r=s,a=i,o=[];else{r=i.fn,a=i.store,o=i.keys,n=i.defaultValue;var c=i.updateFilter;l=void 0===c?Fn:c}_n.is.store(a)||In("useStoreMap expects a store"),Array.isArray(o)||In("useStoreMap expects an array as keys"),"function"!=typeof r&&In("useStoreMap expects a function");var u=An.useCallback((function(e){return _n.createWatch({unit:a,fn:e,scope:t})}),[a,t]),d=An.useCallback((function(){return Ln(a,t)}),[a,t]),f=An.useRef(),p=An.useRef(),m=An.useRef(o);return Dn.useSyncExternalStoreWithSelector(u,d,d,(function(e){if(f.current!==e||!function(e,t){if(!e||!t||e.length!==t.length)return 0;for(var r=1,n=0;n<e.length;n++)if(e[n]!==t[n]){r=0;break}return r}(m.current,o)){var t=r(e,o);void 0===t&&void 0!==n&&(t=n),f.current=e,m.current=o,void 0!==t&&(p.current=t)}return p.current}),(function(e,t){return!l(t,e)}))}function jn(e,t,r){void 0===t&&(t={});var n=wn({open:e.open,close:e.close,set:e.set},r),a=n.open,o=n.close,i=n.set,s=An.useMemo((function(){return{open:a,close:o,set:i}}),[e,a]),l=An.useRef({value:null,count:0});Tn((function(){return s.open(l.current.value),function(){return s.close(l.current.value)}}),[s]),function(e,t){if(e===t)return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return 0;for(var a=0;a<r.length;a++){var o=r[a];if(e[o]!==t[o])return 0}return 1}return 0}(l.current.value,t)||(l.current.value=t,l.current.count+=1),Tn((function(){s.set(l.current.value)}),[l.current.count])}function kn(e){var t=An.useContext(qn);return e&&!t&&In("No scope found, consider adding <Provider> to app root"),t}function Nn(e,t){return function(e,t){zn(1,"useStore","useUnit"),_n.is.store(e)||In("expect useStore argument to be a store");var r=An.useCallback((function(r){return _n.createWatch({unit:e,fn:r,scope:t})}),[e,t]),n=An.useCallback((function(){return Ln(e,t)}),[e,t]);return Pn.useSyncExternalStore(r,n,n)}(e,kn(null==t?void 0:t.forceScope))}function Cn(e,t){function r(e){var r=An.useRef(e),a=Nn(n);Tn((function(){return o({props:r.current,state:n.getState()}),function(){i({props:r.current,state:n.getState()})}}),[]);var s=t(e,a);return r.current=e,s}var n;Vn("createComponent","@effector/reflect"),_n.is.store(e)?n=e:"object"==typeof e&&null!==e?n=_n.combine(e):In("shape should be a store or object with stores");var a="Unknown";n&&n.shortName&&(a=n.shortName);var o=_n.createEvent(),i=_n.createEvent();return r.mounted=o,r.unmounted=i,xn(a+".View",r)}function En(e,t){var r,n=t?e:e[0];!function(e){if(!e)throw Error("expect first argument be an object")}(Bn(r=n)||function(e){return"function"==typeof e}(r));var a=n.or,o=n.and;if(o){var i=t?o:o[0];if(Bn(i)&&"and"in i){var s=En(o,t);e=s[0],a=Object.assign({},a,s[1])}else e=o}return[e,a]}function On(e){function t(e){return a(t,e,kn()),null}var r=e.domain,n=e.defaultState,a=e.hook,o=Hn({or:e.maybeConfig,and:e.mainConfig}),i=(r?r.compositeName.fullName+"/":"")+(o.name||"gate"),s=_n.createEvent({name:i+".set",sid:o.sid?o.sid+"|set":void 0}),l=_n.createEvent({name:i+".open",sid:o.sid?o.sid+"|open":void 0}),c=_n.createEvent({name:i+".close",sid:o.sid?o.sid+"|close":void 0}),u=_n.createStore(Boolean(0),{name:i+".status",serialize:"ignore"}).on(l,(function(){return Boolean(1)})).on(c,(function(){return Boolean(0)})),d=_n.createStore(n,{name:i+".state",sid:o.sid}).on(s,(function(e,t){return t})).on(l,(function(e,t){return t})).reset(c);if(r){var f=r.hooks;_n.launch({target:[f.store,f.store,f.event,f.event,f.event],params:[u,d,l,c,s]})}return t.open=l,t.close=c,t.status=u,t.state=d,t.set=s,xn("Gate:"+i,t)}function Rn(e,t){var r,n,a,o=En(t&&Bn(r=t[0])&&(r.and||r.or)?t:[{and:t}]),i=o[0],s=i[0],l=i[1],c={},u={},d=o[1];return"string"==typeof s?(u={name:s},Bn(a=l)&&"sid"in a||(c=l||{})):function(e){return Bn(e)&&("domain"in e||"defaultState"in e||"name"in e)}(s)&&(u=s,c=s.defaultState||{},n=s.domain),{hook:e,domain:n,defaultState:c,mainConfig:u,maybeConfig:d}}Ye.allSettled=function(e,t){var r=void 0===t?{}:t,n=r.scope,a=r.params;if(!Dt(e))return Promise.reject(new Error("first argument should be unit"));if(!(zt(e)||Tt(e)||It(e)||qt(e)))return Promise.reject(new Error("first argument accepts only effects, events, stores or scopes"));qt(e)&&(n=e);var o=pt();o.parentFork=Rr;var i=n.fxCount;Kt(i.scope.defers,o);var s=[],l=[];return qt(e)||(Kt(s,e),Kt(l,zt(e)?{params:a,req:{rs:function(e){o.value={status:"done",value:e}},rj:function(e){o.value={status:"fail",value:e}}}}:a)),Kt(s,i),Kt(l,null),rt({target:s,params:l,scope:n}),o.req},Ye.attach=function(e){var t,r,n=it(e,1);e=n[0];var a=ot("attach",r=n[1]),o=e.source,i=e.effect,s=e.mapParams,l=e.domain;zt(i)&&Qe(or(l),"`domain` can only be used with a plain function",a);var c=mt(e,r);_t(c,"attached",1);var u,d,f=St(c).scope.runner,p=function(e,t,r){var n,a=e.params,i=e.req,l=e.handler,u=c.finally,d=un(a,i,0,u,r),f=r.a,p=zt(l),m=1;if(s){var v=cn(s,d,[a,f]);m=v[0],n=v[1]}else n=o&&p?f:a;if(m){if(!p)return e.args=[f,n],1;rt({target:l,params:{params:n,req:{rs:un(a,i,1,u,r),rj:d}},page:r.page,defer:1,meta:r.meta})}};o?(f.scope.runnerFn=p,It(o)?tr(d=o,[c]):(d=ft(o),tr(c,[d])),u=[yr((function(e){return e}),0,1),br(Nt(d))],delete f.seq[1].order):u=[yr(p,1,1)],(t=f.seq).splice.apply(t,[1,0].concat(u)),c.use(i);var m=Ot(i);return m&&(Object.assign(Pt(c),at(c.shortName,m)),c.defaultConfig.parent=m),rn(i,c,"effect"),c},Ye.clearNode=Jr,Ye.combine=ft,Ye.createApi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=it(t),a=n[0],o=a[0],i=a[1],s=n[1],l={};return Ze(i,(function(e,t){var r=l[t]=ct(t,{parent:Ot(o),config:s});o.on(r,e),rn(o,r)})),l},Ye.createDomain=function e(t,r){var n=Gr({or:r,and:"string"==typeof t?{name:t}:t}),a=tt({family:{type:"domain"},regional:1,parent:(null==n?void 0:n.domain)||(null==n?void 0:n.parent)}),o={history:{},graphite:a,hooks:{}};a.meta=nn("domain",o,{parent:(null==n?void 0:n.domain)||(null==n?void 0:n.parent),or:Object.assign({},n,{derived:1})}),Ze({Event:ct,Effect:mt,Store:dt,Domain:e},(function(e,t){var r=t.toLowerCase(),n=ct({named:"on"+t});o.hooks[r]=n;var a=new Set;o.history[r+"s"]=a,n.create=function(e){return rt(n,e),e},Kt(St(n).seq,yr((function(e,t,r){return r.scope=null,e}))),n.watch((function(e){tr(o,[e]),a.add(e),e.ownerSet||(e.ownerSet=a),Ot(e)||(e.parent=o)})),tr(o,[n]),o["onCreate"+t]=function(e){return Je(a,e),n.watch(e)},o["create"+t]=o[r]=function(t,r){var a=Gr({and:r,or:t});return null!=a&&a.domain?e(t,r):n(e(t,{parent:o,or:a}))}}));var i=Ot(o);return i&&Ze(o.hooks,(function(e,t){return en(e,i.hooks[t])})),null!=n&&n.domain&&n.domain.hooks.domain(o),o},Ye.createEffect=mt,Ye.createEvent=ct,Ye.createNode=tt,Ye.createStore=dt,Ye.createWatch=function(e){var t=e.unit,r=e.fn,n=e.scope,a=e.batch,o=[wr.run({fn:function(e){return r(e)}})];a&&o.unshift(wr.compute({priority:"sampler",batch:1})),It(t)&&o.unshift(wr.mov({store:t.stateRef,to:"stack"}));var i=Array.isArray(t)?t:[t];if(n){var s=[],l=n.additionalLinks;return i.forEach((function(e){var t=l[e.graphite.id]||[];l[e.graphite.id]=t;var r=tt({node:bt(o,e),meta:{watchOp:e.kind}});t.push(r),s.push((function(){var e=t.indexOf(r);-1!==e&&t.splice(e,1),Jr(r)}))})),st((function(){s.forEach((function(e){return e()}))}))}var c=tt({node:o,parent:i,family:{owners:i}});return st((function(){Jr(c)}))},Ye.fork=function(e,t){var r,n=e;Ft(e)&&(Wt(0,"fork(domain)","fork()"),r=e,n=t);var a=function(e){var t=tt({scope:{defers:[],inFlight:0,fxID:0},node:[yr((function(e,t,r){r.parent?"dec"===r.parent.node.meta.needFxCounter?t.inFlight-=1:(t.inFlight+=1,t.fxID+=1):t.fxID+=1})),hr({priority:"sampler",batch:1}),yr((function(e,t){var r=t.defers,n=t.fxID;t.inFlight>0||0===r.length||Promise.resolve().then((function(){t.fxID===n&&Je(r.splice(0,r.length),(function(e){Vr(e.parentFork),e.rs(e.value)}))}))}),0,1)]}),r=tt({node:[yr((function(e,t,r){var n=r.parent;if(n){var a=n.node;if(yn(n)){var o=Rt(r),i=a.meta.sid;o.sidIdMap[i]=a.scope.state.id,o.values.sidMap[i]=e;var s=a.meta.serialize;s&&o.sidSerializeSettings.set(i,"ignore"===s?{ignore:1}:{ignore:0,write:s.write})}}}))]}),n=tt({node:[yr((function(e,t,r){var n=Rt(r);n&&r.parent&&yn(r.parent)&&(n.warnSerialize=1)}))]}),a={cloneOf:e,reg:{},values:{sidMap:{},idMap:{}},sidIdMap:{},sidSerializeSettings:new Map,getState:function(e){if("current"in e)return Kr(qr,a,e,0).current;var t=St(e);return Kr(qr,a,t.scope.state,1).current},kind:"scope",graphite:tt({family:{type:"domain",links:[t,r,n]},meta:{unit:"fork"},scope:{forkInFlightCounter:t}}),additionalLinks:{},handlers:{sidMap:{},unitMap:new Map},fxCount:t,storeChange:r,warnSerializeNode:n};return a}(r);if(n){if(n.values){var o=yt(n.values,(function(e){return Qe(It(e)&&Lt(e),"Values map can contain only writable stores as keys")})),i=o.unitMap,s=o.hasSidDoubles;Object.assign(a.values.sidMap,o.sidMap),Je(i,(function(e,t){if(a.values.idMap[t.stateRef.id]=e,"ignore"===Mt(t,"serialize")){var r=Mt(t,"sid");a.sidSerializeSettings.set(r,{ignore:1})}})),a.fromSerialize=!(Array.isArray(n.values)||n.values instanceof Map),a.hasSidDoubles=s}n.handlers&&(Wt(n.handlers instanceof Map||Array.isArray(n.handlers),"object with handlers","array"),a.handlers=yt(n.handlers,(function(e){return Qe(zt(e),"Handlers map can contain only effects as keys")})))}return a},Ye.forward=function(e){var t="forward",r=it(e,1),n=r[0],a=n.from,o=n.to,i=r[1],s=ot(t,i);return Wt(0,t,"sample",s),lr(a,s,'"from"'),lr(o,s,'"to"'),cr(s,o,"to"),Qr(tt({parent:a,child:o,meta:{op:t,config:i},family:{},regional:1}))},Ye.fromObservable=function(e){ir(e);var t=wt in e?e[wt]():e;Qe(t.subscribe,"expect observable to have .subscribe");var r=ct(),n=Qr(r);return t.subscribe({next:r,error:n,complete:n}),r},Ye.guard=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=it(t),a=n[0],o=a[0],i=a[1],s=n[1],l=ot("guard",s);return Wt(0,"guard","sample",l),i||(o=(i=o).source),ht(i,l),mn("guard",i.clock,o,i.filter,i.target,null,i.name,s,!i.greedy,0,1)},Ye.hydrate=function(e,t){var r=t.values;Qe(nr(r),"values property should be an object");var n=yt(r),a=n.sidMap,o=n.unitMap,i=Object.getOwnPropertyNames(a),s={};Je(o,(function(e,t){s[t.stateRef.id]=t}));var l,c,u,d=[],f=[];qt(e)?(u=1,Qe((l=e).cloneOf,"scope should be created from domain"),Wt(0,"hydrate(fork(domain), { values })","fork({ values })"),c=St(l.cloneOf)):Ft(e)?(Wt(0,"hydrate(domain, { values })","fork({ values })"),c=St(e)):Qe(0,"first argument of hydrate should be domain or scope"),gt(c,(function(e,t){if(t&&Bt(i,t)){Kt(d,e);var r=Mt(e,"serialize");r&&"ignore"!==r&&(a[t]=r.read(a[t])),Kt(f,a[t])}else e.scope.state.id in s&&(Kt(d,e),Kt(f,o.get(s[e.scope.state.id])))}),1),rt({target:d,params:f,scope:l}),u&&Object.assign(l.values.sidMap,a)},Ye.is=Vt,Ye.launch=rt,Ye.merge=vt,Ye.restore=function(e,t,r){var n=ot("restore",r);if(Qe(!It(e),"restore($store) is not supported",n),Tt(e)||zt(e)){var a=Ot(e),o=dt(t,{parent:a,name:e.shortName,and:r});return en(zt(e)?e.doneData:e,o),a&&a.hooks.store(o),o}var i=Array.isArray(e)?[]:{};return Ze(e,(function(e,t){return i[t]=It(e)?e:dt(e,{name:t})})),i},Ye.sample=function(){for(var e,t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var o,i,s=it(n),l=s[0],c=l[0],u=l[1],d=l[2],f=s[1],p=1,m=ot("sample",f);return or(u)&&nr(c)&&ht(c,m)&&(u=c.clock,d=c.fn,"batch"in c?p=c.batch:(Wt(!("greedy"in c),"greedy in sample","batch",m),p=!c.greedy),i=c.filter,e=c.target,t=c.name,o=c.sid,c=c.source),mn("sample",u,c,i,e,d,t,f,p,1,0,o)},Ye.scopeBind=function(e,t){var r=void 0===t?{}:t,n=r.scope;Qe(n||Rr||r.safe,"scopeBind: scope not found");var a=n||Rr;return function(t){function r(){Vr(i)}var n,o=0,i=Rr;Vr(a);try{n=e(t)}catch(jn){n=jn,o=1}if(r(),o)throw n;return n instanceof Promise&&n.then(r,r),n}},Ye.serialize=function(e,t){void 0===t&&(t={}),e.warnSerialize&&console.error("There is a store without sid in this scope, its value is omitted"),Qe(!e.hasSidDoubles,"duplicate sid found in this scope");var r=t.ignore?t.ignore.map((function(e){return e.sid})):[],n={};return Ze(e.values.sidMap,(function(t,a){var o;if(!Bt(r,a)){var i=e.sidIdMap[a],s=null!==(o=e.sidSerializeSettings.get(a))&&void 0!==o?o:{ignore:0,write:bn};s.ignore||(n[a]=(0,s.write)(i&&i in e.reg?e.reg[i].current:t))}})),"onlyChanges"in t&&(Wt(0,"onlyChanges"),t.onlyChanges||(Qe(e.cloneOf,"scope should be created from domain"),gt(St(e.cloneOf),(function(t,a){a in n||Bt(r,a)||Mt(t,"isCombine")||"ignore"===Mt(t,"serialize")||(n[a]=e.getState(t))})))),n},Ye.setGraphInspector=function(e){xt=e},Ye.setInspector=function(e){Mr=e},Ye.setStoreName=function(e,t){e.shortName=t,Object.assign(Pt(e),at(t,Ot(e)))},Ye.split=function(){for(var e,t,r="split",n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=it(a),s=i[0],l=s[0],c=s[1],u=i[1],d=ot(r,u),f=!c;f&&(e=l.cases,c=l.match,t=l.clock,l=l.source);var p=It(c),m=!Dt(c)&&ar(c),v=!p&&!m&&nr(c);Qe(Dt(l),"source must be a unit",d),e||(e={}),f?Ze(e,(function(e,t){return cr(d,e,"cases."+t)})):(Qe(v,"match should be an object",d),Ze(c,(function(t,r){return e[r]=ct({derived:1,named:"cases."+r,and:u})})),e.__=ct({derived:1,named:"cases.__",and:u}));var h,g=new Set([].concat(l,t||[],Object.values(e))),y=Object.keys(p||m?e:c);if(p||m)p&&g.add(c),h=[p&&br(Nt(c),0,1),hr({safe:p,filter:1,pure:!p,fn:function(e,t,r){var n=String(p?r.a:c(e));gn(t,Bt(y,n)?n:"__",e,r)}})];else if(v){var b=Sr({});b.type="shape";var x,w=[];Ze(c,(function(e,t){if(Dt(e)){x=1,Kt(w,t),g.add(e);var r=en(e,[],[br(b),yr((function(e,r,n){return n.a[t]=e}))]);if(It(e)){b.current[t]=e.getState();var n=Nt(e);kr(b,{from:n,field:t,type:"field"}),lt("splitMatchStore",n,r)}}})),x&&lt("splitBase",b),h=[x&&br(b,0,1),xr((function(e,t,r){for(var n=0;n<y.length;n++){var a=y[n];if(Bt(w,a)?r.a[a]:c[a](e))return void gn(t,a,e,r)}gn(t,"__",e,r)}),1)]}else Qe(0,"expect match to be unit, function or object");var S=tt({meta:{op:r},parent:t?[]:l,scope:e,node:h,family:{owners:Array.from(g)},regional:1});if(t&&mn(r,t,l,null,S,null,r,u,0,0,0),!f)return e},Ye.step=wr,Ye.version="23.1.0",Ye.withFactory=function(e){var t=e.sid,r=e.name,n=e.loc,a=e.method,o=e.fn;return et(tt({meta:{sidRoot:er(t),sid:t,name:r,loc:n,method:a,type:"factory"}}),o)},Ye.withRegion=et,Object.defineProperty(Xe,"__esModule",{value:1});var Mn=F,_n=Ye,Pn=z,Dn=L,An=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(Mn),In=function(e){throw Error(e)},Tn="undefined"!=typeof window?An.useLayoutEffect:An.useEffect,zn=function(e,t,r){Mn.useEffect((function(){e&&console.error(t+" is deprecated"+(r?", prefer "+r+" instead":""))}),[e,t,r])},Ln=function(e,t){return t?t.getState(e):e.getState()},Fn=function(e,t){return e!==t},qn=An.createContext(null),Vn=function(e,t){console.error(e+" is deprecated"+(t?", use "+t+" instead":""))},Bn=function(e){return"object"==typeof e&&null!==e},Hn=function e(t,r){return void 0===r&&(r={}),Bn(t)&&(e(t.or,r),function(e){for(var t in e)a=t,function(e){return void 0===e}(n=e[t])||"or"===a||"and"===a||(r[a]=n);var n,a}(t),e(t.and,r)),r};Xe.Provider=qn.Provider,Xe.connect=function(e){return Vn("connect","useUnit"),function(t){var r=e;return"function"!=typeof e&&(r=t,t=e),xn("Connect("+(r.displayName||r.name||"Unknown")+")",(function(e){return An.createElement(r,Object.assign({},e,Nn(t)))}))}},Xe.createComponent=Cn,Xe.createGate=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return On(Rn(jn,t))},Xe.createStoreConsumer=function(e){return Vn("createStoreConsumer","useUnit"),Cn(e,(function(e,t){return(0,e.children)(t)}))},Xe.useEvent=function(e,t){return function(e,t){if(zn(1,"useEvent","useUnit"),!t)return e;var r=_n.is.unit(e)||"object"!=typeof e?{event:e}:e;return An.useMemo((function(){if(_n.is.unit(e))return _n.scopeBind(e,{scope:t});var r=Array.isArray(e)?[]:{};for(var n in e)r[n]=_n.scopeBind(e[n],{scope:t});return r}),[t].concat(Object.keys(r),Object.values(r)))}(e,kn(null==t?void 0:t.forceScope))},Xe.useGate=function(e,t,r){return void 0===t&&(t={}),jn(e,t,kn(null==r?void 0:r.forceScope))},Xe.useList=function(e,t,r){return function(e,t,r){var n,a,o,i=[];"object"==typeof t&&null!==t?(t.keys&&(i=t.keys),n=t.fn,a=t.getKey,o=t.placeholder):n=t,_n.is.store(e)||In("expect useList first argument to be a store"),"function"!=typeof n&&In("expect useList's renderItem to be a function"),Array.isArray(i)||In("expect useList's keys to be an array");var s=An.useMemo((function(){var t=xn((e.shortName||"Unknown")+".Item",(function(t){var n=t.index,a=t.keys;if(l.current[1])return l.current[0](t.value,t.keyVal);var o=Sn([{store:e,keys:[n].concat(a),fn:function(e,t){return e[t[0]]}}],r);return l.current[0](o,n)}));return An.memo(t)}),[e,r,!!a]),l=An.useRef([n,a]);l.current=[n,a];var c=An.useMemo((function(){return i}),i);if(a){var u=wn(e,r);return 0===u.length&&o?o:u.map((function(e){var t=l.current[1](e);return An.createElement(s,{keyVal:t,key:t,keys:c,value:e})}))}var d=Sn([{store:e,keys:[e],fn:function(e){return e.length}}],r);return 0===d&&o?o:Array.from({length:d},(function(e,t){return An.createElement(s,{index:t,key:t,keys:c})}))}(e,t,kn(null==r?void 0:r.forceScope))},Xe.useProvidedScope=function(){return kn()||null},Xe.useStore=Nn,Xe.useStoreMap=function(e,t){return Sn([e,t],kn(null==e?void 0:e.forceScope))},_r=Xe.useUnit=function(e,t){return wn(e,kn(null==t?void 0:t.forceScope))};const Kn=F.forwardRef(((t,r)=>{let{className:n}=t,a=I(t,e);return q.jsx("div",D({ref:r,className:V("rounded-lg border bg-card text-card-foreground shadow-sm",n)},a))}));Kn.displayName="Card";F.forwardRef(((e,r)=>{let{className:n}=e,a=I(e,t);return q.jsx("div",D({ref:r,className:V("flex flex-col space-y-1.5 p-6",n)},a))})).displayName="CardHeader";F.forwardRef(((e,t)=>{let{className:n}=e,a=I(e,r);return q.jsx("h3",D({ref:t,className:V("text-2xl font-semibold tracking-tight",n)},a))})).displayName="CardTitle";F.forwardRef(((e,t)=>{let{className:r}=e,a=I(e,n);return q.jsx("p",D({ref:t,className:V("text-sm text-muted-foreground",r)},a))})).displayName="CardDescription";F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,a);return q.jsx("div",D({ref:t,className:V("p-6 pt-0",r)},n))})).displayName="CardContent";F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,o);return q.jsx("div",D({ref:t,className:V("flex items-center p-6 pt-0",r)},n))})).displayName="CardFooter";const Wn=F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,i);return q.jsx("textarea",D({className:V("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t},n))}));Wn.displayName="Textarea";const Un=e=>{let{children:t}=e,r=I(e,s);const n=B(H);return q.jsxs("span",D(D({},r),{},{children:[t,K.format.dateTime(n,{format:"time",asTime:!0})]}))},$n=e=>{const[t,r]=F.useState(!!e);return[t,F.useCallback((()=>r((e=>!e))),[]),r]},Gn=W("flex rounded-md border border-input bg-background ring-offset-background file:border-0 file:bg-transparent placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{default:"h-10 w-full px-3 py-2 text-sm file:text-sm file:font-medium",sm:"h-8 w-full px-1.5 text-sm file:text-sm file:font-medium"}},defaultVariants:{size:"default"}}),Xn=F.forwardRef(((e,t)=>{let{className:r,type:n,size:a}=e,o=I(e,l);return q.jsx("input",D({type:n,className:V(Gn({size:a,className:r})),ref:t},o))}));Xn.displayName="Input";const Yn=F.forwardRef(((e,t)=>F.createElement(U.label,$({},e,{ref:t,onMouseDown:t=>{var r;null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))),Zn=W("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jn=F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,c);return q.jsx(Yn,D({ref:t,className:V(Zn(),r)},n))}));Jn.displayName=Yn.displayName;const Qn=({className:e})=>{const[t,,r]=$n(!1),n=F.useRef(null);return F.useLayoutEffect((()=>{var e;t||(null===(e=n.current)||void 0===e||e.reset())}),[t]),q.jsxs(G,{open:t,onOpenChange:r,children:[q.jsx(X,{asChild:!0,children:q.jsx(Y,{variant:"ghost",size:"icon",className:Z("h-7 w-7",e),children:q.jsx(A,{className:"h-4 w-4"})})}),q.jsxs(J,{className:"sm:max-w-[425px]",children:[q.jsx(Q,{children:q.jsx(ee,{children:"Ручное добавление лога"})}),q.jsxs("form",{ref:n,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const t=n.current,a=Object.fromEntries(new FormData(t));console.info("fff",a);const[o,i]=a.time.split(":"),s=+o*ae(1,"hour")+ +i*ae(1,"min"),l=new Date(a.date).toISOString();te({startDate:l,spentTime:s,meta:a.description||""}),t.reset(),r(!1),re({type:"success",message:"Лог добавлен!"})},children:[q.jsx("div",{className:"grid gap-4 py-4",children:q.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[q.jsx(Jn,{htmlFor:"date",className:"text-right",children:"Дата"}),q.jsx(Xn,{id:"date",name:"date",type:"date",required:!0,className:"col-span-3"})]})}),q.jsx("div",{className:"grid gap-4 py-4",children:q.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[q.jsx(Jn,{htmlFor:"time",className:"text-right",children:"Время"}),q.jsx(Xn,{id:"time",name:"time",type:"time",required:!0,className:"col-span-3"})]})}),q.jsxs("div",{className:"grid gap-4 py-4",children:[q.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:q.jsx(Jn,{htmlFor:"description",className:"text-right",children:"Описание"})}),q.jsx(Wn,{id:"description",name:"description"})]}),q.jsx(ne,{children:q.jsx(Y,{type:"submit",children:"Создать"})})]})]})]})},ea=({className:e})=>{var t;const r=_r(oe),n=_r(ie),a=_r({finishActiveLog:se,continueActiveLog:le,pauseActiveLog:ce,createActiveLog:ue});return q.jsxs(Kn,{className:Z("flex flex-col items-center justify-center gap-2 p-4",e),children:[q.jsxs("h1",{className:"inline-flex w-full flex-1 text-xl font-semibold",children:["Трекер",n.value?` (${n.value.projectName})`:"",q.jsx(Qn,{className:"ml-auto"})]}),q.jsx(Wn,{value:(null===(t=n.value)||void 0===t?void 0:t.meta)||"",onChange:e=>n.update({meta:e.target.value}),className:"!h-[40px]",placeholder:"Чем занимаешься?",disabled:!n.value}),q.jsx("div",{className:"mt-4 flex w-full flex-row items-center gap-2",children:n.value?q.jsxs(q.Fragment,{children:[q.jsx(Un,{className:"relative mr-auto flex items-center text-2xl font-bold "+("paused"===n.value.status?"text-reverse":"text-destructive"),children:"active"===n.value.status&&q.jsx(q.Fragment,{children:q.jsxs("span",{className:"relative mr-2 flex h-4 w-4",children:[q.jsx("span",{className:"absolute block h-full w-full animate-ping rounded-full bg-destructive opacity-75"}),q.jsx("span",{className:"relative block h-4 w-4 rounded-full bg-destructive"})]})})}),q.jsx(Y,{variant:(n.value.status,"destructive"),disabled:"active"===n.value.status,onClick:a.finishActiveLog,children:"ЗАВЕРШИТЬ"}),"paused"===n.value.status?q.jsx(Y,{style:{width:150},variant:"default",onClick:a.continueActiveLog,children:"ПРОДОЛЖИТЬ"}):q.jsx(Y,{style:{width:150},variant:"outline",onClick:a.pauseActiveLog,children:"ПАУЗА"})]}):q.jsx(Y,{disabled:!r.value,className:"ml-auto",onClick:()=>{var e;return a.createActiveLog({meta:"",lastTickDate:null,startDate:(new Date).toISOString(),spentTime:0,projectName:(null===(e=r.value)||void 0===e?void 0:e.name)||"",status:"active"})},children:"ПРИСТУПИТЬ К РАБОТЕ"})})]})};function ta(e,[t,r]){return Math.min(r,Math.max(t,e))}const ra=F.createContext(void 0);const na=[" ","Enter","ArrowUp","ArrowDown"],aa=[" ","Enter"],oa="Select",[ia,sa,la]=function(e){const t=e+"CollectionProvider",[r,n]=de(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e+"CollectionSlot",s=e+"CollectionItemSlot",l="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:r}=e,n=fe.useRef(null),o=fe.useRef(new Map).current;return fe.createElement(a,{scope:t,itemMap:o,collectionRef:n},r)},Slot:fe.forwardRef(((e,t)=>{const{scope:r,children:n}=e,a=o(i,r),s=pe(t,a.collectionRef);return fe.createElement(me,{ref:s},n)})),ItemSlot:fe.forwardRef(((e,t)=>{const{scope:r,children:n}=e,a=I(e,u),i=fe.useRef(null),c=pe(t,i),d=o(s,r);return fe.useEffect((()=>(d.itemMap.set(i,D({ref:i},a)),()=>{d.itemMap.delete(i)}))),fe.createElement(me,{[l]:"",ref:c},n)}))},function(t){const r=o(e+"CollectionConsumer",t),n=fe.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${l}]`)),n=Array.from(r.itemMap.values()).sort(((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current)));return n}),[r.collectionRef,r.itemMap]);return n},n]}(oa),[ca,ua]=de(oa,[la,ve]),da=ve(),[fa,pa]=ca(oa),[ma,va]=ca(oa),ha=F.forwardRef(((e,t)=>{const{__scopeSelect:r,disabled:n=!1}=e,a=I(e,d),o=da(r),i=pa("SelectTrigger",r),s=i.disabled||n,l=pe(t,i.onTriggerChange),c=sa(r),[u,f,p]=Xa((e=>{const t=c().filter((e=>!e.disabled)),r=t.find((e=>e.value===i.value)),n=Ya(t,e,r);void 0!==n&&i.onValueChange(n.value)})),m=()=>{s||(i.onOpenChange(!0),p())};return F.createElement(he,$({asChild:!0},o),F.createElement(U.button,$({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":$a(i.value)?"":void 0},a,{ref:l,onClick:ge(a.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:ge(a.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(m(),i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:ge(a.onKeyDown,(e=>{const t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||na.includes(e.key)&&(m(),e.preventDefault())}))})))})),ga=F.forwardRef(((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i=""}=e,s=I(e,f),l=pa("SelectValue",r),{onValueNodeHasChildrenChange:c}=l,u=void 0!==o,d=pe(t,l.onValueNodeChange);return ye((()=>{c(u)}),[c,u]),F.createElement(U.span,$({},s,{ref:d,style:{pointerEvents:"none"}}),$a(l.value)?F.createElement(F.Fragment,null,i):o)})),ya=F.forwardRef(((e,t)=>{const{__scopeSelect:r,children:n}=e,a=I(e,p);return F.createElement(U.span,$({"aria-hidden":!0},a,{ref:t}),n||"▼")})),ba="SelectContent",xa=F.forwardRef(((e,t)=>{const r=pa(ba,e.__scopeSelect),[n,a]=F.useState();if(ye((()=>{a(new DocumentFragment)}),[]),!r.open){const t=n;return t?be.createPortal(F.createElement(Sa,{scope:e.__scopeSelect},F.createElement(ia.Slot,{scope:e.__scopeSelect},F.createElement("div",null,e.children))),t):null}return F.createElement(ka,$({},e,{ref:t}))})),wa=10,[Sa,ja]=ca(ba),ka=F.forwardRef(((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:h,avoidCollisions:g}=e,y=I(e,m),b=pa(ba,r),[x,w]=F.useState(null),[S,j]=F.useState(null),k=pe(t,(e=>w(e))),[N,C]=F.useState(null),[E,O]=F.useState(null),R=sa(r),[M,_]=F.useState(!1),P=F.useRef(!1);F.useEffect((()=>{if(x)return xe(x)}),[x]),we();const A=F.useCallback((e=>{const[t,...r]=R().map((e=>e.ref.current)),[n]=r.slice(-1),a=document.activeElement;for(const o of e){if(o===a)return;if(null==o||o.scrollIntoView({block:"nearest"}),o===t&&S&&(S.scrollTop=0),o===n&&S&&(S.scrollTop=S.scrollHeight),null==o||o.focus(),document.activeElement!==a)return}}),[R,S]),T=F.useCallback((()=>A([N,x])),[A,N,x]);F.useEffect((()=>{M&&T()}),[M,T]);const{onOpenChange:z,triggerPointerDownPosRef:L}=b;F.useEffect((()=>{if(x){let e={x:0,y:0};const t=t=>{var r,n,a,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=L.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(o=L.current)||void 0===o?void 0:o.y)&&void 0!==a?a:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():x.contains(r.target)||z(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}}),[x,z,L]),F.useEffect((()=>{const e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[z]);const[q,V]=Xa((e=>{const t=R().filter((e=>!e.disabled)),r=t.find((e=>e.ref.current===document.activeElement)),n=Ya(t,e,r);n&&setTimeout((()=>n.ref.current.focus()))})),B=F.useCallback(((e,t,r)=>{const n=!P.current&&!r;(void 0!==b.value&&b.value===t||n)&&(C(e),n&&(P.current=!0))}),[b.value]),H=F.useCallback((()=>null==x?void 0:x.focus()),[x]),K=F.useCallback(((e,t,r)=>{const n=!P.current&&!r;(void 0!==b.value&&b.value===t||n)&&O(e)}),[b.value]),W="popper"===n?Ca:Na,U=W===Ca?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:h,avoidCollisions:g}:{};return F.createElement(Sa,{scope:r,content:x,viewport:S,onViewportChange:j,itemRefCallback:B,selectedItem:N,onItemLeave:H,itemTextRefCallback:K,focusSelectedItem:T,selectedItemText:E,position:n,isPositioned:M,searchRef:q},F.createElement(Se,{as:me,allowPinchZoom:!0},F.createElement(je,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ge(a,(e=>{var t;null===(t=b.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}))},F.createElement(ke,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},F.createElement(W,$({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},y,U,{onPlaced:()=>_(!0),ref:k,style:D({display:"flex",flexDirection:"column",outline:"none"},y.style),onKeyDown:ge(y.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||V(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=R().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout((()=>A(t))),e.preventDefault()}}))}))))))})),Na=F.forwardRef(((e,t)=>{const{__scopeSelect:r,onPlaced:n}=e,a=I(e,v),o=pa(ba,r),i=ja(ba,r),[s,l]=F.useState(null),[c,u]=F.useState(null),d=pe(t,(e=>u(e))),f=sa(r),p=F.useRef(!1),m=F.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=i,x=F.useCallback((()=>{if(o.trigger&&o.valueNode&&s&&c&&h&&g&&y){const e=o.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),a=y.getBoundingClientRect();if("rtl"!==o.dir){const n=a.left-t.left,o=r.left-n,i=e.left-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-wa,d=ta(o,[wa,u-c]);s.style.minWidth=l+"px",s.style.left=d+"px"}else{const n=t.right-a.right,o=window.innerWidth-r.right-n,i=window.innerWidth-e.right-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-wa,d=ta(o,[wa,u-c]);s.style.minWidth=l+"px",s.style.right=d+"px"}const i=f(),l=window.innerHeight-2*wa,u=h.scrollHeight,d=window.getComputedStyle(c),m=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),x=m+v+u+parseInt(d.paddingBottom,10)+b,w=Math.min(5*g.offsetHeight,x),S=window.getComputedStyle(h),j=parseInt(S.paddingTop,10),k=parseInt(S.paddingBottom,10),N=e.top+e.height/2-wa,C=l-N,E=g.offsetHeight/2,O=m+v+(g.offsetTop+E),R=x-O;if(O<=N){const e=g===i[i.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-h.offsetTop-h.offsetHeight,r=O+Math.max(C,E+(e?k:0)+t+b);s.style.height=r+"px"}else{const e=g===i[0].ref.current;s.style.top="0px";const t=Math.max(N,m+h.offsetTop+(e?j:0)+E)+R;s.style.height=t+"px",h.scrollTop=O-N+h.offsetTop}s.style.margin=`${wa}px 0`,s.style.minHeight=w+"px",s.style.maxHeight=l+"px",null==n||n(),requestAnimationFrame((()=>p.current=!0))}}),[f,o.trigger,o.valueNode,s,c,h,g,y,o.dir,n]);ye((()=>x()),[x]);const[w,S]=F.useState();ye((()=>{c&&S(window.getComputedStyle(c).zIndex)}),[c]);const j=F.useCallback((e=>{e&&!0===m.current&&(x(),null==b||b(),m.current=!1)}),[x,b]);return F.createElement(Ea,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:j},F.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},F.createElement(U.div,$({},a,{ref:d,style:D({boxSizing:"border-box",maxHeight:"100%"},a.style)}))))})),Ca=F.forwardRef(((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=wa}=e,o=I(e,h),i=da(r);return F.createElement(Re,$({},i,o,{ref:t,align:n,collisionPadding:a,style:D(D({boxSizing:"border-box"},o.style),{},{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))})),[Ea,Oa]=ca(ba,{}),Ra="SelectViewport",Ma=F.forwardRef(((e,t)=>{const{__scopeSelect:r}=e,n=I(e,g),a=ja(Ra,r),o=Oa(Ra,r),i=pe(t,a.onViewportChange),s=F.useRef(0);return F.createElement(F.Fragment,null,F.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),F.createElement(ia.Slot,{scope:r},F.createElement(U.div,$({"data-radix-select-viewport":"",role:"presentation"},n,{ref:i,style:D({position:"relative",flex:1,overflow:"auto"},n.style),onScroll:ge(n.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=o;if(null!=n&&n.current&&r){const e=Math.abs(s.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*wa,a=parseFloat(r.style.minHeight),o=parseFloat(r.style.height),i=Math.max(a,o);if(i<n){const a=i+e,o=Math.min(n,a),s=a-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=s>0?s:0,r.style.justifyContent="flex-end")}}}s.current=t.scrollTop}))}))))})),[_a,Pa]=ca("SelectGroup"),Da=F.forwardRef(((e,t)=>{const{__scopeSelect:r}=e,n=I(e,y),a=Pa("SelectLabel",r);return F.createElement(U.div,$({id:a.id},n,{ref:t}))})),Aa="SelectItem",[Ia,Ta]=ca(Aa),za=F.forwardRef(((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o}=e,i=I(e,b),s=pa(Aa,r),l=ja(Aa,r),c=s.value===n,[u,d]=F.useState(null!=o?o:""),[f,p]=F.useState(!1),m=pe(t,(e=>{var t;return null===(t=l.itemRefCallback)||void 0===t?void 0:t.call(l,e,n,a)})),v=Ne(),h=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return F.createElement(Ia,{scope:r,value:n,disabled:a,textId:v,isSelected:c,onItemTextChange:F.useCallback((e=>{d((t=>{var r;return t||(null!==(r=null==e?void 0:e.textContent)&&void 0!==r?r:"").trim()}))}),[])},F.createElement(ia.ItemSlot,{scope:r,value:n,disabled:a,textValue:u},F.createElement(U.div,$({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i,{ref:m,onFocus:ge(i.onFocus,(()=>p(!0))),onBlur:ge(i.onBlur,(()=>p(!1))),onPointerUp:ge(i.onPointerUp,h),onPointerMove:ge(i.onPointerMove,(e=>{var t;a?null===(t=l.onItemLeave)||void 0===t||t.call(l):e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:ge(i.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null===(t=l.onItemLeave)||void 0===t||t.call(l))})),onKeyDown:ge(i.onKeyDown,(e=>{var t;""!==(null===(t=l.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(aa.includes(e.key)&&h()," "===e.key&&e.preventDefault())}))}))))})),La="SelectItemText",Fa=F.forwardRef(((e,t)=>{const{__scopeSelect:r,className:n,style:a}=e,o=I(e,x),i=pa(La,r),s=ja(La,r),l=Ta(La,r),c=va(La,r),[u,d]=F.useState(null),f=pe(t,(e=>d(e)),l.onItemTextChange,(e=>{var t;return null===(t=s.itemTextRefCallback)||void 0===t?void 0:t.call(s,e,l.value,l.disabled)})),p=null==u?void 0:u.textContent,m=F.useMemo((()=>F.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p)),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:h}=c;return ye((()=>(v(m),()=>h(m))),[v,h,m]),F.createElement(F.Fragment,null,F.createElement(U.span,$({id:l.textId},o,{ref:f})),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?be.createPortal(o.children,i.valueNode):null)})),qa=F.forwardRef(((e,t)=>{const{__scopeSelect:r}=e,n=I(e,w);return Ta("SelectItemIndicator",r).isSelected?F.createElement(U.span,$({"aria-hidden":!0},n,{ref:t})):null})),Va="SelectScrollUpButton",Ba=F.forwardRef(((e,t)=>{const r=ja(Va,e.__scopeSelect),n=Oa(Va,e.__scopeSelect),[a,o]=F.useState(!1),i=pe(t,n.onScrollButtonChange);return ye((()=>{if(r.viewport&&r.isPositioned){const e=r.viewport;function t(){const t=e.scrollTop>0;o(t)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[r.viewport,r.isPositioned]),a?F.createElement(Wa,$({},e,{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null})),Ha="SelectScrollDownButton",Ka=F.forwardRef(((e,t)=>{const r=ja(Ha,e.__scopeSelect),n=Oa(Ha,e.__scopeSelect),[a,o]=F.useState(!1),i=pe(t,n.onScrollButtonChange);return ye((()=>{if(r.viewport&&r.isPositioned){const e=r.viewport;function t(){const t=e.scrollHeight-e.clientHeight,r=Math.ceil(e.scrollTop)<t;o(r)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[r.viewport,r.isPositioned]),a?F.createElement(Wa,$({},e,{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null})),Wa=F.forwardRef(((e,t)=>{const{__scopeSelect:r,onAutoScroll:n}=e,a=I(e,S),o=ja("SelectScrollButton",r),i=F.useRef(null),s=sa(r),l=F.useCallback((()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)}),[]);return F.useEffect((()=>()=>l()),[l]),ye((()=>{var e;const t=s().find((e=>e.ref.current===document.activeElement));null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})}),[s]),F.createElement(U.div,$({"aria-hidden":!0},a,{ref:t,style:D({flexShrink:0},a.style),onPointerDown:ge(a.onPointerDown,(()=>{null===i.current&&(i.current=window.setInterval(n,50))})),onPointerMove:ge(a.onPointerMove,(()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===i.current&&(i.current=window.setInterval(n,50))})),onPointerLeave:ge(a.onPointerLeave,(()=>{l()}))}))})),Ua=F.forwardRef(((e,t)=>{const{__scopeSelect:r}=e,n=I(e,j);return F.createElement(U.div,$({"aria-hidden":!0},n,{ref:t}))}));function $a(e){return""===e||void 0===e}const Ga=F.forwardRef(((e,t)=>{const{value:r}=e,n=I(e,k),a=F.useRef(null),o=pe(t,a),i=function(e){const t=F.useRef({value:e,previous:e});return F.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(r);return F.useEffect((()=>{const e=a.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(i!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[i,r]),F.createElement(Ce,{asChild:!0},F.createElement("select",$({},n,{ref:o,defaultValue:r})))}));function Xa(e){const t=Ee(e),r=F.useRef(""),n=F.useRef(0),a=F.useCallback((e=>{const a=r.current+e;t(a),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout((()=>e("")),1e3))}(a)}),[t]),o=F.useCallback((()=>{r.current="",window.clearTimeout(n.current)}),[]);return F.useEffect((()=>()=>window.clearTimeout(n.current)),[]),[r,a,o]}function Ya(e,t,r){const n=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,a=r?e.indexOf(r):-1;let o=(i=e,s=Math.max(a,0),i.map(((e,t)=>i[(s+t)%i.length])));var i,s;1===n.length&&(o=o.filter((e=>e!==r)));const l=o.find((e=>e.textValue.toLowerCase().startsWith(n.toLowerCase())));return l!==r?l:void 0}Ga.displayName="BubbleSelect";const Za=ha,Ja=ya,Qa=e=>F.createElement(Oe,$({asChild:!0},e)),eo=xa,to=Ma,ro=Da,no=za,ao=Fa,oo=qa,io=Ba,so=Ka,lo=Ua,co=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p}=e,m=da(t),[v,h]=F.useState(null),[g,y]=F.useState(null),[b,x]=F.useState(!1),w=function(e){const t=F.useContext(ra);return e||t||"ltr"}(c),[S=!1,j]=Me({prop:n,defaultProp:a,onChange:o}),[k,N]=Me({prop:i,defaultProp:s,onChange:l}),C=F.useRef(null),E=!v||Boolean(v.closest("form")),[O,R]=F.useState(new Set),M=Array.from(O).map((e=>e.props.value)).join(";");return F.createElement(_e,m,F.createElement(fa,{required:p,scope:t,trigger:v,onTriggerChange:h,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:x,contentId:Ne(),value:k,onValueChange:N,open:S,onOpenChange:j,dir:w,triggerPointerDownPosRef:C,disabled:f},F.createElement(ia.Provider,{scope:t},F.createElement(ma,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback((e=>{R((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:F.useCallback((e=>{R((t=>{const r=new Set(t);return r.delete(e),r}))}),[])},r)),E?F.createElement(Ga,{key:M,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:e=>N(e.target.value),disabled:f},void 0===k?F.createElement("option",{value:""}):null,Array.from(O)):null))},uo=ga,fo=F.forwardRef(((e,t)=>{let{className:r,children:n}=e,a=I(e,N);return q.jsxs(Za,D(D({ref:t,className:V("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{},{children:[n,q.jsx(Ja,{asChild:!0,children:q.jsx(He,{className:"h-4 w-4 opacity-50"})})]}))}));fo.displayName=Za.displayName;const po=F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,C);return q.jsx(io,D(D({ref:t,className:V("flex cursor-default items-center justify-center py-1",r)},n),{},{children:q.jsx(Ke,{className:"h-4 w-4"})}))}));po.displayName=io.displayName;const mo=F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,E);return q.jsx(so,D(D({ref:t,className:V("flex cursor-default items-center justify-center py-1",r)},n),{},{children:q.jsx(He,{className:"h-4 w-4"})}))}));mo.displayName=so.displayName;const vo=F.forwardRef(((e,t)=>{let{className:r,children:n,position:a="popper"}=e,o=I(e,O);return q.jsx(Qa,{children:q.jsxs(eo,D(D({ref:t,className:V("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},o),{},{children:[q.jsx(po,{}),q.jsx(to,{className:V("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),q.jsx(mo,{})]}))})}));vo.displayName=eo.displayName;F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,R);return q.jsx(ro,D({ref:t,className:V("py-1.5 pl-8 pr-2 text-sm font-semibold",r)},n))})).displayName=ro.displayName;const ho=F.forwardRef(((e,t)=>{let{className:r,children:n}=e,a=I(e,M);return q.jsxs(no,D(D({ref:t,className:V("relative flex w-full cursor-default items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[q.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:q.jsx(oo,{children:q.jsx(Be,{className:"h-4 w-4"})})}),q.jsx(ao,{children:n})]}))}));ho.displayName=no.displayName;F.forwardRef(((e,t)=>{let{className:r}=e,n=I(e,_);return q.jsx(lo,D({ref:t,className:V("-mx-1 my-1 h-px bg-muted",r)},n))})).displayName=lo.displayName;const go=()=>{var e;const t=_r(Pe),r=_r(oe),n=_r(De);return q.jsxs(co,{value:null===(e=r.value)||void 0===e?void 0:e.name,disabled:t.empty,onValueChange:e=>n(t.value.find((t=>t.name===e))),children:[q.jsx(fo,{className:"max-w-[250px]",children:q.jsx(uo,{placeholder:"Выберите проект..."})}),q.jsx(vo,{children:t.value.map((e=>q.jsx(ho,{value:e.name||"-",children:e.name||"-"},e.name)))})]})},yo=()=>{const[e,,t]=$n(!1),r=F.useRef(null);return F.useLayoutEffect((()=>{var t;e||(null===(t=r.current)||void 0===t||t.reset())}),[e]),q.jsxs(G,{open:e,onOpenChange:t,children:[q.jsx(X,{asChild:!0,children:q.jsx(Y,{variant:"outline",size:"icon",className:"shrink-0",children:q.jsx($e,{className:"h-4 w-4"})})}),q.jsxs(J,{className:"sm:max-w-[425px]",children:[q.jsxs(Q,{children:[q.jsx(ee,{children:"Создание проекта"}),q.jsx(Ae,{children:"Создавай давай"})]}),q.jsxs("form",{ref:r,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const n=r.current,a=Object.fromEntries(new FormData(n));Ie({logs:[],name:a.name}),n.reset(),t(!1),re({type:"success",message:"Проект успешно сделан!"})},children:[q.jsx("div",{className:"grid gap-4 py-4",children:q.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[q.jsx(Jn,{htmlFor:"name",className:"text-right",children:"Имя"}),q.jsx(Xn,{id:"name",name:"name",required:!0,className:"col-span-3"})]})}),q.jsx(ne,{children:q.jsx(Y,{type:"submit",children:"Создать"})})]})]})]})},bo=()=>{const e=B(Te);return q.jsx(Y,{variant:"outline",size:"icon",className:"shrink-0",onClick:e,children:q.jsx(We,{className:"h-4 w-4"})})};var xo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},So=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,jo=/[&<>"']/g;function ko(e){return xo[e]}function No(e){return wo[e]}function Co(e){return null==e?"":String(e).replace(jo,ko)}function Eo(e){return null==e?"":String(e).replace(So,No)}Co.options=Eo.options={};var Oo={encode:Co,escape:Co,decode:Eo,unescape:Eo,version:"1.0.0-browser"};var Ro=function e(t){for(var r,n,a=Array.prototype.slice.call(arguments,1);a.length;)for(n in r=a.shift())r.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(t[n])?t[n]=e(t[n],r[n]):t[n]=r[n]);return t},Mo=function(e){return"string"==typeof e?e.toLowerCase():e};function _o(e,t){return e[t]=!0,e}var Po=function(e){return e.reduce(_o,{})},Do={uris:Po(["background","base","cite","href","longdesc","src","usemap"])},Ao={voids:Po(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])},Io=Oo,To=Mo,zo=Ao,Lo=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,Fo=/^<\s*\/\s*([\w:-]+)[^>]*>/,qo=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,Vo=/^</,Bo=/^<\s*\//;var Ho=function(e,t){for(var r,n=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),a=e;e;)o();function o(){r=!0,function(){"\x3c!--"===e.substr(0,4)?(n=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,n)),e=e.substring(n+3),r=!1):Bo.test(e)?i(Fo,l):Vo.test(e)&&i(Lo,s);var n;!function(){if(!r)return;var n,a=e.indexOf("<");a>=0?(n=e.substring(0,a),e=e.substring(a)):(n=e,e="");t.chars&&t.chars(n)}()}();var n=e===a;a=e,n&&(e="")}function i(t,n){var a=e.match(t);a&&(e=e.substring(a[0].length),a[0].replace(t,n),r=!1)}function s(e,r,a,o){var i={},s=To(r),l=zo.voids[s]||!!o;a.replace(qo,(function(e,t,r,n,a){i[t]=void 0===r&&void 0===n&&void 0===a?void 0:Io.decode(r||n||a||"")})),l||n.push(s),t.start&&t.start(s,i,l)}function l(e,r){var a,o=0,i=To(r);if(i)for(o=n.length-1;o>=0&&n[o]!==i;o--);if(o>=0){for(a=n.length-1;a>=o;a--)t.end&&t.end(n[a]);n.length=o}}l()},Ko=Oo,Wo=Mo,Uo=Do,$o=Ao;var Go=function(e,t){var r,n=t||{};return s(),{start:function(e,t,i){var s=Wo(e);if(r.ignoring)return void o(s);if(-1===(n.allowedTags||[]).indexOf(s))return void o(s);if(n.filter&&!n.filter({tag:s,attrs:t}))return void o(s);a("<"),a(s),Object.keys(t).forEach((function(e){var r,o=t[e],i=(n.allowedClasses||{})[s]||[],l=(n.allowedAttributes||{})[s]||[],c=Wo(e);r="class"===c&&-1===l.indexOf(c)?(o=o.split(" ").filter((function(e){return i&&-1!==i.indexOf(e)})).join(" ").trim()).length:-1!==l.indexOf(c)&&(!0!==Uo.uris[c]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var r=e.indexOf(":");if(-1===r)return!0;var a=e.indexOf("?");if(-1!==a&&r>a)return!0;var o=e.indexOf("#");return-1!==o&&r>o||n.allowedSchemes.some(i);function i(t){return 0===e.indexOf(t+":")}}(o)),r&&(a(" "),a(e),"string"==typeof o&&(a('="'),a(Ko.encode(o)),a('"')))})),a(i?"/>":">")},end:function(e){var t=Wo(e);-1!==(n.allowedTags||[]).indexOf(t)&&!1===r.ignoring?(a("</"),a(t),a(">")):i(t)},chars:function(e){!1===r.ignoring&&a(n.transformText?n.transformText(e):e)}};function a(t){e.push(t)}function o(e){$o.voids[e]||(!1===r.ignoring?r={ignoring:e,depth:1}:r.ignoring===e&&r.depth++)}function i(e){r.ignoring===e&&--r.depth<=0&&s()}function s(){r={ignoring:!1,depth:0}}},Xo=Ro,Yo=Ho,Zo=Go,Jo={allowedAttributes:{a:["href","name","target","title","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};function Qo(e,t,r){var n=[],a=!0===r?t:Xo({},Jo,t),o=Zo(n,a);return Yo(e,o),n.join("")}Qo.defaults=Jo;const ei=ze(Qo),ti={allowedAttributes:{a:["href","name","target"],iframe:["allowfullscreen","frameborder","src"],img:["src"],span:["class"],code:["class"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null,transformText:null},ri=()=>{const e=Le(oe.$value,(e=>{if(!e)return null;if(!e.logs.length)return[];const t={};return e.logs.slice().sort(((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime())).forEach((e=>{const r=K.format.dateTime(e.startDate,{format:"month"});t[r]||(t[r]={label:r,logs:[]}),t[r].logs.push(e)})),Object.values(t)}));return e?e.length?q.jsx("div",{className:"max-w-[540px] select-text",children:e.map((e=>q.jsxs("div",{className:"relative select-text py-4",children:[q.jsx("h1",{className:"mb-2 select-text text-lg",children:e.label}),q.jsx("div",{className:"flex select-text flex-col",children:e.logs.map(((e,t)=>{return q.jsxs(F.Fragment,{children:[q.jsx("div",{className:"h-1 w-full hover:bg-reverse"}),q.jsxs("div",{className:"relative my-0.5 select-text",children:[q.jsx("div",{className:"absolute left-0 top-0 h-full w-1 select-text rounded-sm bg-accent"}),q.jsx("span",{className:"ml-3 select-text text-sm text-foreground/70",children:K.format.dateTime(e.startDate,{format:"dddd, D, HH:mm A"})}),q.jsx("span",{className:"text-foreground/7 0 select-text text-sm",children:` - ${K.format.dateTime(e.spentTime,{format:"time",asTime:!0})} (${K.format.dateTime(Date.now()+e.spentTime,{format:"spent-time"})})`}),q.jsx("div",{className:"ml-3 select-text",dangerouslySetInnerHTML:{__html:(r=e.meta,ei(r||"",ti))}})]})]},t);var r}))})]},e.label)))}):q.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Нет логов"}):q.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Проект не выбран"})},ni=()=>{const e=B(Fe);return e?q.jsx("div",{className:"select-text text-sm font-semibold",children:e}):null},ai=()=>{const e=B(qe);return q.jsx(Xn,{type:"number",placeholder:"0",className:"max-w-[140px]",value:e.value||"",onChange:t=>{e.set(+t.target.value||0)}})},oi=()=>{const[e,,t]=$n(!1),r=F.useRef(null);return F.useLayoutEffect((()=>{var t;e||(null===(t=r.current)||void 0===t||t.reset())}),[e]),q.jsxs(G,{open:e,onOpenChange:t,children:[q.jsx(X,{asChild:!0,children:q.jsx(Y,{variant:"outline",size:"icon",className:"shrink-0",children:q.jsx(Ue,{className:"h-4 w-4"})})}),q.jsxs(J,{className:"sm:max-w-[425px]",children:[q.jsxs(Q,{children:[q.jsx(ee,{children:"Сброс данных по трекингу"}),q.jsx(Ae,{children:"Все логи по текущему проекту будут удалены"})]}),q.jsx("form",{ref:r,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const n=r.current;oe.update({logs:[]}),n.reset(),t(!1),re({type:"success",message:"Всё сброшено!"})},children:q.jsx(ne,{children:q.jsx(Y,{type:"submit",children:"ОК"})})})]})]})};P("HomePage",(()=>q.jsx(Ve,{className:"flex flex-col",children:q.jsxs("div",{children:[q.jsxs("div",{className:"flex flex-row justify-between",children:[q.jsxs("div",{children:[q.jsx("span",{className:"text-xs text-muted-foreground",children:"проект:"}),q.jsxs("div",{className:"flex w-[260px] flex-row gap-2",children:[q.jsx(go,{}),q.jsx(yo,{})]})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-xs text-muted-foreground",children:"ставка:"}),q.jsx(ai,{})]})]}),q.jsx(ea,{className:"mb-6 mr-auto mt-10 w-full"}),q.jsxs("div",{className:"mb-4 flex flex-row justify-end gap-2",children:[q.jsx(oi,{}),q.jsx(bo,{})]}),q.jsx(ni,{}),q.jsx(ri,{})]})})))}}}))}();
