import{c as Ue,s as ia,w as ca,r as g,j as x,a as X,b as Mt,$ as la,h as st,d as cr,e as be,_ as U,D as $n,f as Sn,B as ke,t as lr,g as Cn,i as kn,k as Nn,l as ua,m as En,n as jn,o as Bn,p as Ot,q as da,u as fa,v as pa,x as ma,y as va,z as ur,A as je,C as xe,E as tn,F as dr,G as ha,H as te,I as Be,J as fr,K as ga,L as xa,M as ba,N as ya,O as wa,P as pr,Q as $a,R as Sa,S as Ca,T as ka,U as Hn,V as Na,W as Ea,X as ja,Y as mr,Z as Ta,a0 as Ra,a1 as Ia,a2 as Pa,a3 as _a,a4 as Ma,a5 as Oa}from"./entry.lwdEjArI.js";/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ue("BadgePlus",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Ue("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.308.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),za=!0,si=Object.freeze(Object.defineProperty({__proto__:null,skip:za},Symbol.toStringTag,{value:"Module"}));var se={},T={};function Se(e,t){for(var n in e)t(e[n],n)}function W(e,t){e.forEach(t)}function j(e,t,n){if(!e)throw Error((n?n+": ":"")+t)}function Fn(e,t){var n=q(e).meta||{};ne={id:q(e).id,parent:ne,value:e,template:n.template||tt(),sidRoot:n.sidRoot||ne&&ne.sidRoot,meta:n};try{return t()}finally{Tn("region"),ne=ce(ne)}}function K(e){var t=e===void 0?{}:e,n=t.node,r=n===void 0?[]:n,a=t.parent,o=t.child,s=o===void 0?t.to||t.target:o,i=t.scope,l=i===void 0?{}:i,c=t.meta,m=c===void 0?{}:c,y=t.family,f=y===void 0?{type:"regular"}:y,h=t.regional,u=ct(a===void 0?t.from||t.source:a),v=ct(f.links),b=ct(f.owners),d=[];W(r,function(w){return w&&V(d,w)});var p={id:Ka(),seq:d,next:ct(s),meta:m,scope:l,family:{type:f.type||"crosslink",links:v,owners:b}};return W(v,function(w){return V(mt(w),p)}),W(b,function(w){return V(vt(w),p)}),W(u,function(w){return V(w.next,p)}),h&&ne&&Le(ut(ne),[p]),p}function Ce(e,t,n){var r,a=ge,o=null,s=_;if(e.target&&(t=e.params,n=e.defer,r=e.meta,a="page"in e?e.page:a,e.stack&&(o=e.stack),s=De(e)||s,e=e.target),s&&_&&s!==_&&(_=null),Array.isArray(e))for(var i=0;i<e.length;i++)Fe("pure",a,q(e[i]),o,t[i],s,r);else Fe("pure",a,q(e),o,t,s,r);if(!n||bt){var l,c,m,y,f,h,u={isRoot:bt,currentPage:ge,scope:_,isWatch:wt,isPure:$t};bt=0;for(var v=function(){var b=y.idx,d=y.stack,p=y.type;m=d.node,ge=f=d.page,_=De(d),f?h=f.reg:_&&(h=_.reg);var w=!!f,$=!!_,S={fail:0,scope:m.scope};l=c=0;for(var E=b;E<m.seq.length&&!l;E++){var C=m.seq[E];if(C.order){var k=C.order,R=k.priority,I=k.barrierID,O=I?f?f.fullID+"_"+I:I:0;if(E!==b||p!==R)return I?Gt.has(O)||(Gt.add(O),dn(E,d,R,I)):dn(E,d,R,0),"continue|kernelLoop";I&&Gt.delete(O)}switch(C.type){case"mov":var P=C.data,z=void 0;switch(P.from){case"stack":z=ut(d);break;case"a":case"b":z=d[P.from];break;case"value":z=P.store;break;case"store":if(h&&!h[P.store.id])if(w){var me=Sr(f,P.store.id);d.page=f=me,me?h=me.reg:$?(Rt(_,P.store,0,1,P.softRead),h=_.reg):h=void 0}else $&&Rt(_,P.store,0,1,P.softRead);z=dt(h&&h[P.store.id]||P.store)}switch(P.to){case"stack":d.value=z;break;case"a":case"b":d[P.to]=z;break;case"store":pn(f,_,P.target,0).current=z}break;case"compute":var F=C.data;if(F.fn){wt=m.meta.op==="watch",$t=F.pure;var ae=F.safe?(0,F.fn)(ut(d),S.scope,d):Ja(S,F.fn,d);F.filter?c=!ae:d.value=ae,wt=u.isWatch,$t=u.isPure}}l=S.fail||c}if(un&&un(d,S),!l){var J=ut(d),Y=De(d);if(W(m.next,function(He){Fe("child",f,He,d,J,Y)}),Y){m.meta.needFxCounter&&Fe("child",f,Y.fxCount,d,J,Y),m.meta.storeChange&&Fe("child",f,Y.storeChange,d,J,Y),m.meta.warnSerialize&&Fe("child",f,Y.warnSerializeNode,d,J,Y);var ye=Y.additionalLinks[m.id];ye&&W(ye,function(He){Fe("child",f,He,d,J,Y)})}}};y=Xa();)v();bt=u.isRoot,ge=u.currentPage,_=De(u)}}function hr(e,t){t===void 0&&(t="combine");var n=t+"(",r="",a=0;return Se(e,function(o){a<25&&(o!=null&&(n+=r,n+=le(o)?Et(o).fullName:o.toString()),a+=1,r=", ")}),n+")"}function nn(e,t){var n,r,a=e;if(t){var o=Et(t);e.length===0?(n=o.path,r=o.fullName):(n=o.path.concat([e]),r=o.fullName.length===0?e:o.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:a,fullName:r,path:n}}function ie(e,t){if(!t||!t.name&&!t.named&&!t.loc)return e;var n="["+e+"]",r=t.named||t.name;r&&(n+=" unit '"+r+"'");var a=t.loc;return!r&&a&&(n+=" ("+a.file+":"+a.line+":"+a.column+")"),n}function Me(e,t){var n=t?e:e[0];Rn(n);var r=n.or,a=n.and;if(a){var o=t?a:a[0];if(pe(o)&&"and"in o){var s=Me(a,t);e=s[0],r=Object.assign({},r,s[1])}else e=a}return[e,r]}function rn(e){var t=function(){return e()};return t.unsubscribe=function(){return e()},t}function de(e){var t=tt();if(t){for(var n=t.handlers[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n)return n.apply(void 0,[t].concat(a))}}function Va(e,t,n,r){var a=ge,o=null;if(t)for(o=ge;o&&o.template!==t;)o=ce(o);Yn(o);var s=e.create(n,r);return Yn(a),s}function ee(e,t){var n=Je({or:t,and:typeof e=="string"?{name:e}:e}),r=ie("event",n),a=function i(l){j(!Q(i,"derived"),"call of derived event is not supported, use createEvent instead",r),j(!$t,"unit call from pure function is not supported, use operators like sample instead",r);for(var c=arguments.length,m=new Array(c>1?c-1:0),y=1;y<c;y++)m[y-1]=arguments[y];return ge?Va(i,o,l,m):i.create(l,m)},o=tt(),s=Object.assign(a,{graphite:K({meta:_n(n.actualOp||"event",a,n),regional:1}),create:function(i){return Ce({target:a,params:i,scope:_}),i},watch:function(i){return Cr(a,i)},map:function(i){return Yt(a,"map",i,[Re()])},filter:function(i){return Yt(a,"filter",i.fn?i:i.fn,[Re(At,1)])},filterMap:function(i){return Yt(a,"filterMap",i,[Re(),Z(function(l){return!ue(l)},1)])},prepend:function(i){j(a.targetable,".prepend of derived event is not supported, call source event instead",r);var l=ee("* → "+a.shortName,{parent:ce(a)});return de("eventPrepend",q(l)),_e(l,a,[Re()],"prepend",i),mn(a,l),l}});return n!=null&&n.domain&&n.domain.hooks.event(s),Te(s,"id",s.graphite.id),Tn(s.graphite),s}function zn(e,t,n,r,a){return Qe(n,a+" "+t,"first argument"),j(re(r),"second argument should be a function",a),ve(!Q(e,"derived"),t+" in derived store",t+" in store created via createStore",a),W(Array.isArray(n)?n:[n],function(o){e.off(o),Nt(e).set(o,It(kr(o,e,"on",Ya,r)))}),e}function Ae(e,t){var n=Je(t),r=We(e),a=ie("store",n),o=ee({named:"updates",derived:1});de("storeBase",r);var s=r.id,i="skipVoid"in n,l=i&&!n.skipVoid;ve(!(i&&n.skipVoid),"{skipVoid: true}","updateFilter",a);var c={subscribers:new Map,updates:o,defaultState:e,stateRef:r,getState:function(){var d,p=r;if(ge){for(var w=ge;w&&!w.reg[s];)w=ce(w);w&&(d=w)}return!d&&_&&(Rt(_,r,1),d=_),d&&(p=d.reg[s]),dt(p)},setState:function(d){return Ce({target:c,params:d,defer:1,scope:_})},reset:function(){j(c.targetable,".reset of derived store is not supported",a);for(var d=arguments.length,p=new Array(d),w=0;w<d;w++)p[w]=arguments[w];return W(p,function($){return zn(c,".reset",$,function(){return c.defaultState},a)}),c},on:function(d,p){return j(c.targetable,".on of derived store is not supported",a),zn(c,".on",d,p,a)},off:function(d){var p=Nt(c).get(d);return p&&(p(),Nt(c).delete(d)),c},map:function(d,p){var w,$;pe(d)&&(w=d,d=d.fn);var S=c.getState(),E=ue(S);tt()?$=null:(!E||E&&l)&&($=d(S));var C=Ae($,Object.assign({name:c.shortName+" → *",derived:1},p,{and:w})),k=kr(c,C,"map",At,d);return Tt(fe(C),{type:"map",fn:d,from:r}),fe(C).noInit=1,de("storeMap",r,k),C},watch:function(d,p){if(ve(!p,"watch second argument","sample",a),!p||!le(d)){var w=Cr(c,d);return de("storeWatch",r,d)||d(c.getState()),w}return j(re(p),"second argument should be a function",a),d.watch(function($){return p(c.getState(),$)})}},m=_n("store",c,n),y=c.defaultConfig.updateFilter;c.graphite=K({scope:{state:r,fn:y},node:[Z(function(d,p,w){return w.scope&&!w.scope.reg[r.id]&&(w.b=1),d}),Ne(r),Z(function(d,p,w){var $=w.a,S=w.b,E=ue(d);return E&&!i&&console.error(a+": "+kt),(E&&l||!E)&&(d!==$||S)},1),y&&Re(wr,1),he({from:"stack",target:r})],child:o,meta:Object.assign({},m,{defaultState:e}),regional:1}),Te(c,"id",c.graphite.id),Te(c,"rootStateRefId",s);var f=Q(c,"serialize"),h=Q(c,"derived"),u=f==="ignore",v=Q(c,"sid");v&&(Te(c,"storeChange",1),r.sid=v),v||u||h||Te(c,"warnSerialize",1);var b=ue(e);return j(h||!b||b&&l,kt,a),h&&b&&!i&&console.error(a+": "+kt),Le(c,[o]),n!=null&&n.domain&&n.domain.hooks.store(c),h||(c.reinit=ee({named:"reinit"}),c.reset(c.reinit)),r.meta=c.graphite.meta,Tn(c.graphite),c}function an(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,o,s=Me(t);t=s[0];var i,l,c,m=ie("combine",o=s[1]),y=t[t.length-1],f=!G(y)&&pe(y),h=f&&y,u=f?t[t.length-2]:y;if(re(u)?(a=t.slice(0,f?-2:-1),r=u):a=t,a.length===1){var v=a[0];G(v)||(i=v,l=1)}if(!l&&(i=a,r)){c=1;var b=r;r=function(d){return b.apply(void 0,d)}}return j(pe(i),m+": shape should be an object"),to(Array.isArray(i),!c,i,o,r,h)}function gr(){var e={};return e.req=new Promise(function(t,n){e.rs=t,e.rj=n}),e.req.catch(function(){}),e}function Ut(e,t){t===void 0&&(t={});var n=Je(re(e)?{handler:e}:e,t),r=ie("effect",n),a=ee(re(e)?{handler:e}:e,Object.assign({},t,{actualOp:"effect"})),o=q(a);Te(o,"op",a.kind="effect"),a.use=function(u){return j(re(u),".use argument should be a function",r),y.scope.handler=u,a},a.use.getCurrent=function(){return y.scope.handler};var s=a.finally=ee({named:"finally",derived:1}),i=a.done=s.filterMap({named:"done",fn:function(u){if(u.status==="done")return{params:u.params,result:u.result}}}),l=a.fail=s.filterMap({named:"fail",fn:function(u){if(u.status==="fail")return{params:u.params,error:u.error}}}),c=a.doneData=i.map({named:"doneData",fn:function(u){return u.result}}),m=a.failData=l.map({named:"failData",fn:function(u){return u.error}}),y=K({scope:{handler:a.defaultConfig.handler||function(){return j(0,"no handler used in "+a.compositeName.fullName)}},node:[Z(function(u,v,b){var d=v.handler,p=De(b);if(p){var w=p.handlers.unitMap.get(a)||p.handlers.sidMap[a.sid];w&&(d=w)}return u.handler=d,u},0,1),Z(function(u,v,b){if(!v.runnerFn||v.runnerFn(u,null,b)){var d=u.params,p=u.req,w=u.handler,$=u.args,S=$===void 0?[d]:$,E=Pt(d,p,1,s,b),C=Pt(d,p,0,s,b),k=Nr(w,C,S),R=k[1];k[0]&&(pe(R)&&re(R.then)?R.then(E,C):E(R))}},0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=y,V(o.seq,Z(function(u,v,b){var d=v.runner,p=ce(b)?{params:u,req:{rs:function(){},rj:function(){}}}:u;return b.meta||(b.meta={fxID:Ga()}),Ce({target:d,params:p,defer:1,scope:De(b),meta:b.meta}),p.params})),a.create=function(u){var v=gr(),b={params:u,req:v};if(_&&!wt){var d=_;v.req.finally(function(){St(d)}).catch(function(){})}return Ce({target:a,params:b,scope:_}),v.req};var f=a.inFlight=Ae(0,{serialize:"ignore",named:(Q(a,"name")||a.graphite.id)+".inFlight"}).on(a,function(u){return u+1}).on(s,function(u){return u-1}).map({fn:function(u){return u},named:"inFlight"});Te(s,"needFxCounter","dec"),Te(a,"needFxCounter",1);var h=a.pending=f.map({fn:function(u){return u>0},named:"pending"});return Le(a,[s,i,l,c,m,h,f]),n!=null&&n.domain&&n.domain.hooks.effect(a),a}function xr(e,t){var n=ie("merge",t);Qe(e,n,"first argument");var r=ee({name:hr(e,"merge"),derived:1,and:t});return _e(e,r,[],"merge"),r}function Vn(e,t){var n=0;return W(ro,function(r){r in e&&(j(e[r]!=null,Er(t,r)),n=1)}),n}function Wn(e,t,n){var r=[];(function a(o){Ye(r,o)||(V(r,o),Q(o,"op")==="store"&&(n||Q(o,"sid"))&&t(o,Q(o,"sid")),W(o.next,a),W(mt(o),a),W(vt(o),a))})(e)}function qt(e,t){var n=Array.isArray(e)?new Map(e):e,r=new Map,a=0;if(n instanceof Map){var o={};return W(n,function(s,i){j(le(i),"Map key should be a unit"),t&&t(i,s),i.sid&&(i.sid in o&&(a=1),o[i.sid]=s),r.set(i,s)}),{sidMap:o,unitMap:r,hasSidDoubles:a}}return{sidMap:n,unitMap:r}}function Wa(e,t){return G(t)?[lt.mov({store:t.stateRef,to:"stack"})].concat(e):e}Object.defineProperty(T,"__esModule",{value:1});for(var on,sn=typeof Symbol<"u"&&Symbol.observable||"@@observable",q=function(e){return e.graphite||e},mt=function(e){return e.family.owners},vt=function(e){return e.family.links},fe=function(e){return e.stateRef},ut=function(e){return e.value},Nt=function(e){return e.subscribers},ce=function(e){return e.parent},De=function(e){return e.scope},Q=function(e,t){return q(e).meta[t]},Te=function(e,t,n){return q(e).meta[t]=n},Et=function(e){return e.compositeName},le=function(e){return(re(e)||pe(e))&&"kind"in e},at=function(e){return function(t){return le(t)&&t.kind===e}},G=at("store"),cn=at("event"),Ie=at("effect"),br=function(e){return le(e)&&!!e.targetable},jt=at("domain"),it=at("scope"),Ua={__proto__:null,unit:le,store:G,event:cn,effect:Ie,targetable:br,domain:jt,scope:it,attached:function(e){return Ie(e)&&Q(e,"attached")==1}},Ye=function(e,t){return e.includes(t)},Kt=function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},V=function(e,t){return e.push(t)},ve=function(e,t,n,r){return!e&&console.error((r?r+": ":"")+t+" is deprecated"+(n?", use "+n+" instead":""))},xt=function(){var e=0;return function(){return""+ ++e}},qa=xt(),Un=xt(),Ka=xt(),Ga=xt(),ne=null,Tn=function(e){on&&on(e,ne)},tt=function(){return ne&&ne.template},yr=function(e){return e&&ne&&ne.sidRoot&&(e=ne.sidRoot+"|"+e),e},Le=function(e,t){var n=q(e);W(t,function(r){var a=q(r);n.family.type!=="domain"&&(a.family.type="crosslink"),V(mt(a),n),V(vt(n),a)})},ct=function(e){return e===void 0&&(e=[]),(Array.isArray(e)?e:[e]).flat().map(q)},pe=function(e){return typeof e=="object"&&e!==null},re=function(e){return typeof e=="function"},ue=function(e){return e===void 0},Rn=function(e){return j(pe(e)||re(e),"expect first argument be an object")},qn=function(e,t,n,r){return j(!(!pe(e)&&!re(e)||!("family"in e)&&!("graphite"in e)),t+": expect "+n+" to be a unit (store, event or effect)"+r)},Qe=function(e,t,n){Array.isArray(e)?W(e,function(r,a){return qn(r,t,a+" item of "+n,"")}):qn(e,t,n," or array of units")},ln=function(e,t,n){return n===void 0&&(n="target"),W(ct(t),function(r){return j(!Q(r,"derived"),e+': derived unit in "'+n+'" is not supported, use createStore/createEvent instead"')})},wr=function(e,t,n){return(0,t.fn)(e,n.a)},Ya=function(e,t,n){return(0,t.fn)(n.a,e)},At=function(e,t){return(0,t.fn)(e)},Kn=function(e,t,n,r){var a={id:Un(),type:e,data:t};return n&&(a.order={priority:n},r&&(a.order.barrierID=++Za)),a},Za=0,he=function(e){var t=e.from,n=e.target,r=e.to;return Kn("mov",{from:t===void 0?"store":t,store:e.store,to:r===void 0?n?"store":"stack":r,target:n},e.priority,e.batch)},ze=function(e){var t=e.safe,n=e.filter,r=e.pure;return Kn("compute",{fn:e.fn,safe:t===void 0?0:t,filter:n===void 0?0:n,pure:r===void 0?0:r},e.priority,e.batch)},In=function(e){return ze({fn:e.fn,priority:"effect"})},Z=function(e,t,n){return ze({fn:e,safe:1,filter:t,priority:n&&"effect"})},Ne=function(e,t,n){return he({store:e,to:t?"stack":"a",priority:n&&"sampler",batch:1})},Re=function(e,t){return e===void 0&&(e=At),ze({fn:e,pure:1,filter:t})},lt={mov:he,compute:ze,filter:function(e){return ze({fn:e.fn,filter:1,pure:e.pure})},run:In},We=function(e){return{id:Un(),current:e,initial:e}},dt=function(e){return e.current},Tt=function(e,t){e.before||(e.before=[]),V(e.before,t)},Ze=null,$r=function e(t,n){return t?(n&&((t.v.type===n.v.type&&t.v.id>n.v.id||fn(t.v.type)>fn(n.v.type))&&(r=t,t=n,n=r),r=e(t.r,n),t.r=t.l,t.l=r),t):n;var r},Pn=[],Gn=0;Gn<6;)V(Pn,{first:null,last:null,size:0}),Gn+=1;var _,un,Xa=function(){for(var e=0;e<6;e++){var t=Pn[e];if(t.size>0){if(e===3||e===4){t.size-=1;var n=Ze.v;return Ze=$r(Ze.l,Ze.r),n}t.size===1&&(t.last=null);var r=t.first;return t.first=r.r,t.size-=1,r.v}}},Fe=function(e,t,n,r,a,o,s){return dn(0,{a:null,b:null,node:n,parent:r,value:a,page:t,scope:o,meta:s},e,0)},dn=function(e,t,n,r){var a=fn(n),o=Pn[a],s={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};a===3||a===4?Ze=$r(Ze,s):(o.size===0?o.first=s:o.last.r=s,o.last=s),o.size+=1},fn=function(e){switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Gt=new Set,bt=1,wt=0,$t=0,ge=null,St=function(e){_=e},Yn=function(e){ge=e},Sr=function(e,t){if(e){for(;e&&!e.reg[t];)e=e.parent;if(e)return e}return null},pn=function(e,t,n,r){var a=Sr(e,n.id);return a?a.reg[n.id]:t?(Rt(t,n,r),t.reg[n.id]):n},Qa=function(e){return e},Rt=function e(t,n,r,a,o){var s=t.reg;if(!s[n.id]){var i=n.sid,l={id:n.id,current:n.initial,meta:n.meta};if(l.id in t.values.idMap)l.current=t.values.idMap[l.id];else if(i&&i in t.values.sidMap&&!(i in t.sidIdMap)){var c,m=n==null||(c=n.meta)===null||c===void 0?void 0:c.serialize;l.current=(t.fromSerialize&&m!=="ignore"&&(m==null?void 0:m.read)||Qa)(t.values.sidMap[i])}else if(n.before&&!o){var y=0,f=r||!n.noInit||a;W(n.before,function(h){switch(h.type){case"map":var u=h.from;if((u||h.fn)&&(u&&e(t,u,r,a),f)){var v=u&&s[u.id].current;l.current=h.fn?h.fn(v):v}break;case"field":e(t,h.from,r,a),y||(y=1,l.current=Array.isArray(l.current)?[].concat(l.current):Object.assign({},l.current)),f&&(l.current[h.field]=s[s[h.from.id].id].current)}})}i&&(t.sidIdMap[i]=n.id),s[n.id]=l}},Ja=function(e,t,n){try{return t(ut(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}},Je=function e(t,n){return n===void 0&&(n={}),pe(t)&&(e(t.or,n),Se(t,function(r,a){ue(r)||a==="or"||a==="and"||(n[a]=r)}),e(t.and,n)),n},Zn=function(e,t){Kt(e.next,t),Kt(mt(e),t),Kt(vt(e),t)},eo=function e(t,n,r){var a;t.next.length=0,t.seq.length=0,t.scope=null;for(var o=vt(t);a=o.pop();)Zn(a,t),(n||r&&t.meta.op!=="sample"||a.family.type==="crosslink")&&e(a,n,a.meta.op!=="on"&&r);for(o=mt(t);a=o.pop();)Zn(a,t),r&&a.family.type==="crosslink"&&e(a,n,a.meta.op!=="on"&&r)},ot=function(e){return e.clear()},Ct=function(e,t){var n=(t===void 0?{}:t).deep,r=0;if(e.ownerSet&&e.ownerSet.delete(e),G(e))ot(Nt(e));else if(jt(e)){r=1;var a=e.history;ot(a.events),ot(a.effects),ot(a.stores),ot(a.domains)}eo(q(e),!!n,r)},It=function(e){return rn(function(){return Ct(e)})},_e=function(e,t,n,r,a){return K({node:n,parent:e,child:t,scope:{fn:a},meta:{op:r},family:{owners:[e,t],links:t},regional:1})},Cr=function(e,t){return j(re(t),".watch argument should be a function"),It(K({scope:{fn:t},node:[In({fn:At})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))},mn=function(e,t,n){n===void 0&&(n="event"),ce(e)&&ce(e).hooks[n](t)},_n=function(e,t,n){var r=Je(n),a=e==="domain",o=qa(),s=r.sid,i=s===void 0?null:s,l=r.named,c=l===void 0?null:l,m=r.domain,y=r.parent,f=y===void 0?m===void 0?null:m:y,h=c||r.name||(a?"":o),u=nn(h,f),v={op:t.kind=e,name:t.shortName=h,sid:t.sid=yr(i),named:c,unitId:t.id=o,serialize:r.serialize,derived:r.derived,config:r};if(t.targetable=!r.derived,t.parent=f,t.compositeName=u,t.defaultConfig=r,t.getType=function(){return ve(0,"getType","compositeName.fullName"),u.fullName},!a){t.subscribe=function(d){return Rn(d),t.watch(re(d)?d:function(p){return d.next&&d.next(p)})},t[sn]=function(){return t};var b=tt();b&&(v.nativeTemplate=b)}return v},Yt=function(e,t,n,r){var a;pe(n)&&(a=n,n=n.fn);var o=ee({name:e.shortName+" → *",derived:1,and:a});return _e(e,o,r,t,n),o},kt="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",kr=function(e,t,n,r,a){var o=fe(t),s=he({store:o,to:"a",priority:"read"});n==="map"&&(s.data.softRead=1);var i=[s,Re(r)];return de("storeOnMap",o,i,G(e)&&fe(e)),_e(e,t,i,n,a)},to=function(e,t,n,r,a,o){var s=ie("combine",r),i=e?function(p){return[].concat(p)}:function(p){return Object.assign({},p)},l=e?[]:{},c=i(l),m=We(c),y=We(1);m.type=e?"list":"shape",m.noInit=1,de("combineBase",m,y);var f=Ae(c,Object.assign({name:hr(n),derived:1},o,{and:r})),h=fe(f);h.noInit=1,Te(f,"isCombine",1);var u=Ne(m);u.order={priority:"barrier"};var v=he({store:h,to:"b",priority:"read"});v.data.softRead=1;var b=[Z(function(p,w,$){return $.scope&&!$.scope.reg[m.id]&&($.c=1),p}),u,he({store:y,to:"b"}),Z(function(p,w,$){var S=w.key;if($.c||p!==$.a[S])return t&&$.b&&($.a=i($.a)),$.a[S]=p,1},1),he({from:"a",target:m}),he({from:"value",store:0,target:y}),he({from:"value",store:1,target:y,priority:"barrier",batch:1}),Ne(m,1,1),a&&Re(),v];if(Se(n,function(p,w){if(!G(p))return j(!le(p)&&!ue(p),"combine expects a store in a field "+w,s),void(c[w]=l[w]=p);l[w]=p.defaultState,c[w]=p.getState();var $=_e(p,f,b,"combine",a);$.scope.key=w;var S=fe(p);Tt(m,{type:"field",field:w,from:S}),de("combineField",S,$)}),f.defaultShape=n,Tt(h,{type:"map",from:m,fn:a}),!tt())if(a){var d=a(c);!ue(d)||o&&"skipVoid"in o||console.error(s+": "+kt),h.current=d,h.initial=d,f.defaultState=d}else f.defaultState=l;return f},Nr=function(e,t,n){try{return[1,e.apply(void 0,n)]}catch(r){return t(r),[0,null]}},Pt=function(e,t,n,r,a){return function(o){Ce({target:[r,no],params:[n?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:n?t.rs:t.rj}],defer:1,page:a.page,scope:a.scope,meta:a.meta})}},no=K({node:[In({fn:function(e){return(0,e.fn)(e.value)}})],meta:{op:"fx",fx:"sidechain"}}),ro=["source","clock","target"],Er=function(e,t){return e+": "+t+" should be defined"},Zt=function(e,t,n,r,a,o,s,i,l,c,m,y){var f=ie(e,i),h=!!a;j(!ue(n)||!ue(t),Er(f,"either source or clock"));var u=0;ue(n)?u=1:le(n)||(n=an(n)),ue(t)?t=n:(Qe(t,f,"clock"),Array.isArray(t)&&(t=xr(t))),u&&(n=t),i||s||(s=n.shortName);var v="none";(m||r)&&(le(r)?v="unit":(j(re(r),"`filter` should be function or unit"),v="fn")),a?(Qe(a,f,"target"),ln(f,a)):v==="none"&&c&&G(n)&&G(t)?a=Ae(o?o(dt(fe(n)),dt(fe(t))):dt(fe(n)),{name:s,sid:y,or:i}):(a=ee({name:s,derived:1,or:i}),de("sampleTarget",q(a)));var b=We(),d=[];if(v==="unit"){var p=Xn(r,a,t,b,e),w=p[0];p[2]||d.push.apply(d,Xt(p[1])),d.push.apply(d,Xt(w))}var $=[];if(u)l&&$.push(Ne(b,1,1));else{var S=Xn(n,a,t,b,e),E=S[0];S[2]||$.push.apply($,Xt(S[1])),$.push(Ne(E,1,l))}var C=_e(t,a,[de("sampleSourceLoader"),he({from:"stack",target:b})].concat($,d,[Ne(b),v==="fn"&&Re(function(k,R,I){return r(k,I.a)},1),o&&Re(wr),de("sampleSourceUpward",h)]),e,o);return Le(n,[C]),Object.assign(C.meta,i,{joint:1}),a},Xt=function(e){return[Ne(e),Z(function(t,n,r){return r.a},1)]},Xn=function(e,t,n,r,a){var o=G(e),s=o?fe(e):We(),i=We(o);return o||K({parent:e,node:[he({from:"stack",target:s}),he({from:"value",store:1,target:i})],family:{owners:[e,t,n],links:t},meta:{op:a},regional:1}),de("sampleSource",i,s,r),[s,i,o]},Qt=function(e,t,n,r){var a=e[t];a&&Ce({target:a,params:Array.isArray(a)?a.map(function(){return n}):n,defer:1,stack:r})},Qn=function(e){return!e.node.meta.isCombine||e.parent&&e.parent.node.meta.op!=="combine"},ao=function(e){return e};T.allSettled=function(e,t){var n=t===void 0?{}:t,r=n.scope,a=n.params;if(!le(e))return Promise.reject(new Error("first argument should be unit"));if(!(Ie(e)||cn(e)||G(e)||it(e)))return Promise.reject(new Error("first argument accepts only effects, events, stores or scopes"));it(e)&&(r=e);var o=gr();o.parentFork=_;var s=r.fxCount;V(s.scope.defers,o);var i=[],l=[];return it(e)||(V(i,e),V(l,Ie(e)?{params:a,req:{rs:function(c){o.value={status:"done",value:c}},rj:function(c){o.value={status:"fail",value:c}}}}:a)),V(i,s),V(l,null),Ce({target:i,params:l,scope:r}),o.req},T.attach=function(e){var t,n,r=Me(e,1);e=r[0];var a=ie("attach",n=r[1]),o=e.source,s=e.effect,i=e.mapParams,l=e.domain;Ie(s)&&j(ue(l),"`domain` can only be used with a plain function",a);var c=Ut(e,n);Te(c,"attached",1);var m,y,f=q(c).scope.runner,h=function(v,b,d){var p,w=v.params,$=v.req,S=v.handler,E=c.finally,C=Pt(w,$,0,E,d),k=d.a,R=Ie(S),I=1;if(i){var O=Nr(i,C,[w,k]);I=O[0],p=O[1]}else p=o&&R?k:w;if(I){if(!R)return v.args=[k,p],1;Ce({target:S,params:{params:p,req:{rs:Pt(w,$,1,E,d),rj:C}},page:d.page,defer:1,meta:d.meta})}};o?(f.scope.runnerFn=h,G(o)?Le(y=o,[c]):(y=an(o),Le(c,[y])),m=[Z(function(v){return v},0,1),Ne(fe(y))],delete f.seq[1].order):m=[Z(h,1,1)],(t=f.seq).splice.apply(t,[1,0].concat(m)),c.use(s);var u=ce(s);return u&&(Object.assign(Et(c),nn(c.shortName,u)),c.defaultConfig.parent=u),mn(s,c,"effect"),c},T.clearNode=Ct,T.combine=an,T.createApi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Me(t),a=r[0],o=a[0],s=a[1],i=r[1],l={};return Se(s,function(c,m){var y=l[m]=ee(m,{parent:ce(o),config:i});o.on(y,c),mn(o,y)}),l},T.createDomain=function e(t,n){var r=Je({or:n,and:typeof t=="string"?{name:t}:t}),a=K({family:{type:"domain"},regional:1,parent:(r==null?void 0:r.domain)||(r==null?void 0:r.parent)}),o={history:{},graphite:a,hooks:{}};a.meta=_n("domain",o,{parent:(r==null?void 0:r.domain)||(r==null?void 0:r.parent),or:Object.assign({},r,{derived:1})}),Se({Event:ee,Effect:Ut,Store:Ae,Domain:e},function(i,l){var c=l.toLowerCase(),m=ee({named:"on"+l});o.hooks[c]=m;var y=new Set;o.history[c+"s"]=y,m.create=function(f){return Ce(m,f),f},V(q(m).seq,Z(function(f,h,u){return u.scope=null,f})),m.watch(function(f){Le(o,[f]),y.add(f),f.ownerSet||(f.ownerSet=y),ce(f)||(f.parent=o)}),Le(o,[m]),o["onCreate"+l]=function(f){return W(y,f),m.watch(f)},o["create"+l]=o[c]=function(f,h){var u=Je({and:h,or:f});return u!=null&&u.domain?i(f,h):m(i(f,{parent:o,or:u}))}});var s=ce(o);return s&&Se(o.hooks,function(i,l){return _e(i,s.hooks[l])}),r!=null&&r.domain&&r.domain.hooks.domain(o),o},T.createEffect=Ut,T.createEvent=ee,T.createNode=K,T.createStore=Ae,T.createWatch=function(e){var t=e.unit,n=e.fn,r=e.scope,a=e.batch,o=[lt.run({fn:function(m){return n(m)}})];a&&o.unshift(lt.compute({priority:"sampler",batch:1})),G(t)&&o.unshift(lt.mov({store:t.stateRef,to:"stack"}));var s=Array.isArray(t)?t:[t];if(r){var i=[],l=r.additionalLinks;return s.forEach(function(m){var y=l[m.graphite.id]||[];l[m.graphite.id]=y;var f=K({node:Wa(o,m),meta:{watchOp:m.kind}});y.push(f),i.push(function(){var h=y.indexOf(f);h!==-1&&y.splice(h,1),Ct(f)})}),rn(function(){i.forEach(function(m){return m()})})}var c=K({node:o,parent:s,family:{owners:s}});return rn(function(){Ct(c)})},T.fork=function(e,t){var n,r=e;jt(e)&&(ve(0,"fork(domain)","fork()"),n=e,r=t);var a=function(l){var c=K({scope:{defers:[],inFlight:0,fxID:0},node:[Z(function(h,u,v){v.parent?v.parent.node.meta.needFxCounter==="dec"?u.inFlight-=1:(u.inFlight+=1,u.fxID+=1):u.fxID+=1}),ze({priority:"sampler",batch:1}),Z(function(h,u){var v=u.defers,b=u.fxID;u.inFlight>0||v.length===0||Promise.resolve().then(function(){u.fxID===b&&W(v.splice(0,v.length),function(d){St(d.parentFork),d.rs(d.value)})})},0,1)]}),m=K({node:[Z(function(h,u,v){var b=v.parent;if(b){var d=b.node;if(Qn(b)){var p=De(v),w=d.meta.sid;p.sidIdMap[w]=d.scope.state.id,p.values.sidMap[w]=h;var $=d.meta.serialize;$&&p.sidSerializeSettings.set(w,$==="ignore"?{ignore:1}:{ignore:0,write:$.write})}}})]}),y=K({node:[Z(function(h,u,v){var b=De(v);b&&v.parent&&Qn(v.parent)&&(b.warnSerialize=1)})]}),f={cloneOf:l,reg:{},values:{sidMap:{},idMap:{}},sidIdMap:{},sidSerializeSettings:new Map,getState:function(h){if("current"in h)return pn(ge,f,h,0).current;var u=q(h);return pn(ge,f,u.scope.state,1).current},kind:"scope",graphite:K({family:{type:"domain",links:[c,m,y]},meta:{unit:"fork"},scope:{forkInFlightCounter:c}}),additionalLinks:{},handlers:{sidMap:{},unitMap:new Map},fxCount:c,storeChange:m,warnSerializeNode:y};return f}(n);if(r){if(r.values){var o=qt(r.values,function(l){return j(G(l)&&br(l),"Values map can contain only writable stores as keys")}),s=o.unitMap,i=o.hasSidDoubles;Object.assign(a.values.sidMap,o.sidMap),W(s,function(l,c){if(a.values.idMap[c.stateRef.id]=l,Q(c,"serialize")==="ignore"){var m=Q(c,"sid");a.sidSerializeSettings.set(m,{ignore:1})}}),a.fromSerialize=!(Array.isArray(r.values)||r.values instanceof Map),a.hasSidDoubles=i}r.handlers&&(ve(r.handlers instanceof Map||Array.isArray(r.handlers),"object with handlers","array"),a.handlers=qt(r.handlers,function(l){return j(Ie(l),"Handlers map can contain only effects as keys")}))}return a},T.forward=function(e){var t="forward",n=Me(e,1),r=n[0],a=r.from,o=r.to,s=n[1],i=ie(t,s);return ve(0,t,"sample",i),Qe(a,i,'"from"'),Qe(o,i,'"to"'),ln(i,o,"to"),It(K({parent:a,child:o,meta:{op:t,config:s},family:{},regional:1}))},T.fromObservable=function(e){Rn(e);var t=sn in e?e[sn]():e;j(t.subscribe,"expect observable to have .subscribe");var n=ee(),r=It(n);return t.subscribe({next:n,error:r,complete:r}),n},T.guard=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Me(t),a=r[0],o=a[0],s=a[1],i=r[1],l=ie("guard",i);return ve(0,"guard","sample",l),s||(o=(s=o).source),Vn(s,l),Zt("guard",s.clock,o,s.filter,s.target,null,s.name,i,!s.greedy,0,1)},T.hydrate=function(e,t){var n=t.values;j(pe(n),"values property should be an object");var r=qt(n),a=r.sidMap,o=r.unitMap,s=Object.getOwnPropertyNames(a),i={};W(o,function(h,u){i[u.stateRef.id]=u});var l,c,m,y=[],f=[];it(e)?(m=1,j((l=e).cloneOf,"scope should be created from domain"),ve(0,"hydrate(fork(domain), { values })","fork({ values })"),c=q(l.cloneOf)):jt(e)?(ve(0,"hydrate(domain, { values })","fork({ values })"),c=q(e)):j(0,"first argument of hydrate should be domain or scope"),Wn(c,function(h,u){if(u&&Ye(s,u)){V(y,h);var v=Q(h,"serialize");v&&v!=="ignore"&&(a[u]=v.read(a[u])),V(f,a[u])}else h.scope.state.id in i&&(V(y,h),V(f,o.get(i[h.scope.state.id])))},1),Ce({target:y,params:f,scope:l}),m&&Object.assign(l.values.sidMap,a)},T.is=Ua,T.launch=Ce,T.merge=xr,T.restore=function(e,t,n){var r=ie("restore",n);if(j(!G(e),"restore($store) is not supported",r),cn(e)||Ie(e)){var a=ce(e),o=Ae(t,{parent:a,name:e.shortName,and:n});return _e(Ie(e)?e.doneData:e,o),a&&a.hooks.store(o),o}var s=Array.isArray(e)?[]:{};return Se(e,function(i,l){return s[l]=G(i)?i:Ae(i,{name:l})}),s},T.sample=function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o,s,i=Me(r),l=i[0],c=l[0],m=l[1],y=l[2],f=i[1],h=1,u=ie("sample",f);return ue(m)&&pe(c)&&Vn(c,u)&&(m=c.clock,y=c.fn,"batch"in c?h=c.batch:(ve(!("greedy"in c),"greedy in sample","batch",u),h=!c.greedy),s=c.filter,e=c.target,t=c.name,o=c.sid,c=c.source),Zt("sample",m,c,s,e,y,t,f,h,1,0,o)},T.scopeBind=function(e,t){var n=t===void 0?{}:t,r=n.scope;j(r||_||n.safe,"scopeBind: scope not found");var a=r||_;return function(o){function s(){St(c)}var i,l=0,c=_;St(a);try{i=e(o)}catch(m){i=m,l=1}if(s(),l)throw i;return i instanceof Promise&&i.then(s,s),i}},T.serialize=function(e,t){t===void 0&&(t={}),e.warnSerialize&&console.error("There is a store without sid in this scope, its value is omitted"),j(!e.hasSidDoubles,"duplicate sid found in this scope");var n=t.ignore?t.ignore.map(function(a){return a.sid}):[],r={};return Se(e.values.sidMap,function(a,o){var s;if(!Ye(n,o)){var i=e.sidIdMap[o],l=(s=e.sidSerializeSettings.get(o))!==null&&s!==void 0?s:{ignore:0,write:ao};l.ignore||(r[o]=(0,l.write)(i&&i in e.reg?e.reg[i].current:a))}}),"onlyChanges"in t&&(ve(0,"onlyChanges"),t.onlyChanges||(j(e.cloneOf,"scope should be created from domain"),Wn(q(e.cloneOf),function(a,o){o in r||Ye(n,o)||Q(a,"isCombine")||Q(a,"serialize")==="ignore"||(r[o]=e.getState(a))}))),r},T.setGraphInspector=function(e){on=e},T.setInspector=function(e){un=e},T.setStoreName=function(e,t){e.shortName=t,Object.assign(Et(e),nn(t,ce(e)))},T.split=function(){for(var e,t,n="split",r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=Me(a),i=s[0],l=i[0],c=i[1],m=s[1],y=ie(n,m),f=!c;f&&(e=l.cases,c=l.match,t=l.clock,l=l.source);var h=G(c),u=!le(c)&&re(c),v=!h&&!u&&pe(c);j(le(l),"source must be a unit",y),e||(e={}),f?Se(e,function(C,k){return ln(y,C,"cases."+k)}):(j(v,"match should be an object",y),Se(c,function(C,k){return e[k]=ee({derived:1,named:"cases."+k,and:m})}),e.__=ee({derived:1,named:"cases.__",and:m}));var b,d=new Set([].concat(l,t||[],Object.values(e))),p=Object.keys(h||u?e:c);if(h||u)h&&d.add(c),b=[h&&Ne(fe(c),0,1),ze({safe:h,filter:1,pure:!h,fn:function(C,k,R){var I=String(h?R.a:c(C));Qt(k,Ye(p,I)?I:"__",C,R)}})];else if(v){var w=We({});w.type="shape";var $,S=[];Se(c,function(C,k){if(le(C)){$=1,V(S,k),d.add(C);var R=_e(C,[],[Ne(w),Z(function(O,P,z){return z.a[k]=O})]);if(G(C)){w.current[k]=C.getState();var I=fe(C);Tt(w,{from:I,field:k,type:"field"}),de("splitMatchStore",I,R)}}}),$&&de("splitBase",w),b=[$&&Ne(w,0,1),Re(function(C,k,R){for(var I=0;I<p.length;I++){var O=p[I];if(Ye(S,O)?R.a[O]:c[O](C))return void Qt(k,O,C,R)}Qt(k,"__",C,R)},1)]}else j(0,"expect match to be unit, function or object");var E=K({meta:{op:n},parent:t?[]:l,scope:e,node:b,family:{owners:Array.from(d)},regional:1});if(t&&Zt(n,t,l,null,E,null,n,m,0,0,0),!f)return e},T.step=lt,T.version="23.1.0",T.withFactory=function(e){var t=e.sid,n=e.name,r=e.loc,a=e.method,o=e.fn;return Fn(K({meta:{sidRoot:yr(t),sid:t,name:n,loc:r,method:a,type:"factory"}}),o)},T.withRegion=Fn;var Ve;function oo(e){return e&&typeof e=="object"&&"default"in e?e.default:e}function _t(e,t){return t.displayName=e,t}function vn(e,t){var n=L.is.unit(e),r={};n?r={unit:e}:"@@unitShape"in e?typeof e["@@unitShape"]=="function"?r=e["@@unitShape"]():Ee("expect @@unitShape to be a function"):r=e;var a=Array.isArray(r),o=M.useRef({stale:1,justSubscribed:0,scope:t}),s=M.useMemo(function(){o.current.stale=1;var v=Array.isArray(r)?[]:{},b=[],d=[],p=[],w=[];for(var $ in r)if({}.hasOwnProperty.call(r,$)){var S=r[$];L.is.unit(S)||Ee("expect useUnit "+(n?"argument":'value in key "'+$+'"')+" to be a unit"),L.is.event(S)||L.is.effect(S)?(v[$]=t?L.scopeBind(S,{scope:t}):S,p.push($),w.push(S)):(v[$]=null,b.push($),d.push(S))}return[v,b,d,p,w]},[o,t].concat(Object.keys(r),Object.values(r))),i=s[0],l=s[1],c=s[2],m=s[3],y=s[4],f=M.useRef({value:i,storeKeys:l,eventKeys:m,eventValues:y}),h=M.useCallback(function(v){var b=o.current;return b.justSubscribed=1,L.createWatch({unit:c,fn:function(){b.stale||(b.stale=1,v())},scope:t,batch:1})},[c,t,f,o]),u=M.useCallback(function(){var v,b=f.current,d=o.current,p=0,w=b.value,$=b.storeKeys,S=b.eventKeys,E=b.eventValues,C=t!==d.scope;if(d.stale||d.justSubscribed||C){p=!d.justSubscribed||C,v=a?[].concat(i):Object.assign({},i),$.length===l.length&&S.length===m.length||(p=1);for(var k=0;k<l.length;k++){var R=Mn(c[k],t),I=l[k];p||(p=$.includes(I)?w[I]!==R:1),v[I]=R}for(var O=0;O<m.length;O++){var P=y[O],z=m[O];p||(p=S.includes(z)?E[S.indexOf(z)]!==P:1)}}return p&&(b.value=v),b.storeKeys=l,b.eventKeys=m,b.eventValues=y,d.stale=0,d.justSubscribed=!p,d.scope=t,n?b.value.unit:b.value},[h,c,y,t,f,o]);return Rr.useSyncExternalStore(h,u,u)}function Jt(e,t){var n,r,a,o,s=e[0],i=e[1],l=tr;if(i)n=i,a=s,o=[];else{n=s.fn,a=s.store,o=s.keys,r=s.defaultValue;var c=s.updateFilter;l=c===void 0?tr:c}L.is.store(a)||Ee("useStoreMap expects a store"),Array.isArray(o)||Ee("useStoreMap expects an array as keys"),typeof n!="function"&&Ee("useStoreMap expects a function");var m=M.useCallback(function(v){return L.createWatch({unit:a,fn:v,scope:t})},[a,t]),y=M.useCallback(function(){return Mn(a,t)},[a,t]),f=M.useRef(),h=M.useRef(),u=M.useRef(o);return co.useSyncExternalStoreWithSelector(m,y,y,function(v){if(f.current!==v||!function(d,p){if(!d||!p||d.length!==p.length)return 0;for(var w=1,$=0;$<d.length;$++)if(d[$]!==p[$]){w=0;break}return w}(u.current,o)){var b=n(v,o);b===void 0&&r!==void 0&&(b=r),f.current=v,u.current=o,b!==void 0&&(h.current=b)}return h.current},function(v,b){return!l(b,v)})}function Jn(e,t,n){t===void 0&&(t={});var r=vn({open:e.open,close:e.close,set:e.set},n),a=r.open,o=r.close,s=r.set,i=M.useMemo(function(){return{open:a,close:o,set:s}},[e,a]),l=M.useRef({value:null,count:0});gn(function(){return i.open(l.current.value),function(){return i.close(l.current.value)}},[i]),function(c,m){if(c===m)return 1;if(typeof c=="object"&&c!==null&&typeof m=="object"&&m!==null){var y=Object.keys(c),f=Object.keys(m);if(y.length!==f.length)return 0;for(var h=0;h<y.length;h++){var u=y[h];if(c[u]!==m[u])return 0}return 1}return 0}(l.current.value,t)||(l.current.value=t,l.current.count+=1),gn(function(){i.set(l.current.value)},[l.current.count])}function Oe(e){var t=M.useContext(Pr);return e&&!t&&Ee("No scope found, consider adding <Provider> to app root"),t}function hn(e,t){return function(n,r){Ir(1,"useStore","useUnit"),L.is.store(n)||Ee("expect useStore argument to be a store");var a=M.useCallback(function(s){return L.createWatch({unit:n,fn:s,scope:r})},[n,r]),o=M.useCallback(function(){return Mn(n,r)},[n,r]);return Rr.useSyncExternalStore(a,o,o)}(e,Oe(t==null?void 0:t.forceScope))}function er(e,t){function n(i){var l=M.useRef(i),c=hn(r);gn(function(){return o({props:l.current,state:r.getState()}),function(){s({props:l.current,state:r.getState()})}},[]);var m=t(i,c);return l.current=i,m}var r;xn("createComponent","@effector/reflect"),L.is.store(e)?r=e:typeof e=="object"&&e!==null?r=L.combine(e):Ee("shape should be a store or object with stores");var a="Unknown";r&&r.shortName&&(a=r.shortName);var o=L.createEvent(),s=L.createEvent();return n.mounted=o,n.unmounted=s,_t(a+".View",n)}function jr(e,t){var n,r=t?e:e[0];(function(l){if(!l)throw Error("expect first argument be an object")})(Xe(n=r)||function(l){return typeof l=="function"}(n));var a=r.or,o=r.and;if(o){var s=t?o:o[0];if(Xe(s)&&"and"in s){var i=jr(o,t);e=i[0],a=Object.assign({},a,i[1])}else e=o}return[e,a]}function so(e){function t(h){return a(t,h,Oe()),null}var n=e.domain,r=e.defaultState,a=e.hook,o=lo({or:e.maybeConfig,and:e.mainConfig}),s=(n?n.compositeName.fullName+"/":"")+(o.name||"gate"),i=L.createEvent({name:s+".set",sid:o.sid?o.sid+"|set":void 0}),l=L.createEvent({name:s+".open",sid:o.sid?o.sid+"|open":void 0}),c=L.createEvent({name:s+".close",sid:o.sid?o.sid+"|close":void 0}),m=L.createStore(!1,{name:s+".status",serialize:"ignore"}).on(l,function(){return!0}).on(c,function(){return!1}),y=L.createStore(r,{name:s+".state",sid:o.sid}).on(i,function(h,u){return u}).on(l,function(h,u){return u}).reset(c);if(n){var f=n.hooks;L.launch({target:[f.store,f.store,f.event,f.event,f.event],params:[m,y,l,c,i]})}return t.open=l,t.close=c,t.status=m,t.state=y,t.set=i,_t("Gate:"+s,t)}function io(e,t){var n,r,a,o=jr(t&&Xe(n=t[0])&&(n.and||n.or)?t:[{and:t}]),s=o[0],i=s[0],l=s[1],c={},m={},y=o[1];return typeof i=="string"?(m={name:i},Xe(a=l)&&"sid"in a||(c=l||{})):function(f){return Xe(f)&&("domain"in f||"defaultState"in f||"name"in f)}(i)&&(m=i,c=i.defaultState||{},r=i.domain),{hook:e,domain:r,defaultState:c,mainConfig:m,maybeConfig:y}}Object.defineProperty(se,"__esModule",{value:1});var Tr=g,L=T,Rr=ia,co=ca,M=oo(Tr),Ee=function(e){throw Error(e)},gn=typeof window<"u"?M.useLayoutEffect:M.useEffect,Ir=function(e,t,n){Tr.useEffect(function(){e&&console.error(t+" is deprecated"+(n?", prefer "+n+" instead":""))},[e,t,n])},Mn=function(e,t){return t?t.getState(e):e.getState()},tr=function(e,t){return e!==t},Pr=M.createContext(null),xn=function(e,t){console.error(e+" is deprecated"+(t?", use "+t+" instead":""))},Xe=function(e){return typeof e=="object"&&e!==null},lo=function e(t,n){return n===void 0&&(n={}),Xe(t)&&(e(t.or,n),function(r){for(var a in r)s=a,function(i){return i===void 0}(o=r[a])||s==="or"||s==="and"||(n[s]=o);var o,s}(t),e(t.and,n)),n};se.Provider=Pr.Provider,se.connect=function(e){return xn("connect","useUnit"),function(t){var n=e;return typeof e!="function"&&(n=t,t=e),_t("Connect("+(n.displayName||n.name||"Unknown")+")",function(r){return M.createElement(n,Object.assign({},r,hn(t)))})}},se.createComponent=er,se.createGate=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return so(io(Jn,t))},se.createStoreConsumer=function(e){return xn("createStoreConsumer","useUnit"),er(e,function(t,n){return(0,t.children)(n)})},se.useEvent=function(e,t){return function(n,r){if(Ir(1,"useEvent","useUnit"),!r)return n;var a=L.is.unit(n)||typeof n!="object"?{event:n}:n;return M.useMemo(function(){if(L.is.unit(n))return L.scopeBind(n,{scope:r});var o=Array.isArray(n)?[]:{};for(var s in n)o[s]=L.scopeBind(n[s],{scope:r});return o},[r].concat(Object.keys(a),Object.values(a)))}(e,Oe(t==null?void 0:t.forceScope))},se.useGate=function(e,t,n){return t===void 0&&(t={}),Jn(e,t,Oe(n==null?void 0:n.forceScope))},se.useList=function(e,t,n){return function(r,a,o){var s,i,l,c=[];typeof a=="object"&&a!==null?(a.keys&&(c=a.keys),s=a.fn,i=a.getKey,l=a.placeholder):s=a,L.is.store(r)||Ee("expect useList first argument to be a store"),typeof s!="function"&&Ee("expect useList's renderItem to be a function"),Array.isArray(c)||Ee("expect useList's keys to be an array");var m=M.useMemo(function(){var v=_t((r.shortName||"Unknown")+".Item",function(b){var d=b.index,p=b.keys;if(y.current[1])return y.current[0](b.value,b.keyVal);var w=Jt([{store:r,keys:[d].concat(p),fn:function($,S){return $[S[0]]}}],o);return y.current[0](w,d)});return M.memo(v)},[r,o,!!i]),y=M.useRef([s,i]);y.current=[s,i];var f=M.useMemo(function(){return c},c);if(i){var h=vn(r,o);return h.length===0&&l?l:h.map(function(v){var b=y.current[1](v);return M.createElement(m,{keyVal:b,key:b,keys:f,value:v})})}var u=Jt([{store:r,keys:[r],fn:function(v){return v.length}}],o);return u===0&&l?l:Array.from({length:u},function(v,b){return M.createElement(m,{index:b,key:b,keys:f})})}(e,t,Oe(n==null?void 0:n.forceScope))},se.useProvidedScope=function(){return Oe()||null},se.useStore=hn,se.useStoreMap=function(e,t){return Jt([e,t],Oe(e==null?void 0:e.forceScope))},Ve=se.useUnit=function(e,t){return vn(e,Oe(t==null?void 0:t.forceScope))};const _r=g.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_r.displayName="Card";const uo=g.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:X("flex flex-col space-y-1.5 p-6",e),...t}));uo.displayName="CardHeader";const fo=g.forwardRef(({className:e,...t},n)=>x.jsx("h3",{ref:n,className:X("text-2xl font-semibold tracking-tight",e),...t}));fo.displayName="CardTitle";const po=g.forwardRef(({className:e,...t},n)=>x.jsx("p",{ref:n,className:X("text-sm text-muted-foreground",e),...t}));po.displayName="CardDescription";const mo=g.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:X("p-6 pt-0",e),...t}));mo.displayName="CardContent";const vo=g.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:X("flex items-center p-6 pt-0",e),...t}));vo.displayName="CardFooter";const On=g.forwardRef(({className:e,...t},n)=>x.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));On.displayName="Textarea";const ho=({children:e,...t})=>{const n=Mt(la);return x.jsxs("span",{...t,children:[e,st.format.dateTime(n,{format:"time",asTime:!0})]})},An=e=>{const[t,n]=g.useState(!!e),r=g.useCallback(()=>n(a=>!a),[]);return[t,r,n]},go=cr("flex rounded-md border border-input bg-background ring-offset-background file:border-0 file:bg-transparent placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{default:"h-10 w-full px-3 py-2 text-sm file:text-sm file:font-medium",sm:"h-8 w-full px-1.5 text-sm file:text-sm file:font-medium"}},defaultVariants:{size:"default"}}),pt=g.forwardRef(({className:e,type:t,size:n,...r},a)=>x.jsx("input",{type:t,className:X(go({size:n,className:e})),ref:a,...r}));pt.displayName="Input";const xo=g.forwardRef((e,t)=>g.createElement(be.label,U({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),Mr=xo,bo=cr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=g.forwardRef(({className:e,...t},n)=>x.jsx(Mr,{ref:n,className:X(bo(),e),...t}));ft.displayName=Mr.displayName;const yo=({className:e})=>{const[t,,n]=An(!1),r=g.useRef(null);return g.useLayoutEffect(()=>{var a;t||(a=r.current)==null||a.reset()},[t]),x.jsxs($n,{open:t,onOpenChange:n,children:[x.jsx(Sn,{asChild:!0,children:x.jsx(ke,{variant:"ghost",size:"icon",className:lr("h-7 w-7",e),children:x.jsx(Aa,{className:"h-4 w-4"})})}),x.jsxs(Cn,{className:"sm:max-w-[425px]",children:[x.jsx(kn,{children:x.jsx(Nn,{children:"Ручное добавление лога"})}),x.jsxs("form",{ref:r,onSubmit:a=>{a.preventDefault(),a.stopPropagation();const o=r.current,s=Object.fromEntries(new FormData(o));console.info("fff",s);const[i,l]=s.time.split(":"),c=+i*Bn(1,"hour")+ +l*Bn(1,"min"),m=new Date(s.date).toISOString();ua({startDate:m,spentTime:c,meta:s.description||""}),o.reset(),n(!1),En({type:"success",message:"Лог добавлен!"})},children:[x.jsx("div",{className:"grid gap-4 py-4",children:x.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[x.jsx(ft,{htmlFor:"date",className:"text-right",children:"Дата"}),x.jsx(pt,{id:"date",name:"date",type:"date",required:!0,className:"col-span-3"})]})}),x.jsx("div",{className:"grid gap-4 py-4",children:x.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[x.jsx(ft,{htmlFor:"time",className:"text-right",children:"Время"}),x.jsx(pt,{id:"time",name:"time",type:"time",required:!0,className:"col-span-3"})]})}),x.jsxs("div",{className:"grid gap-4 py-4",children:[x.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:x.jsx(ft,{htmlFor:"description",className:"text-right",children:"Описание"})}),x.jsx(On,{id:"description",name:"description"})]}),x.jsx(jn,{children:x.jsx(ke,{type:"submit",children:"Создать"})})]})]})]})},wo=({className:e})=>{var a;const t=Ve(Ot),n=Ve(da),r=Ve({finishActiveLog:fa,continueActiveLog:pa,pauseActiveLog:ma,createActiveLog:va});return x.jsxs(_r,{className:lr("flex flex-col items-center justify-center gap-2 p-4",e),children:[x.jsxs("h1",{className:"inline-flex w-full flex-1 text-xl font-semibold",children:["Трекер",n.value?" (".concat(n.value.projectName,")"):"",x.jsx(yo,{className:"ml-auto"})]}),x.jsx(On,{value:((a=n.value)==null?void 0:a.meta)||"",onChange:o=>n.update({meta:o.target.value}),className:"!h-[40px]",placeholder:"Чем занимаешься?",disabled:!n.value}),x.jsx("div",{className:"mt-4 flex w-full flex-row items-center gap-2",children:n.value?x.jsxs(x.Fragment,{children:[x.jsx(ho,{className:"relative mr-auto flex items-center text-2xl font-bold ".concat(n.value.status==="paused"?"text-reverse":"text-destructive"),children:n.value.status==="active"&&x.jsx(x.Fragment,{children:x.jsxs("span",{className:"relative mr-2 flex h-4 w-4",children:[x.jsx("span",{className:"absolute block h-full w-full animate-ping rounded-full bg-destructive opacity-75"}),x.jsx("span",{className:"relative block h-4 w-4 rounded-full bg-destructive"})]})})}),x.jsx(ke,{variant:(n.value.status==="active","destructive"),disabled:n.value.status==="active",onClick:r.finishActiveLog,children:"ЗАВЕРШИТЬ"}),n.value.status==="paused"?x.jsx(ke,{style:{width:150},variant:"default",onClick:r.continueActiveLog,children:"ПРОДОЛЖИТЬ"}):x.jsx(ke,{style:{width:150},variant:"outline",onClick:r.pauseActiveLog,children:"ПАУЗА"})]}):x.jsx(ke,{disabled:!t.value,className:"ml-auto",onClick:()=>{var o;return r.createActiveLog({meta:"",lastTickDate:null,startDate:new Date().toISOString(),spentTime:0,projectName:((o=t.value)==null?void 0:o.name)||"",status:"active"})},children:"ПРИСТУПИТЬ К РАБОТЕ"})})]})};function nr(e,[t,n]){return Math.min(n,Math.max(t,e))}function $o(e){const t=e+"CollectionProvider",[n,r]=ur(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:u,children:v}=h,b=je.useRef(null),d=je.useRef(new Map).current;return je.createElement(a,{scope:u,itemMap:d,collectionRef:b},v)},i=e+"CollectionSlot",l=je.forwardRef((h,u)=>{const{scope:v,children:b}=h,d=o(i,v),p=xe(u,d.collectionRef);return je.createElement(tn,{ref:p},b)}),c=e+"CollectionItemSlot",m="data-radix-collection-item",y=je.forwardRef((h,u)=>{const{scope:v,children:b,...d}=h,p=je.useRef(null),w=xe(u,p),$=o(c,v);return je.useEffect(()=>($.itemMap.set(p,{ref:p,...d}),()=>void $.itemMap.delete(p))),je.createElement(tn,{[m]:"",ref:w},b)});function f(h){const u=o(e+"CollectionConsumer",h);return je.useCallback(()=>{const b=u.collectionRef.current;if(!b)return[];const d=Array.from(b.querySelectorAll("[".concat(m,"]")));return Array.from(u.itemMap.values()).sort(($,S)=>d.indexOf($.ref.current)-d.indexOf(S.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:s,Slot:l,ItemSlot:y},f,r]}const So=g.createContext(void 0);function Co(e){const t=g.useContext(So);return e||t||"ltr"}function ko(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const No=[" ","Enter","ArrowUp","ArrowDown"],Eo=[" ","Enter"],Dt="Select",[Lt,Bt,jo]=$o(Dt),[nt,ii]=ur(Dt,[jo,dr]),Dn=dr(),[To,qe]=nt(Dt),[Ro,Io]=nt(Dt),Po=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:s,defaultValue:i,onValueChange:l,dir:c,name:m,autoComplete:y,disabled:f,required:h}=e,u=Dn(t),[v,b]=g.useState(null),[d,p]=g.useState(null),[w,$]=g.useState(!1),S=Co(c),[E=!1,C]=Hn({prop:r,defaultProp:a,onChange:o}),[k,R]=Hn({prop:s,defaultProp:i,onChange:l}),I=g.useRef(null),O=v?!!v.closest("form"):!0,[P,z]=g.useState(new Set),me=Array.from(P).map(F=>F.props.value).join(";");return g.createElement(Na,u,g.createElement(To,{required:h,scope:t,trigger:v,onTriggerChange:b,valueNode:d,onValueNodeChange:p,valueNodeHasChildren:w,onValueNodeHasChildrenChange:$,contentId:pr(),value:k,onValueChange:R,open:E,onOpenChange:C,dir:S,triggerPointerDownPosRef:I,disabled:f},g.createElement(Lt.Provider,{scope:t},g.createElement(Ro,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(F=>{z(ae=>new Set(ae).add(F))},[]),onNativeOptionRemove:g.useCallback(F=>{z(ae=>{const J=new Set(ae);return J.delete(F),J})},[])},n)),O?g.createElement(Br,{key:me,"aria-hidden":!0,required:h,tabIndex:-1,name:m,autoComplete:y,value:k,onChange:F=>R(F.target.value),disabled:f},k===void 0?g.createElement("option",{value:""}):null,Array.from(P)):null))},_o="SelectTrigger",Mo=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,o=Dn(n),s=qe(_o,n),i=s.disabled||r,l=xe(t,s.onTriggerChange),c=Bt(n),[m,y,f]=Hr(u=>{const v=c().filter(p=>!p.disabled),b=v.find(p=>p.value===s.value),d=Fr(v,u,b);d!==void 0&&s.onValueChange(d.value)}),h=()=>{i||(s.onOpenChange(!0),f())};return g.createElement(ha,U({asChild:!0},o),g.createElement(be.button,U({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":Lr(s.value)?"":void 0},a,{ref:l,onClick:te(a.onClick,u=>{u.currentTarget.focus()}),onPointerDown:te(a.onPointerDown,u=>{const v=u.target;v.hasPointerCapture(u.pointerId)&&v.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)},u.preventDefault())}),onKeyDown:te(a.onKeyDown,u=>{const v=m.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&y(u.key),!(v&&u.key===" ")&&No.includes(u.key)&&(h(),u.preventDefault())})})))}),Oo="SelectValue",Ao=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:s="",...i}=e,l=qe(Oo,n),{onValueNodeHasChildrenChange:c}=l,m=o!==void 0,y=xe(t,l.onValueNodeChange);return Be(()=>{c(m)},[c,m]),g.createElement(be.span,U({},i,{ref:y,style:{pointerEvents:"none"}}),Lr(l.value)?g.createElement(g.Fragment,null,s):o)}),Do=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return g.createElement(be.span,U({"aria-hidden":!0},a,{ref:t}),r||"▼")}),Lo=e=>g.createElement(Ca,U({asChild:!0},e)),et="SelectContent",Bo=g.forwardRef((e,t)=>{const n=qe(et,e.__scopeSelect),[r,a]=g.useState();if(Be(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?fr.createPortal(g.createElement(Or,{scope:e.__scopeSelect},g.createElement(Lt.Slot,{scope:e.__scopeSelect},g.createElement("div",null,e.children))),o):null}return g.createElement(Ho,U({},e,{ref:t}))}),Pe=10,[Or,Ke]=nt(et),Ho=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:s,side:i,sideOffset:l,align:c,alignOffset:m,arrowPadding:y,collisionBoundary:f,collisionPadding:h,sticky:u,hideWhenDetached:v,avoidCollisions:b,...d}=e,p=qe(et,n),[w,$]=g.useState(null),[S,E]=g.useState(null),C=xe(t,N=>$(N)),[k,R]=g.useState(null),[I,O]=g.useState(null),P=Bt(n),[z,me]=g.useState(!1),F=g.useRef(!1);g.useEffect(()=>{if(w)return ga(w)},[w]),xa();const ae=g.useCallback(N=>{const[B,...oe]=P().map(D=>D.ref.current),[H]=oe.slice(-1),A=document.activeElement;for(const D of N)if(D===A||(D==null||D.scrollIntoView({block:"nearest"}),D===B&&S&&(S.scrollTop=0),D===H&&S&&(S.scrollTop=S.scrollHeight),D==null||D.focus(),document.activeElement!==A))return},[P,S]),J=g.useCallback(()=>ae([k,w]),[ae,k,w]);g.useEffect(()=>{z&&J()},[z,J]);const{onOpenChange:Y,triggerPointerDownPosRef:ye}=p;g.useEffect(()=>{if(w){let N={x:0,y:0};const B=H=>{var A,D,we,$e;N={x:Math.abs(Math.round(H.pageX)-((A=(D=ye.current)===null||D===void 0?void 0:D.x)!==null&&A!==void 0?A:0)),y:Math.abs(Math.round(H.pageY)-((we=($e=ye.current)===null||$e===void 0?void 0:$e.y)!==null&&we!==void 0?we:0))}},oe=H=>{N.x<=10&&N.y<=10?H.preventDefault():w.contains(H.target)||Y(!1),document.removeEventListener("pointermove",B),ye.current=null};return ye.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,Y,ye]),g.useEffect(()=>{const N=()=>Y(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[Y]);const[He,ht]=Hr(N=>{const B=P().filter(A=>!A.disabled),oe=B.find(A=>A.ref.current===document.activeElement),H=Fr(B,N,oe);H&&setTimeout(()=>H.ref.current.focus())}),Ht=g.useCallback((N,B,oe)=>{const H=!F.current&&!oe;(p.value!==void 0&&p.value===B||H)&&(R(N),H&&(F.current=!0))},[p.value]),Ft=g.useCallback(()=>w==null?void 0:w.focus(),[w]),Ge=g.useCallback((N,B,oe)=>{const H=!F.current&&!oe;(p.value!==void 0&&p.value===B||H)&&O(N)},[p.value]),gt=r==="popper"?rr:Fo,rt=gt===rr?{side:i,sideOffset:l,align:c,alignOffset:m,arrowPadding:y,collisionBoundary:f,collisionPadding:h,sticky:u,hideWhenDetached:v,avoidCollisions:b}:{};return g.createElement(Or,{scope:n,content:w,viewport:S,onViewportChange:E,itemRefCallback:Ht,selectedItem:k,onItemLeave:Ft,itemTextRefCallback:Ge,focusSelectedItem:J,selectedItemText:I,position:r,isPositioned:z,searchRef:He},g.createElement(ba,{as:tn,allowPinchZoom:!0},g.createElement(ya,{asChild:!0,trapped:p.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:te(a,N=>{var B;(B=p.trigger)===null||B===void 0||B.focus({preventScroll:!0}),N.preventDefault()})},g.createElement(wa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>p.onOpenChange(!1)},g.createElement(gt,U({role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:N=>N.preventDefault()},d,rt,{onPlaced:()=>me(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...d.style},onKeyDown:te(d.onKeyDown,N=>{const B=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!B&&N.key.length===1&&ht(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let H=P().filter(A=>!A.disabled).map(A=>A.ref.current);if(["ArrowUp","End"].includes(N.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const A=N.target,D=H.indexOf(A);H=H.slice(D+1)}setTimeout(()=>ae(H)),N.preventDefault()}})}))))))}),Fo=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,o=qe(et,n),s=Ke(et,n),[i,l]=g.useState(null),[c,m]=g.useState(null),y=xe(t,C=>m(C)),f=Bt(n),h=g.useRef(!1),u=g.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:d,focusSelectedItem:p}=s,w=g.useCallback(()=>{if(o.trigger&&o.valueNode&&i&&c&&v&&b&&d){const C=o.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),I=d.getBoundingClientRect();if(o.dir!=="rtl"){const A=I.left-k.left,D=R.left-A,we=C.left-D,$e=C.width+we,zt=Math.max($e,k.width),Vt=window.innerWidth-Pe,Wt=nr(D,[Pe,Vt-zt]);i.style.minWidth=$e+"px",i.style.left=Wt+"px"}else{const A=k.right-I.right,D=window.innerWidth-R.right-A,we=window.innerWidth-C.right-D,$e=C.width+we,zt=Math.max($e,k.width),Vt=window.innerWidth-Pe,Wt=nr(D,[Pe,Vt-zt]);i.style.minWidth=$e+"px",i.style.right=Wt+"px"}const O=f(),P=window.innerHeight-Pe*2,z=v.scrollHeight,me=window.getComputedStyle(c),F=parseInt(me.borderTopWidth,10),ae=parseInt(me.paddingTop,10),J=parseInt(me.borderBottomWidth,10),Y=parseInt(me.paddingBottom,10),ye=F+ae+z+Y+J,He=Math.min(b.offsetHeight*5,ye),ht=window.getComputedStyle(v),Ht=parseInt(ht.paddingTop,10),Ft=parseInt(ht.paddingBottom,10),Ge=C.top+C.height/2-Pe,gt=P-Ge,rt=b.offsetHeight/2,N=b.offsetTop+rt,B=F+ae+N,oe=ye-B;if(B<=Ge){const A=b===O[O.length-1].ref.current;i.style.bottom="0px";const D=c.clientHeight-v.offsetTop-v.offsetHeight,we=Math.max(gt,rt+(A?Ft:0)+D+J),$e=B+we;i.style.height=$e+"px"}else{const A=b===O[0].ref.current;i.style.top="0px";const we=Math.max(Ge,F+v.offsetTop+(A?Ht:0)+rt)+oe;i.style.height=we+"px",v.scrollTop=B-Ge+v.offsetTop}i.style.margin="".concat(Pe,"px 0"),i.style.minHeight=He+"px",i.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,i,c,v,b,d,o.dir,r]);Be(()=>w(),[w]);const[$,S]=g.useState();Be(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=g.useCallback(C=>{C&&u.current===!0&&(w(),p==null||p(),u.current=!1)},[w,p]);return g.createElement(zo,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:h,onScrollButtonChange:E},g.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$}},g.createElement(be.div,U({},a,{ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),rr=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Pe,...o}=e,s=Dn(n);return g.createElement(ka,U({},s,o,{ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[zo,Ln]=nt(et,{}),ar="SelectViewport",Vo=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ke(ar,n),o=Ln(ar,n),s=xe(t,a.onViewportChange),i=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(Lt.Slot,{scope:n},g.createElement(be.div,U({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:te(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const f=Math.abs(i.current-c.scrollTop);if(f>0){const h=window.innerHeight-Pe*2,u=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),b=Math.max(u,v);if(b<h){const d=b+f,p=Math.min(h,d),w=d-p;m.style.height=p+"px",m.style.bottom==="0px"&&(c.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}i.current=c.scrollTop})}))))}),Wo="SelectGroup",[ci,Uo]=nt(Wo),qo="SelectLabel",Ko=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Uo(qo,n);return g.createElement(be.div,U({id:a.id},r,{ref:t}))}),bn="SelectItem",[Go,Ar]=nt(bn),Yo=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...s}=e,i=qe(bn,n),l=Ke(bn,n),c=i.value===r,[m,y]=g.useState(o!=null?o:""),[f,h]=g.useState(!1),u=xe(t,d=>{var p;return(p=l.itemRefCallback)===null||p===void 0?void 0:p.call(l,d,r,a)}),v=pr(),b=()=>{a||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.createElement(Go,{scope:n,value:r,disabled:a,textId:v,isSelected:c,onItemTextChange:g.useCallback(d=>{y(p=>{var w;return p||((w=d==null?void 0:d.textContent)!==null&&w!==void 0?w:"").trim()})},[])},g.createElement(Lt.ItemSlot,{scope:n,value:r,disabled:a,textValue:m},g.createElement(be.div,U({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},s,{ref:u,onFocus:te(s.onFocus,()=>h(!0)),onBlur:te(s.onBlur,()=>h(!1)),onPointerUp:te(s.onPointerUp,b),onPointerMove:te(s.onPointerMove,d=>{if(a){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}else d.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(s.onPointerLeave,d=>{if(d.currentTarget===document.activeElement){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}}),onKeyDown:te(s.onKeyDown,d=>{var p;((p=l.searchRef)===null||p===void 0?void 0:p.current)!==""&&d.key===" "||(Eo.includes(d.key)&&b(),d.key===" "&&d.preventDefault())})}))))}),yt="SelectItemText",Zo=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...o}=e,s=qe(yt,n),i=Ke(yt,n),l=Ar(yt,n),c=Io(yt,n),[m,y]=g.useState(null),f=xe(t,d=>y(d),l.onItemTextChange,d=>{var p;return(p=i.itemTextRefCallback)===null||p===void 0?void 0:p.call(i,d,l.value,l.disabled)}),h=m==null?void 0:m.textContent,u=g.useMemo(()=>g.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=c;return Be(()=>(v(u),()=>b(u)),[v,b,u]),g.createElement(g.Fragment,null,g.createElement(be.span,U({id:l.textId},o,{ref:f})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?fr.createPortal(o.children,s.valueNode):null)}),Xo="SelectItemIndicator",Qo=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Ar(Xo,n).isSelected?g.createElement(be.span,U({"aria-hidden":!0},r,{ref:t})):null}),or="SelectScrollUpButton",Jo=g.forwardRef((e,t)=>{const n=Ke(or,e.__scopeSelect),r=Ln(or,e.__scopeSelect),[a,o]=g.useState(!1),s=xe(t,r.onScrollButtonChange);return Be(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=i.scrollTop>0;o(c)};const i=n.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?g.createElement(Dr,U({},e,{ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop-l.offsetHeight)}})):null}),sr="SelectScrollDownButton",es=g.forwardRef((e,t)=>{const n=Ke(sr,e.__scopeSelect),r=Ln(sr,e.__scopeSelect),[a,o]=g.useState(!1),s=xe(t,r.onScrollButtonChange);return Be(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=i.scrollHeight-i.clientHeight,m=Math.ceil(i.scrollTop)<c;o(m)};const i=n.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?g.createElement(Dr,U({},e,{ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop+l.offsetHeight)}})):null}),Dr=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,o=Ke("SelectScrollButton",n),s=g.useRef(null),i=Bt(n),l=g.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Be(()=>{var c;const m=i().find(y=>y.ref.current===document.activeElement);m==null||(c=m.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[i]),g.createElement(be.div,U({"aria-hidden":!0},a,{ref:t,style:{flexShrink:0,...a.style},onPointerDown:te(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:te(a.onPointerMove,()=>{var c;(c=o.onItemLeave)===null||c===void 0||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:te(a.onPointerLeave,()=>{l()})}))}),ts=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g.createElement(be.div,U({"aria-hidden":!0},r,{ref:t}))});function Lr(e){return e===""||e===void 0}const Br=g.forwardRef((e,t)=>{const{value:n,...r}=e,a=g.useRef(null),o=xe(t,a),s=ko(n);return g.useEffect(()=>{const i=a.current,l=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&m){const y=new Event("change",{bubbles:!0});m.call(i,n),i.dispatchEvent(y)}},[s,n]),g.createElement($a,{asChild:!0},g.createElement("select",U({},r,{ref:o,defaultValue:n})))});Br.displayName="BubbleSelect";function Hr(e){const t=Sa(e),n=g.useRef(""),r=g.useRef(0),a=g.useCallback(s=>{const i=n.current+s;t(i),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(i)},[t]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function Fr(e,t,n){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=ns(e,Math.max(o,0));a.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==n?l:void 0}function ns(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const rs=Po,zr=Mo,as=Ao,os=Do,ss=Lo,Vr=Bo,is=Vo,Wr=Ko,Ur=Yo,cs=Zo,ls=Qo,qr=Jo,Kr=es,Gr=ts,us=rs,ds=as,Yr=g.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(zr,{ref:r,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,x.jsx(os,{asChild:!0,children:x.jsx(vr,{className:"h-4 w-4 opacity-50"})})]}));Yr.displayName=zr.displayName;const Zr=g.forwardRef(({className:e,...t},n)=>x.jsx(qr,{ref:n,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(La,{className:"h-4 w-4"})}));Zr.displayName=qr.displayName;const Xr=g.forwardRef(({className:e,...t},n)=>x.jsx(Kr,{ref:n,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(vr,{className:"h-4 w-4"})}));Xr.displayName=Kr.displayName;const Qr=g.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>x.jsx(ss,{children:x.jsxs(Vr,{ref:a,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[x.jsx(Zr,{}),x.jsx(is,{className:X("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),x.jsx(Xr,{})]})}));Qr.displayName=Vr.displayName;const fs=g.forwardRef(({className:e,...t},n)=>x.jsx(Wr,{ref:n,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fs.displayName=Wr.displayName;const Jr=g.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(Ur,{ref:r,className:X("relative flex w-full cursor-default items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(ls,{children:x.jsx(Da,{className:"h-4 w-4"})})}),x.jsx(cs,{children:t})]}));Jr.displayName=Ur.displayName;const ps=g.forwardRef(({className:e,...t},n)=>x.jsx(Gr,{ref:n,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));ps.displayName=Gr.displayName;const ms=()=>{var r;const e=Ve(Ea),t=Ve(Ot),n=Ve(ja);return x.jsxs(us,{value:(r=t.value)==null?void 0:r.name,disabled:e.empty,onValueChange:a=>n(e.value.find(o=>o.name===a)),children:[x.jsx(Yr,{className:"max-w-[250px]",children:x.jsx(ds,{placeholder:"Выберите проект..."})}),x.jsx(Qr,{children:e.value.map(a=>x.jsx(Jr,{value:a.name||"-",children:a.name||"-"},a.name))})]})},vs=()=>{const[e,,t]=An(!1),n=g.useRef(null);return g.useLayoutEffect(()=>{var r;e||(r=n.current)==null||r.reset()},[e]),x.jsxs($n,{open:e,onOpenChange:t,children:[x.jsx(Sn,{asChild:!0,children:x.jsx(ke,{variant:"outline",size:"icon",className:"shrink-0",children:x.jsx(Fa,{className:"h-4 w-4"})})}),x.jsxs(Cn,{className:"sm:max-w-[425px]",children:[x.jsxs(kn,{children:[x.jsx(Nn,{children:"Создание проекта"}),x.jsx(mr,{children:"Создавай давай"})]}),x.jsxs("form",{ref:n,onSubmit:r=>{r.preventDefault(),r.stopPropagation();const a=n.current,o=Object.fromEntries(new FormData(a));Ta({logs:[],name:o.name}),a.reset(),t(!1),En({type:"success",message:"Проект успешно сделан!"})},children:[x.jsx("div",{className:"grid gap-4 py-4",children:x.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[x.jsx(ft,{htmlFor:"name",className:"text-right",children:"Имя"}),x.jsx(pt,{id:"name",name:"name",required:!0,className:"col-span-3"})]})}),x.jsx(jn,{children:x.jsx(ke,{type:"submit",children:"Создать"})})]})]})]})},hs=()=>{const e=Mt(Ra);return x.jsx(ke,{variant:"outline",size:"icon",className:"shrink-0",onClick:e,children:x.jsx(Ba,{className:"h-4 w-4"})})};var gs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bs=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,ys=/[&<>"']/g;function ws(e){return gs[e]}function $s(e){return xs[e]}function yn(e){return e==null?"":String(e).replace(ys,ws)}function wn(e){return e==null?"":String(e).replace(bs,$s)}yn.options=wn.options={};var ea={encode:yn,escape:yn,decode:wn,unescape:wn,version:"1.0.0-browser"};function ta(e){for(var t=Array.prototype.slice.call(arguments,1),n,r;t.length;){n=t.shift();for(r in n)n.hasOwnProperty(r)&&(Object.prototype.toString.call(e[r])==="[object Object]"?e[r]=ta(e[r],n[r]):e[r]=n[r])}return e}var Ss=ta,na=function(t){return typeof t=="string"?t.toLowerCase():t};function Cs(e){return e.reduce(ks,{})}function ks(e,t){return e[t]=!0,e}var ra=Cs,Ns=ra,Es=["background","base","cite","href","longdesc","src","usemap"],js={uris:Ns(Es)},Ts=ra,Rs=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"],aa={voids:Ts(Rs)},Is=ea,ir=na,Ps=aa,_s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,Ms=/^<\s*\/\s*([\w:-]+)[^>]*>/,Os=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,As=/^</,Ds=/^<\s*\//;function Ls(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}function Bs(e,t){for(var n=Ls(),r=e,a;e;)o();y();function o(){a=!0,s();var f=e===r;r=e,f&&(e="")}function s(){e.substr(0,4)==="<!--"?l():Ds.test(e)?i(Ms,y):As.test(e)&&i(_s,m),c()}function i(f,h){var u=e.match(f);u&&(e=e.substring(u[0].length),u[0].replace(f,h),a=!1)}function l(){var f=e.indexOf("-->");f>=0&&(t.comment&&t.comment(e.substring(4,f)),e=e.substring(f+3),a=!1)}function c(){if(a){var f,h=e.indexOf("<");h>=0?(f=e.substring(0,h),e=e.substring(h)):(f=e,e=""),t.chars&&t.chars(f)}}function m(f,h,u,v){var b={},d=ir(h),p=Ps.voids[d]||!!v;u.replace(Os,w),p||n.push(d),t.start&&t.start(d,b,p);function w($,S,E,C,k){E===void 0&&C===void 0&&k===void 0?b[S]=void 0:b[S]=Is.decode(E||C||k||"")}}function y(f,h){var u,v=0,b=ir(h);if(b)for(v=n.length-1;v>=0&&n[v]!==b;v--);if(v>=0){for(u=n.length-1;u>=v;u--)t.end&&t.end(n[u]);n.length=v}}}var Hs=Bs,Fs=ea,en=na,zs=js,Vs=aa;function Ws(e,t){var n,r=t||{};return y(),{start:o,end:s,chars:l};function a(f){e.push(f)}function o(f,h,u){var v=en(f);if(n.ignoring){c(v);return}if((r.allowedTags||[]).indexOf(v)===-1){c(v);return}if(r.filter&&!r.filter({tag:v,attrs:h})){c(v);return}a("<"),a(v),Object.keys(h).forEach(b),a(u?"/>":">");function b(d){var p=h[d],w=(r.allowedClasses||{})[v]||[],$=(r.allowedAttributes||{})[v]||[],S,E=en(d);E==="class"&&$.indexOf(E)===-1?(p=p.split(" ").filter(C).join(" ").trim(),S=p.length):S=$.indexOf(E)!==-1&&(zs.uris[E]!==!0||i(p)),S&&(a(" "),a(d),typeof p=="string"&&(a('="'),a(Fs.encode(p)),a('"')));function C(k){return w&&w.indexOf(k)!==-1}}}function s(f){var h=en(f),u=(r.allowedTags||[]).indexOf(h)!==-1;u&&n.ignoring===!1?(a("</"),a(h),a(">")):m(h)}function i(f){var h=f[0];if(h==="#"||h==="/")return!0;var u=f.indexOf(":");if(u===-1)return!0;var v=f.indexOf("?");if(v!==-1&&u>v)return!0;var b=f.indexOf("#");if(b!==-1&&u>b)return!0;return r.allowedSchemes.some(d);function d(p){return f.indexOf(p+":")===0}}function l(f){n.ignoring===!1&&a(r.transformText?r.transformText(f):f)}function c(f){Vs.voids[f]||(n.ignoring===!1?n={ignoring:f,depth:1}:n.ignoring===f&&n.depth++)}function m(f){n.ignoring===f&&--n.depth<=0&&y()}function y(){n={ignoring:!1,depth:0}}}var Us=Ws,qs={allowedAttributes:{a:["href","name","target","title","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null},Ks=qs,Gs=Ss,Ys=Hs,Zs=Us,oa=Ks;function sa(e,t,n){var r=[],a=n===!0?t:Gs({},oa,t),o=Zs(r,a);return Ys(e,o),r.join("")}sa.defaults=oa;var Xs=sa;const Qs=Ia(Xs),Js={allowedAttributes:{a:["href","name","target"],iframe:["allowfullscreen","frameborder","src"],img:["src"],span:["class"],code:["class"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null,transformText:null},ei=e=>Qs(e||"",Js),ti=()=>{const e=Pa(Ot.$value,t=>{if(!t)return null;if(!t.logs.length)return[];const n={};return t.logs.slice().sort((r,a)=>new Date(a.startDate).getTime()-new Date(r.startDate).getTime()).forEach(r=>{const a=st.format.dateTime(r.startDate,{format:"month"});n[a]||(n[a]={label:a,logs:[]}),n[a].logs.push(r)}),Object.values(n)});return e?e.length?x.jsx("div",{className:"max-w-[540px] select-text",children:e.map(t=>x.jsxs("div",{className:"relative select-text py-4",children:[x.jsx("h1",{className:"mb-2 select-text text-lg",children:t.label}),x.jsx("div",{className:"flex select-text flex-col",children:t.logs.map((n,r)=>x.jsxs(g.Fragment,{children:[x.jsx("div",{className:"h-1 w-full hover:bg-reverse"}),x.jsxs("div",{className:"relative my-0.5 select-text",children:[x.jsx("div",{className:"absolute left-0 top-0 h-full w-1 select-text rounded-sm bg-accent"}),x.jsx("span",{className:"ml-3 select-text text-sm text-foreground/70",children:st.format.dateTime(n.startDate,{format:"dddd, D, HH:mm A"})}),x.jsx("span",{className:"text-foreground/7 0 select-text text-sm",children:" - ".concat(st.format.dateTime(n.spentTime,{format:"time",asTime:!0})," (").concat(st.format.dateTime(Date.now()+n.spentTime,{format:"spent-time"}),")")}),x.jsx("div",{className:"ml-3 select-text",dangerouslySetInnerHTML:{__html:ei(n.meta)}})]})]},r))})]},t.label))}):x.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Нет логов"}):x.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Проект не выбран"})},ni=()=>{const e=Mt(_a);return e?x.jsx("div",{className:"select-text text-sm font-semibold",children:e}):null},ri=()=>{const e=Mt(Ma);return x.jsx(pt,{type:"number",placeholder:"0",className:"max-w-[140px]",value:e.value||"",onChange:t=>{e.set(+t.target.value||0)}})},ai=()=>{const[e,,t]=An(!1),n=g.useRef(null);return g.useLayoutEffect(()=>{var r;e||(r=n.current)==null||r.reset()},[e]),x.jsxs($n,{open:e,onOpenChange:t,children:[x.jsx(Sn,{asChild:!0,children:x.jsx(ke,{variant:"outline",size:"icon",className:"shrink-0",children:x.jsx(Ha,{className:"h-4 w-4"})})}),x.jsxs(Cn,{className:"sm:max-w-[425px]",children:[x.jsxs(kn,{children:[x.jsx(Nn,{children:"Сброс данных по трекингу"}),x.jsx(mr,{children:"Все логи по текущему проекту будут удалены"})]}),x.jsx("form",{ref:n,onSubmit:r=>{r.preventDefault(),r.stopPropagation();const a=n.current;Ot.update({logs:[]}),a.reset(),t(!1),En({type:"success",message:"Всё сброшено!"})},children:x.jsx(jn,{children:x.jsx(ke,{type:"submit",children:"ОК"})})})]})]})},li=()=>x.jsx(Oa,{className:"flex flex-col",children:x.jsxs("div",{children:[x.jsxs("div",{className:"flex flex-row justify-between",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-xs text-muted-foreground",children:"проект:"}),x.jsxs("div",{className:"flex w-[260px] flex-row gap-2",children:[x.jsx(ms,{}),x.jsx(vs,{})]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-xs text-muted-foreground",children:"ставка:"}),x.jsx(ri,{})]})]}),x.jsx(wo,{className:"mb-6 mr-auto mt-10 w-full"}),x.jsxs("div",{className:"mb-4 flex flex-row justify-end gap-2",children:[x.jsx(ai,{}),x.jsx(hs,{})]}),x.jsx(ni,{}),x.jsx(ti,{})]})});export{li as HomePage,si as homePageModel};
