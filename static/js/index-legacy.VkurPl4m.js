!function(){const e=["className"],t=["className"],n=["className"],r=["className"],a=["className"],o=["className"],i=["className"],s=["leftContent","rightContent"],l=["scope","children"],c=["__scopeSelect","disabled"],u=["__scopeSelect","className","style","children","placeholder"],d=["__scopeSelect","children"],f=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],p=["__scopeSelect","onPlaced"],m=["__scopeSelect","align","collisionPadding"],v=["__scopeSelect"],h=["__scopeSelect"],g=["__scopeSelect","value","disabled","textValue"],y=["__scopeSelect","className","style"],x=["__scopeSelect"],b=["__scopeSelect","onAutoScroll"],w=["__scopeSelect"],j=["value"],S=["className","children"],k=["className"],N=["className"],C=["className","children","position"],E=["className"],M=["className","children"],O=["className"],R=["className","type","size"],_=["className"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}System.register(["./entry-legacy.B6bTIgax.js"],(function(P,A){"use strict";var T,z,L,F,V,H,q,B,K,W,U,$,G,Z,X,Y,J,Q,ee,te,ne,re,ae,oe,ie,se,le,ce,ue,de,fe,pe,me,ve,he,ge,ye,xe,be,we,je,Se,ke,Ne,Ce,Ee,Me,Oe,Re,_e,Pe,De,Ae,Ie,Te,ze,Le,Fe,Ve,He,qe,Be,Ke,We,Ue;return{setters:[e=>{T=e.c,z=e.s,L=e.w,F=e.r,V=e.j,H=e.a,q=e.b,B=e.$,K=e.d,W=e.e,U=e.h,$=e.m,G=e.f,Z=e.g,X=e.i,Y=e.p,J=e.k,Q=e.t,ee=e.l,te=e.n,ne=e.B,re=e.o,ae=e.q,oe=e.u,ie=e.v,se=e.x,le=e.y,ce=e._,ue=e.z,de=e.A,fe=e.C,pe=e.D,me=e.E,ve=e.F,he=e.G,ge=e.H,ye=e.I,xe=e.J,be=e.K,we=e.L,je=e.M,Se=e.N,ke=e.O,Ne=e.P,Ce=e.Q,Ee=e.R,Me=e.S,Oe=e.T,Re=e.U,_e=e.V,Pe=e.W,De=e.X,Ae=e.Y,Ie=e.Z,Te=e.a0,ze=e.a1,Le=e.a2,Fe=e.a3,Ve=e.a4,He=e.a5,qe=e.a6,Be=e.a7,Ke=e.a8,We=e.a9,Ue=e.aa}],execute:function(){
/**
       * @license lucide-react v0.321.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const A=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$e=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ge=T("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ze=T("CircleFadingPlus",[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75",key:"175t95"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3",key:"1vce0s"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4",key:"o3fkw4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857",key:"1szpfk"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38",key:"9yhvd4"}]]),Xe=T("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ye=T("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),Je=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qe=T("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),et=T("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),tt=T("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),nt=Object.freeze(Object.defineProperty({__proto__:null,skip:!0},Symbol.toStringTag,{value:"Module"}));
/**
       * @license lucide-react v0.321.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */P("homePageModel",nt);var rt={},at={};function ot(e,t){for(var n in e)t(e[n],n)}function it(e,t){e.forEach(t)}function st(e,t,n){if(!e)throw Error((n?n+": ":"")+t)}function lt(e,t){var n=Rt(e).meta||{};on={id:Rt(e).id,parent:on,value:e,template:n.template||ln(),sidRoot:n.sidRoot||on&&on.sidRoot,meta:n};try{return t()}finally{sn("region"),on=Tt(on)}}function ct(e){var t=void 0===e?{}:e,n=t.node,r=void 0===n?[]:n,a=t.parent,o=t.child,i=void 0===o?t.to||t.target:o,s=t.scope,l=void 0===s?{}:s,c=t.meta,u=void 0===c?{}:c,d=t.family,f=void 0===d?{type:"regular"}:d,p=t.regional,m=dn(void 0===a?t.from||t.source:a),v=dn(f.links),h=dn(f.owners),g=[];it(r,(function(e){return e&&Jt(g,e)}));var y={id:rn(),seq:g,next:dn(i),meta:u,scope:l,family:{type:f.type||"crosslink",links:v,owners:h}};return it(v,(function(e){return Jt(_t(e),y)})),it(h,(function(e){return Jt(Pt(e),y)})),it(m,(function(e){return Jt(e.next,y)})),p&&on&&un(At(on),[y]),y}function ut(e,t,n){var r,a=Zn,o=null,i=Ln;if(e.target&&(t=e.params,n=e.defer,r=e.meta,a="page"in e?e.page:a,e.stack&&(o=e.stack),i=zt(e)||i,e=e.target),i&&Ln&&i!==Ln&&(Ln=null),Array.isArray(e))for(var s=0;s<e.length;s++)qn("pure",a,Rt(e[s]),o,t[s],i,r);else qn("pure",a,Rt(e),o,t,i,r);if(!n||Un){var l,c,u,d,f,p,m={isRoot:Un,currentPage:Zn,scope:Ln,isWatch:$n,isPure:Gn};Un=0;for(var v=function(){var e=d.idx,t=d.stack,n=d.type;u=t.node,Zn=f=t.page,Ln=zt(t),f?p=f.reg:Ln&&(p=Ln.reg);var r=!!f,a=!!Ln,o={fail:0,scope:u.scope};l=c=0;for(var i=e;i<u.seq.length&&!l;i++){var s=u.seq[i];if(s.order){var v=s.order,h=v.priority,g=v.barrierID,y=g?f?f.fullID+"_"+g:g:0;if(i!==e||n!==h)return g?Wn.has(y)||(Wn.add(y),Bn(i,t,h,g)):Bn(i,t,h,0),"continue|kernelLoop";g&&Wn.delete(y)}switch(s.type){case"mov":var x=s.data,b=void 0;switch(x.from){case"stack":b=At(t);break;case"a":case"b":b=t[x.from];break;case"value":b=x.store;break;case"store":if(p&&!p[x.store.id])if(r){var w=Jn(f,x.store.id);t.page=f=w,w?p=w.reg:a?(tr(Ln,x.store,0,1,x.softRead),p=Ln.reg):p=void 0}else a&&tr(Ln,x.store,0,1,x.softRead);b=Pn(p&&p[x.store.id]||x.store)}switch(x.to){case"stack":t.value=b;break;case"a":case"b":t[x.to]=b;break;case"store":Qn(f,Ln,x.target,0).current=b}break;case"compute":var j=s.data;if(j.fn){$n="watch"===u.meta.op,Gn=j.pure;var S=j.safe?(0,j.fn)(At(t),o.scope,t):nr(o,j.fn,t);j.filter?c=!S:t.value=S,$n=m.isWatch,Gn=m.isPure}}l=o.fail||c}if(Fn&&Fn(t,o),!l){var k=At(t),N=zt(t);if(it(u.next,(function(e){qn("child",f,e,t,k,N)})),N){u.meta.needFxCounter&&qn("child",f,N.fxCount,t,k,N),u.meta.storeChange&&qn("child",f,N.storeChange,t,k,N),u.meta.warnSerialize&&qn("child",f,N.warnSerializeNode,t,k,N);var C=N.additionalLinks[u.id];C&&it(C,(function(e){qn("child",f,e,t,k,N)}))}}};d=Hn();)v();Un=m.isRoot,Zn=m.currentPage,Ln=zt(m)}}function dt(e,t){void 0===t&&(t="combine");var n=t+"(",r="",a=0;return ot(e,(function(e){a<25&&(null!=e&&(n+=r,n+=Ht(e)?Vt(e).fullName:e.toString()),a+=1,r=", ")})),n+")"}function ft(e,t){var n,r,a=e;if(t){var o=Vt(t);0===e.length?(n=o.path,r=o.fullName):(n=o.path.concat([e]),r=0===o.fullName.length?e:o.fullName+"/"+e)}else n=0===e.length?[]:[e],r=e;return{shortName:a,fullName:r,path:n}}function pt(e,t){if(!t)return e;if(!t.name&&!t.named&&!t.loc)return e;var n="["+e+"]",r=t.named||t.name;r&&(n+=" unit '"+r+"'");var a=t.loc;return!r&&a&&(n+=" ("+a.file+":"+a.line+":"+a.column+")"),n}function mt(e,t){var n=t?e:e[0];vn(n);var r=n.or,a=n.and;if(a){var o=t?a:a[0];if(fn(o)&&"and"in o){var i=mt(a,t);e=i[0],r=Object.assign({},r,i[1])}else e=a}return[e,r]}function vt(e){var t=function(){return e()};return t.unsubscribe=function(){return e()},t}function ht(e){var t=ln();if(t){for(var n=t.handlers[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n)return n.apply(void 0,[t].concat(a))}}function gt(e,t){var n=rr({or:t,and:"string"==typeof e?{name:e}:e}),r=pt("event",n),a=function e(t){st(!Lt(e,"derived"),"call of derived event is not supported, use createEvent instead",r),st(!Gn,"unit call from pure function is not supported, use operators like sample instead",r);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return Zn?function(e,t,n,r){var a=Zn,o=null;if(t)for(o=Zn;o&&o.template!==t;)o=Tt(o);Yn(o);var i=e.create(n,r);return Yn(a),i}(e,o,t,a):e.create(t,a)},o=ln(),i=Object.assign(a,{graphite:ct({meta:fr(n.actualOp||"event",a,n),regional:1}),create:function(e){return ut({target:a,params:e,scope:Ln}),e},watch:function(e){return ur(a,e)},map:function(e){return pr(a,"map",e,[On()])},filter:function(e){return pr(a,"filter",e.fn?e:e.fn,[On(wn,1)])},filterMap:function(e){return pr(a,"filterMap",e,[On(),En((function(e){return!mn(e)}),1)])},prepend:function(e){st(a.targetable,".prepend of derived event is not supported, call source event instead",r);var t=gt("* → "+a.shortName,{parent:Tt(a)});return ht("eventPrepend",Rt(t)),cr(t,a,[On()],"prepend",e),dr(a,t),t}});return null!=n&&n.domain&&n.domain.hooks.event(i),Ft(i,"id",i.graphite.id),sn(i.graphite),i}function yt(e,t,n,r,a){return gn(n,a+" "+t,"first argument"),st(pn(r),"second argument should be a function",a),Qt(!Lt(e,"derived"),t+" in derived store",t+" in store created via createStore",a),it(Array.isArray(n)?n:[n],(function(t){e.off(t),It(e).set(t,lr(vr(t,e,"on",bn,r)))})),e}function xt(e,t){var n=rr(t),r=_n(e),a=pt("store",n),o=gt({named:"updates",derived:1});ht("storeBase",r);var i=r.id,s="skipVoid"in n,l=s&&!n.skipVoid;Qt(!(s&&n.skipVoid),"{skipVoid: true}","updateFilter",a);var c={subscribers:new Map,updates:o,defaultState:e,stateRef:r,getState:function(){var e,t=r;if(Zn){for(var n=Zn;n&&!n.reg[i];)n=Tt(n);n&&(e=n)}return!e&&Ln&&(tr(Ln,r,1),e=Ln),e&&(t=e.reg[i]),Pn(t)},setState:function(e){return ut({target:c,params:e,defer:1,scope:Ln})},reset:function(){st(c.targetable,".reset of derived store is not supported",a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return it(t,(function(e){return yt(c,".reset",e,(function(){return c.defaultState}),a)})),c},on:function(e,t){return st(c.targetable,".on of derived store is not supported",a),yt(c,".on",e,t,a)},off:function(e){var t=It(c).get(e);return t&&(t(),It(c).delete(e)),c},map:function(e,t){var n,a;fn(e)&&(n=e,e=e.fn);var o=c.getState(),i=mn(o);ln()?a=null:(!i||i&&l)&&(a=e(o));var s=xt(a,Object.assign({name:c.shortName+" → *",derived:1},t,{and:n})),u=vr(c,s,"map",wn,e);return Dn(Dt(s),{type:"map",fn:e,from:r}),Dt(s).noInit=1,ht("storeMap",r,u),s},watch:function(e,t){if(Qt(!t,"watch second argument","sample",a),!t||!Ht(e)){var n=ur(c,e);return ht("storeWatch",r,e)||e(c.getState()),n}return st(pn(t),"second argument should be a function",a),e.watch((function(e){return t(c.getState(),e)}))}},u=fr("store",c,n),d=c.defaultConfig.updateFilter;c.graphite=ct({scope:{state:r,fn:d},node:[En((function(e,t,n){return n.scope&&!n.scope.reg[r.id]&&(n.b=1),e})),Mn(r),En((function(e,t,n){var r=n.a,o=n.b,i=mn(e);return i&&!s&&console.error(a+": "+mr),(i&&l||!i)&&(e!==r||o)}),1),d&&On(xn,1),kn({from:"stack",target:r})],child:o,meta:Object.assign({},u,{defaultState:e}),regional:1}),Ft(c,"id",c.graphite.id),Ft(c,"rootStateRefId",i);var f=Lt(c,"serialize"),p=Lt(c,"derived"),m="ignore"===f,v=Lt(c,"sid");v&&(Ft(c,"storeChange",1),r.sid=v),v||m||p||Ft(c,"warnSerialize",1);var h=mn(e);return st(p||!h||h&&l,mr,a),p&&h&&!s&&console.error(a+": "+mr),un(c,[o]),null!=n&&n.domain&&n.domain.hooks.store(c),p||(c.reinit=gt({named:"reinit"}),c.reset(c.reinit)),r.meta=c.graphite.meta,sn(c.graphite),c}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,o,i=mt(t);t=i[0];var s,l,c,u=pt("combine",o=i[1]),d=t[t.length-1],f=!Bt(d)&&fn(d),p=f&&d,m=f?t[t.length-2]:d;if(pn(m)?(a=t.slice(0,f?-2:-1),r=m):a=t,1===a.length){var v=a[0];Bt(v)||(s=v,l=1)}if(!l&&(s=a,r)){c=1;var h=r;r=function(e){return h.apply(void 0,e)}}return st(fn(s),u+": shape should be an object"),hr(Array.isArray(s),!c,s,o,r,p)}function wt(){var e={};return e.req=new Promise((function(t,n){e.rs=t,e.rj=n})),e.req.catch((function(){})),e}function jt(e,t){void 0===t&&(t={});var n=rr(pn(e)?{handler:e}:e,t),r=pt("effect",n),a=gt(pn(e)?{handler:e}:e,Object.assign({},t,{actualOp:"effect"})),o=Rt(a);Ft(o,"op",a.kind="effect"),a.use=function(e){return st(pn(e),".use argument should be a function",r),d.scope.handler=e,a},a.use.getCurrent=function(){return d.scope.handler};var i=a.finally=gt({named:"finally",derived:1}),s=a.done=i.filterMap({named:"done",fn:function(e){if("done"===e.status)return{params:e.params,result:e.result}}}),l=a.fail=i.filterMap({named:"fail",fn:function(e){if("fail"===e.status)return{params:e.params,error:e.error}}}),c=a.doneData=s.map({named:"doneData",fn:function(e){return e.result}}),u=a.failData=l.map({named:"failData",fn:function(e){return e.error}}),d=ct({scope:{handler:a.defaultConfig.handler||function(){return st(0,"no handler used in "+a.compositeName.fullName)}},node:[En((function(e,t,n){var r=t.handler,o=zt(n);if(o){var i=o.handlers.unitMap.get(a)||o.handlers.sidMap[a.sid];i&&(r=i)}return e.handler=r,e}),0,1),En((function(e,t,n){if(!t.runnerFn||t.runnerFn(e,null,n)){var r=e.params,a=e.req,o=e.handler,s=e.args,l=void 0===s?[r]:s,c=yr(r,a,1,i,n),u=yr(r,a,0,i,n),d=gr(o,u,l),f=d[1];d[0]&&(fn(f)&&pn(f.then)?f.then(c,u):c(f))}}),0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=d,Jt(o.seq,En((function(e,t,n){var r=t.runner,a=Tt(n)?{params:e,req:{rs:function(){},rj:function(){}}}:e;return n.meta||(n.meta={fxID:an()}),ut({target:r,params:a,defer:1,scope:zt(n),meta:n.meta}),a.params}))),a.create=function(e){var t=wt(),n={params:e,req:t};if(Ln&&!$n){var r=Ln;t.req.finally((function(){Xn(r)})).catch((function(){}))}return ut({target:a,params:n,scope:Ln}),t.req};var f=a.inFlight=xt(0,{serialize:"ignore",named:(Lt(a,"name")||a.graphite.id)+".inFlight"}).on(a,(function(e){return e+1})).on(i,(function(e){return e-1})).map({fn:function(e){return e},named:"inFlight"});Ft(i,"needFxCounter","dec"),Ft(a,"needFxCounter",1);var p=a.pending=f.map({fn:function(e){return e>0},named:"pending"});return un(a,[i,s,l,c,u,p,f]),null!=n&&n.domain&&n.domain.hooks.effect(a),a}function St(e,t){var n=pt("merge",t);gn(e,n,"first argument");var r=gt({name:dt(e,"merge"),derived:1,and:t});return cr(e,r,[],"merge"),r}function kt(e,t){var n=0;return it(br,(function(r){r in e&&(st(null!=e[r],wr(t,r)),n=1)})),n}function Nt(e,t,n){var r=[];!function e(a){Xt(r,a)||(Jt(r,a),"store"===Lt(a,"op")&&(n||Lt(a,"sid"))&&t(a,Lt(a,"sid")),it(a.next,e),it(_t(a),e),it(Pt(a),e))}(e)}function Ct(e,t){var n=Array.isArray(e)?new Map(e):e,r=new Map,a=0;if(n instanceof Map){var o={};return it(n,(function(e,n){st(Ht(n),"Map key should be a unit"),t&&t(n,e),n.sid&&(n.sid in o&&(a=1),o[n.sid]=e),r.set(n,e)})),{sidMap:o,unitMap:r,hasSidDoubles:a}}return{sidMap:n,unitMap:r}}function Et(e,t){return Bt(t)?[Rn.mov({store:t.stateRef,to:"stack"})].concat(e):e}Object.defineProperty(at,"__esModule",{value:1});for(var Mt,Ot="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",Rt=function(e){return e.graphite||e},_t=function(e){return e.family.owners},Pt=function(e){return e.family.links},Dt=function(e){return e.stateRef},At=function(e){return e.value},It=function(e){return e.subscribers},Tt=function(e){return e.parent},zt=function(e){return e.scope},Lt=function(e,t){return Rt(e).meta[t]},Ft=function(e,t,n){return Rt(e).meta[t]=n},Vt=function(e){return e.compositeName},Ht=function(e){return(pn(e)||fn(e))&&"kind"in e},qt=function(e){return function(t){return Ht(t)&&t.kind===e}},Bt=qt("store"),Kt=qt("event"),Wt=qt("effect"),Ut=function(e){return Ht(e)&&!!e.targetable},$t=qt("domain"),Gt=qt("scope"),Zt={__proto__:null,unit:Ht,store:Bt,event:Kt,effect:Wt,targetable:Ut,domain:$t,scope:Gt,attached:function(e){return Wt(e)&&1==Lt(e,"attached")}},Xt=function(e,t){return e.includes(t)},Yt=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},Jt=function(e,t){return e.push(t)},Qt=function(e,t,n,r){return!e&&console.error((r?r+": ":"")+t+" is deprecated"+(n?", use "+n+" instead":""))},en=function(){var e=0;return function(){return""+ ++e}},tn=en(),nn=en(),rn=en(),an=en(),on=null,sn=function(e){Mt&&Mt(e,on)},ln=function(){return on&&on.template},cn=function(e){return e&&on&&on.sidRoot&&(e=on.sidRoot+"|"+e),e},un=function(e,t){var n=Rt(e);it(t,(function(e){var t=Rt(e);"domain"!==n.family.type&&(t.family.type="crosslink"),Jt(_t(t),n),Jt(Pt(n),t)}))},dn=function(e){return void 0===e&&(e=[]),(Array.isArray(e)?e:[e]).flat().map(Rt)},fn=function(e){return"object"==typeof e&&null!==e},pn=function(e){return"function"==typeof e},mn=function(e){return void 0===e},vn=function(e){return st(fn(e)||pn(e),"expect first argument be an object")},hn=function(e,t,n,r){return st(!(!fn(e)&&!pn(e)||!("family"in e)&&!("graphite"in e)),t+": expect "+n+" to be a unit (store, event or effect)"+r)},gn=function(e,t,n){Array.isArray(e)?it(e,(function(e,r){return hn(e,t,r+" item of "+n,"")})):hn(e,t,n," or array of units")},yn=function(e,t,n){return void 0===n&&(n="target"),it(dn(t),(function(t){return st(!Lt(t,"derived"),e+': derived unit in "'+n+'" is not supported, use createStore/createEvent instead"')}))},xn=function(e,t,n){return(0,t.fn)(e,n.a)},bn=function(e,t,n){return(0,t.fn)(n.a,e)},wn=function(e,t){return(0,t.fn)(e)},jn=function(e,t,n,r){var a={id:nn(),type:e,data:t};return n&&(a.order={priority:n},r&&(a.order.barrierID=++Sn)),a},Sn=0,kn=function(e){var t=e.from,n=e.target,r=e.to;return jn("mov",{from:void 0===t?"store":t,store:e.store,to:void 0===r?n?"store":"stack":r,target:n},e.priority,e.batch)},Nn=function(e){var t=e.safe,n=e.filter,r=e.pure;return jn("compute",{fn:e.fn,safe:void 0===t?0:t,filter:void 0===n?0:n,pure:void 0===r?0:r},e.priority,e.batch)},Cn=function(e){return Nn({fn:e.fn,priority:"effect"})},En=function(e,t,n){return Nn({fn:e,safe:1,filter:t,priority:n&&"effect"})},Mn=function(e,t,n){return kn({store:e,to:t?"stack":"a",priority:n&&"sampler",batch:1})},On=function(e,t){return void 0===e&&(e=wn),Nn({fn:e,pure:1,filter:t})},Rn={mov:kn,compute:Nn,filter:function(e){return Nn({fn:e.fn,filter:1,pure:e.pure})},run:Cn},_n=function(e){return{id:nn(),current:e,initial:e}},Pn=function(e){return e.current},Dn=function(e,t){e.before||(e.before=[]),Jt(e.before,t)},An=null,In=function e(t,n){return t?n?((t.v.type===n.v.type&&t.v.id>n.v.id||Kn(t.v.type)>Kn(n.v.type))&&(r=t,t=n,n=r),r=e(t.r,n),t.r=t.l,t.l=r,t):t:n;var r},Tn=[],zn=0;zn<6;)Jt(Tn,{first:null,last:null,size:0}),zn+=1;var Ln,Fn,Vn,Hn=function(){for(var e=0;e<6;e++){var t=Tn[e];if(t.size>0){if(3===e||4===e){t.size-=1;var n=An.v;return An=In(An.l,An.r),n}1===t.size&&(t.last=null);var r=t.first;return t.first=r.r,t.size-=1,r.v}}},qn=function(e,t,n,r,a,o,i){return Bn(0,{a:null,b:null,node:n,parent:r,value:a,page:t,scope:o,meta:i},e,0)},Bn=function(e,t,n,r){var a=Kn(n),o=Tn[a],i={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};3===a||4===a?An=In(An,i):(0===o.size?o.first=i:o.last.r=i,o.last=i),o.size+=1},Kn=function(e){switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Wn=new Set,Un=1,$n=0,Gn=0,Zn=null,Xn=function(e){Ln=e},Yn=function(e){Zn=e},Jn=function(e,t){if(e){for(;e&&!e.reg[t];)e=e.parent;if(e)return e}return null},Qn=function(e,t,n,r){var a=Jn(e,n.id);return a?a.reg[n.id]:t?(tr(t,n,r),t.reg[n.id]):n},er=function(e){return e},tr=function e(t,n,r,a,o){var i=t.reg;if(!i[n.id]){var s=n.sid,l={id:n.id,current:n.initial,meta:n.meta};if(l.id in t.values.idMap)l.current=t.values.idMap[l.id];else if(s&&s in t.values.sidMap&&!(s in t.sidIdMap)){var c,u=null==n||null===(c=n.meta)||void 0===c?void 0:c.serialize;l.current=(t.fromSerialize&&"ignore"!==u&&(null==u?void 0:u.read)||er)(t.values.sidMap[s])}else if(n.before&&!o){var d=0,f=r||!n.noInit||a;it(n.before,(function(n){switch(n.type){case"map":var o=n.from;if((o||n.fn)&&(o&&e(t,o,r,a),f)){var s=o&&i[o.id].current;l.current=n.fn?n.fn(s):s}break;case"field":e(t,n.from,r,a),d||(d=1,l.current=Array.isArray(l.current)?[].concat(l.current):Object.assign({},l.current)),f&&(l.current[n.field]=i[i[n.from.id].id].current)}}))}s&&(t.sidIdMap[s]=n.id),i[n.id]=l}},nr=function(e,t,n){try{return t(At(n),e.scope,n)}catch(Mr){console.error(Mr),e.fail=1,e.failReason=Mr}},rr=function e(t,n){return void 0===n&&(n={}),fn(t)&&(e(t.or,n),ot(t,(function(e,t){mn(e)||"or"===t||"and"===t||(n[t]=e)})),e(t.and,n)),n},ar=function(e,t){Yt(e.next,t),Yt(_t(e),t),Yt(Pt(e),t)},or=function e(t,n,r){var a;t.next.length=0,t.seq.length=0,t.scope=null;for(var o=Pt(t);a=o.pop();)ar(a,t),(n||r&&"sample"!==t.meta.op||"crosslink"===a.family.type)&&e(a,n,"on"!==a.meta.op&&r);for(o=_t(t);a=o.pop();)ar(a,t),r&&"crosslink"===a.family.type&&e(a,n,"on"!==a.meta.op&&r)},ir=function(e){return e.clear()},sr=function(e,t){var n=(void 0===t?{}:t).deep,r=0;if(e.ownerSet&&e.ownerSet.delete(e),Bt(e))ir(It(e));else if($t(e)){r=1;var a=e.history;ir(a.events),ir(a.effects),ir(a.stores),ir(a.domains)}or(Rt(e),!!n,r)},lr=function(e){return vt((function(){return sr(e)}))},cr=function(e,t,n,r,a){return ct({node:n,parent:e,child:t,scope:{fn:a},meta:{op:r},family:{owners:[e,t],links:t},regional:1})},ur=function(e,t){return st(pn(t),".watch argument should be a function"),lr(ct({scope:{fn:t},node:[Cn({fn:wn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))},dr=function(e,t,n){void 0===n&&(n="event"),Tt(e)&&Tt(e).hooks[n](t)},fr=function(e,t,n){var r=rr(n),a="domain"===e,o=tn(),i=r.sid,s=void 0===i?null:i,l=r.named,c=void 0===l?null:l,u=r.domain,d=r.parent,f=void 0===d?void 0===u?null:u:d,p=c||r.name||(a?"":o),m=ft(p,f),v={op:t.kind=e,name:t.shortName=p,sid:t.sid=cn(s),named:c,unitId:t.id=o,serialize:r.serialize,derived:r.derived,config:r};if(t.targetable=!r.derived,t.parent=f,t.compositeName=m,t.defaultConfig=r,t.getType=function(){return Qt(0,"getType","compositeName.fullName"),m.fullName},!a){t.subscribe=function(e){return vn(e),t.watch(pn(e)?e:function(t){return e.next&&e.next(t)})},t[Ot]=function(){return t};var h=ln();h&&(v.nativeTemplate=h)}return v},pr=function(e,t,n,r){var a;fn(n)&&(a=n,n=n.fn);var o=gt({name:e.shortName+" → *",derived:1,and:a});return cr(e,o,r,t,n),o},mr="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",vr=function(e,t,n,r,a){var o=Dt(t),i=kn({store:o,to:"a",priority:"read"});"map"===n&&(i.data.softRead=1);var s=[i,On(r)];return ht("storeOnMap",o,s,Bt(e)&&Dt(e)),cr(e,t,s,n,a)},hr=function(e,t,n,r,a,o){var i=pt("combine",r),s=e?function(e){return[].concat(e)}:function(e){return Object.assign({},e)},l=e?[]:{},c=s(l),u=_n(c),d=_n(1);u.type=e?"list":"shape",u.noInit=1,ht("combineBase",u,d);var f=xt(c,Object.assign({name:dt(n),derived:1},o,{and:r})),p=Dt(f);p.noInit=1,Ft(f,"isCombine",1);var m=Mn(u);m.order={priority:"barrier"};var v=kn({store:p,to:"b",priority:"read"});v.data.softRead=1;var h=[En((function(e,t,n){return n.scope&&!n.scope.reg[u.id]&&(n.c=1),e})),m,kn({store:d,to:"b"}),En((function(e,n,r){var a=n.key;if(r.c||e!==r.a[a])return t&&r.b&&(r.a=s(r.a)),r.a[a]=e,1}),1),kn({from:"a",target:u}),kn({from:"value",store:0,target:d}),kn({from:"value",store:1,target:d,priority:"barrier",batch:1}),Mn(u,1,1),a&&On(),v];if(ot(n,(function(e,t){if(!Bt(e))return st(!Ht(e)&&!mn(e),"combine expects a store in a field "+t,i),void(c[t]=l[t]=e);l[t]=e.defaultState,c[t]=e.getState();var n=cr(e,f,h,"combine",a);n.scope.key=t;var r=Dt(e);Dn(u,{type:"field",field:t,from:r}),ht("combineField",r,n)})),f.defaultShape=n,Dn(p,{type:"map",from:u,fn:a}),!ln())if(a){var g=a(c);!mn(g)||o&&"skipVoid"in o||console.error(i+": "+mr),p.current=g,p.initial=g,f.defaultState=g}else f.defaultState=l;return f},gr=function(e,t,n){try{return[1,e.apply(void 0,n)]}catch(Mr){return t(Mr),[0,null]}},yr=function(e,t,n,r,a){return function(o){ut({target:[r,xr],params:[n?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:n?t.rs:t.rj}],defer:1,page:a.page,scope:a.scope,meta:a.meta})}},xr=ct({node:[Cn({fn:function(e){return(0,e.fn)(e.value)}})],meta:{op:"fx",fx:"sidechain"}}),br=["source","clock","target"],wr=function(e,t){return e+": "+t+" should be defined"},jr=function(e,t,n,r,a,o,i,s,l,c,u,d){var f=pt(e,s),p=!!a;st(!mn(n)||!mn(t),wr(f,"either source or clock"));var m=0;mn(n)?m=1:Ht(n)||(n=bt(n)),mn(t)?t=n:(gn(t,f,"clock"),Array.isArray(t)&&(t=St(t))),m&&(n=t),s||i||(i=n.shortName);var v="none";(u||r)&&(Ht(r)?v="unit":(st(pn(r),"`filter` should be function or unit"),v="fn")),a?(gn(a,f,"target"),yn(f,a)):"none"===v&&c&&Bt(n)&&Bt(t)?a=xt(o?o(Pn(Dt(n)),Pn(Dt(t))):Pn(Dt(n)),{name:i,sid:d,or:s}):(a=gt({name:i,derived:1,or:s}),ht("sampleTarget",Rt(a)));var h=_n(),g=[];if("unit"===v){var y=kr(r,a,t,h,e),x=y[0];y[2]||g.push.apply(g,Sr(y[1])),g.push.apply(g,Sr(x))}var b=[];if(m)l&&b.push(Mn(h,1,1));else{var w=kr(n,a,t,h,e),j=w[0];w[2]||b.push.apply(b,Sr(w[1])),b.push(Mn(j,1,l))}var S=cr(t,a,[ht("sampleSourceLoader"),kn({from:"stack",target:h})].concat(b,g,[Mn(h),"fn"===v&&On((function(e,t,n){return r(e,n.a)}),1),o&&On(xn),ht("sampleSourceUpward",p)]),e,o);return un(n,[S]),Object.assign(S.meta,s,{joint:1}),a},Sr=function(e){return[Mn(e),En((function(e,t,n){return n.a}),1)]},kr=function(e,t,n,r,a){var o=Bt(e),i=o?Dt(e):_n(),s=_n(o);return o||ct({parent:e,node:[kn({from:"stack",target:i}),kn({from:"value",store:1,target:s})],family:{owners:[e,t,n],links:t},meta:{op:a},regional:1}),ht("sampleSource",s,i,r),[i,s,o]},Nr=function(e,t,n,r){var a=e[t];a&&ut({target:a,params:Array.isArray(a)?a.map((function(){return n})):n,defer:1,stack:r})},Cr=function(e){return!e.node.meta.isCombine||e.parent&&"combine"!==e.parent.node.meta.op},Er=function(e){return e};function Mr(e,t){return t.displayName=e,t}function Or(e,t){var n=Fr.is.unit(e),r={};n?r={unit:e}:"@@unitShape"in e?"function"==typeof e["@@unitShape"]?r=e["@@unitShape"]():Br("expect @@unitShape to be a function"):r=e;var a=Array.isArray(r),o=qr.useRef({stale:1,justSubscribed:0,scope:t}),i=qr.useMemo((function(){o.current.stale=1;var e=Array.isArray(r)?[]:{},a=[],i=[],s=[],l=[];for(var c in r)if({}.hasOwnProperty.call(r,c)){var u=r[c];Fr.is.unit(u)||Br("expect useUnit "+(n?"argument":'value in key "'+c+'"')+" to be a unit"),Fr.is.event(u)||Fr.is.effect(u)?(e[c]=t?Fr.scopeBind(u,{scope:t}):u,s.push(c),l.push(u)):(e[c]=null,a.push(c),i.push(u))}return[e,a,i,s,l]}),[o,t].concat(Object.keys(r),Object.values(r))),s=i[0],l=i[1],c=i[2],u=i[3],d=i[4],f=qr.useRef({value:s,storeKeys:l,eventKeys:u,eventValues:d}),p=qr.useCallback((function(e){var n=o.current;return n.justSubscribed=1,Fr.createWatch({unit:c,fn:function(){n.stale||(n.stale=1,e())},scope:t,batch:1})}),[c,t,f,o]),m=qr.useCallback((function(){var e,r=f.current,i=o.current,p=0,m=r.value,v=r.storeKeys,h=r.eventKeys,g=r.eventValues,y=t!==i.scope;if(i.stale||i.justSubscribed||y){p=!i.justSubscribed||y,e=a?[].concat(s):Object.assign({},s),v.length===l.length&&h.length===u.length||(p=1);for(var x=0;x<l.length;x++){var b=Ur(c[x],t),w=l[x];p||(p=v.includes(w)?m[w]!==b:1),e[w]=b}for(var j=0;j<u.length;j++){var S=d[j],k=u[j];p||(p=h.includes(k)?g[h.indexOf(k)]!==S:1)}}return p&&(r.value=e),r.storeKeys=l,r.eventKeys=u,r.eventValues=d,i.stale=0,i.justSubscribed=!p,i.scope=t,n?r.value.unit:r.value}),[p,c,d,t,f,o]);return Vr.useSyncExternalStore(p,m,m)}function Rr(e,t){var n,r,a,o,i=e[0],s=e[1],l=$r;if(s)n=s,a=i,o=[];else{n=i.fn,a=i.store,o=i.keys,r=i.defaultValue;var c=i.updateFilter;l=void 0===c?$r:c}Fr.is.store(a)||Br("useStoreMap expects a store"),Array.isArray(o)||Br("useStoreMap expects an array as keys"),"function"!=typeof n&&Br("useStoreMap expects a function");var u=qr.useCallback((function(e){return Fr.createWatch({unit:a,fn:e,scope:t})}),[a,t]),d=qr.useCallback((function(){return Ur(a,t)}),[a,t]),f=qr.useRef(),p=qr.useRef(),m=qr.useRef(o);return Hr.useSyncExternalStoreWithSelector(u,d,d,(function(e){if(f.current!==e||!function(e,t){if(!e||!t||e.length!==t.length)return 0;for(var n=1,r=0;r<e.length;r++)if(e[r]!==t[r]){n=0;break}return n}(m.current,o)){var t=n(e,o);void 0===t&&void 0!==r&&(t=r),f.current=e,m.current=o,void 0!==t&&(p.current=t)}return p.current}),(function(e,t){return!l(t,e)}))}function _r(e,t,n){void 0===t&&(t={});var r=Or({open:e.open,close:e.close,set:e.set},n),a=r.open,o=r.close,i=r.set,s=qr.useMemo((function(){return{open:a,close:o,set:i}}),[e,a]),l=qr.useRef({value:null,count:0});Kr((function(){return s.open(l.current.value),function(){return s.close(l.current.value)}}),[s]),function(e,t){if(e===t)return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return 0;for(var a=0;a<n.length;a++){var o=n[a];if(e[o]!==t[o])return 0}return 1}return 0}(l.current.value,t)||(l.current.value=t,l.current.count+=1),Kr((function(){s.set(l.current.value)}),[l.current.count])}function Pr(e){var t=qr.useContext(Gr);return e&&!t&&Br("No scope found, consider adding <Provider> to app root"),t}function Dr(e,t){return function(e,t){Wr(1,"useStore","useUnit"),Fr.is.store(e)||Br("expect useStore argument to be a store");var n=qr.useCallback((function(n){return Fr.createWatch({unit:e,fn:n,scope:t})}),[e,t]),r=qr.useCallback((function(){return Ur(e,t)}),[e,t]);return Vr.useSyncExternalStore(n,r,r)}(e,Pr(null==t?void 0:t.forceScope))}function Ar(e,t){function n(e){var n=qr.useRef(e),a=Dr(r);Kr((function(){return o({props:n.current,state:r.getState()}),function(){i({props:n.current,state:r.getState()})}}),[]);var s=t(e,a);return n.current=e,s}var r;Zr("createComponent","@effector/reflect"),Fr.is.store(e)?r=e:"object"==typeof e&&null!==e?r=Fr.combine(e):Br("shape should be a store or object with stores");var a="Unknown";r&&r.shortName&&(a=r.shortName);var o=Fr.createEvent(),i=Fr.createEvent();return n.mounted=o,n.unmounted=i,Mr(a+".View",n)}function Ir(e,t){var n,r=t?e:e[0];!function(e){if(!e)throw Error("expect first argument be an object")}(Xr(n=r)||function(e){return"function"==typeof e}(n));var a=r.or,o=r.and;if(o){var i=t?o:o[0];if(Xr(i)&&"and"in i){var s=Ir(o,t);e=s[0],a=Object.assign({},a,s[1])}else e=o}return[e,a]}function Tr(e){function t(e){return a(t,e,Pr()),null}var n=e.domain,r=e.defaultState,a=e.hook,o=Yr({or:e.maybeConfig,and:e.mainConfig}),i=(n?n.compositeName.fullName+"/":"")+(o.name||"gate"),s=Fr.createEvent({name:i+".set",sid:o.sid?o.sid+"|set":void 0}),l=Fr.createEvent({name:i+".open",sid:o.sid?o.sid+"|open":void 0}),c=Fr.createEvent({name:i+".close",sid:o.sid?o.sid+"|close":void 0}),u=Fr.createStore(Boolean(0),{name:i+".status",serialize:"ignore"}).on(l,(function(){return Boolean(1)})).on(c,(function(){return Boolean(0)})),d=Fr.createStore(r,{name:i+".state",sid:o.sid}).on(s,(function(e,t){return t})).on(l,(function(e,t){return t})).reset(c);if(n){var f=n.hooks;Fr.launch({target:[f.store,f.store,f.event,f.event,f.event],params:[u,d,l,c,s]})}return t.open=l,t.close=c,t.status=u,t.state=d,t.set=s,Mr("Gate:"+i,t)}function zr(e,t){var n,r,a,o=Ir(t&&Xr(n=t[0])&&(n.and||n.or)?t:[{and:t}]),i=o[0],s=i[0],l=i[1],c={},u={},d=o[1];return"string"==typeof s?(u={name:s},Xr(a=l)&&"sid"in a||(c=l||{})):function(e){return Xr(e)&&("domain"in e||"defaultState"in e||"name"in e)}(s)&&(u=s,c=s.defaultState||{},r=s.domain),{hook:e,domain:r,defaultState:c,mainConfig:u,maybeConfig:d}}at.allSettled=function(e,t){var n=void 0===t?{}:t,r=n.scope,a=n.params;if(!Ht(e))return Promise.reject(new Error("first argument should be unit"));if(!(Wt(e)||Kt(e)||Bt(e)||Gt(e)))return Promise.reject(new Error("first argument accepts only effects, events, stores or scopes"));Gt(e)&&(r=e);var o=wt();o.parentFork=Ln;var i=r.fxCount;Jt(i.scope.defers,o);var s=[],l=[];return Gt(e)||(Jt(s,e),Jt(l,Wt(e)?{params:a,req:{rs:function(e){o.value={status:"done",value:e}},rj:function(e){o.value={status:"fail",value:e}}}}:a)),Jt(s,i),Jt(l,null),ut({target:s,params:l,scope:r}),o.req},at.attach=function(e){var t,n,r=mt(e,1);e=r[0];var a=pt("attach",n=r[1]),o=e.source,i=e.effect,s=e.mapParams,l=e.domain;Wt(i)&&st(mn(l),"`domain` can only be used with a plain function",a);var c=jt(e,n);Ft(c,"attached",1);var u,d,f=Rt(c).scope.runner,p=function(e,t,n){var r,a=e.params,i=e.req,l=e.handler,u=c.finally,d=yr(a,i,0,u,n),f=n.a,p=Wt(l),m=1;if(s){var v=gr(s,d,[a,f]);m=v[0],r=v[1]}else r=o&&p?f:a;if(m){if(!p)return e.args=[f,r],1;ut({target:l,params:{params:r,req:{rs:yr(a,i,1,u,n),rj:d}},page:n.page,defer:1,meta:n.meta})}};o?(f.scope.runnerFn=p,Bt(o)?un(d=o,[c]):(d=bt(o),un(c,[d])),u=[En((function(e){return e}),0,1),Mn(Dt(d))],delete f.seq[1].order):u=[En(p,1,1)],(t=f.seq).splice.apply(t,[1,0].concat(u)),c.use(i);var m=Tt(i);return m&&(Object.assign(Vt(c),ft(c.shortName,m)),c.defaultConfig.parent=m),dr(i,c,"effect"),c},at.clearNode=sr,at.combine=bt,at.createApi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=mt(t),a=r[0],o=a[0],i=a[1],s=r[1],l={};return ot(i,(function(e,t){var n=l[t]=gt(t,{parent:Tt(o),config:s});o.on(n,e),dr(o,n)})),l},at.createDomain=function e(t,n){var r=rr({or:n,and:"string"==typeof t?{name:t}:t}),a=ct({family:{type:"domain"},regional:1,parent:(null==r?void 0:r.domain)||(null==r?void 0:r.parent)}),o={history:{},graphite:a,hooks:{}};a.meta=fr("domain",o,{parent:(null==r?void 0:r.domain)||(null==r?void 0:r.parent),or:Object.assign({},r,{derived:1})}),ot({Event:gt,Effect:jt,Store:xt,Domain:e},(function(e,t){var n=t.toLowerCase(),r=gt({named:"on"+t});o.hooks[n]=r;var a=new Set;o.history[n+"s"]=a,r.create=function(e){return ut(r,e),e},Jt(Rt(r).seq,En((function(e,t,n){return n.scope=null,e}))),r.watch((function(e){un(o,[e]),a.add(e),e.ownerSet||(e.ownerSet=a),Tt(e)||(e.parent=o)})),un(o,[r]),o["onCreate"+t]=function(e){return it(a,e),r.watch(e)},o["create"+t]=o[n]=function(t,n){var a=rr({and:n,or:t});return null!=a&&a.domain?e(t,n):r(e(t,{parent:o,or:a}))}}));var i=Tt(o);return i&&ot(o.hooks,(function(e,t){return cr(e,i.hooks[t])})),null!=r&&r.domain&&r.domain.hooks.domain(o),o},at.createEffect=jt,at.createEvent=gt,at.createNode=ct,at.createStore=xt,at.createWatch=function(e){var t=e.unit,n=e.fn,r=e.scope,a=e.batch,o=[Rn.run({fn:function(e){return n(e)}})];a&&o.unshift(Rn.compute({priority:"sampler",batch:1})),Bt(t)&&o.unshift(Rn.mov({store:t.stateRef,to:"stack"}));var i=Array.isArray(t)?t:[t];if(r){var s=[],l=r.additionalLinks;return i.forEach((function(e){var t=l[e.graphite.id]||[];l[e.graphite.id]=t;var n=ct({node:Et(o,e),meta:{watchOp:e.kind}});t.push(n),s.push((function(){var e=t.indexOf(n);-1!==e&&t.splice(e,1),sr(n)}))})),vt((function(){s.forEach((function(e){return e()}))}))}var c=ct({node:o,parent:i,family:{owners:i}});return vt((function(){sr(c)}))},at.fork=function(e,t){var n,r=e;$t(e)&&(Qt(0,"fork(domain)","fork()"),n=e,r=t);var a=function(e){var t=ct({scope:{defers:[],inFlight:0,fxID:0},node:[En((function(e,t,n){n.parent?"dec"===n.parent.node.meta.needFxCounter?t.inFlight-=1:(t.inFlight+=1,t.fxID+=1):t.fxID+=1})),Nn({priority:"sampler",batch:1}),En((function(e,t){var n=t.defers,r=t.fxID;t.inFlight>0||0===n.length||Promise.resolve().then((function(){t.fxID===r&&it(n.splice(0,n.length),(function(e){Xn(e.parentFork),e.rs(e.value)}))}))}),0,1)]}),n=ct({node:[En((function(e,t,n){var r=n.parent;if(r){var a=r.node;if(Cr(r)){var o=zt(n),i=a.meta.sid;o.sidIdMap[i]=a.scope.state.id,o.values.sidMap[i]=e;var s=a.meta.serialize;s&&o.sidSerializeSettings.set(i,"ignore"===s?{ignore:1}:{ignore:0,write:s.write})}}}))]}),r=ct({node:[En((function(e,t,n){var r=zt(n);r&&n.parent&&Cr(n.parent)&&(r.warnSerialize=1)}))]}),a={cloneOf:e,reg:{},values:{sidMap:{},idMap:{}},sidIdMap:{},sidSerializeSettings:new Map,getState:function(e){if("current"in e)return Qn(Zn,a,e,0).current;var t=Rt(e);return Qn(Zn,a,t.scope.state,1).current},kind:"scope",graphite:ct({family:{type:"domain",links:[t,n,r]},meta:{unit:"fork"},scope:{forkInFlightCounter:t}}),additionalLinks:{},handlers:{sidMap:{},unitMap:new Map},fxCount:t,storeChange:n,warnSerializeNode:r};return a}(n);if(r){if(r.values){var o=Ct(r.values,(function(e){return st(Bt(e)&&Ut(e),"Values map can contain only writable stores as keys")})),i=o.unitMap,s=o.hasSidDoubles;Object.assign(a.values.sidMap,o.sidMap),it(i,(function(e,t){if(a.values.idMap[t.stateRef.id]=e,"ignore"===Lt(t,"serialize")){var n=Lt(t,"sid");a.sidSerializeSettings.set(n,{ignore:1})}})),a.fromSerialize=!(Array.isArray(r.values)||r.values instanceof Map),a.hasSidDoubles=s}r.handlers&&(Qt(r.handlers instanceof Map||Array.isArray(r.handlers),"object with handlers","array"),a.handlers=Ct(r.handlers,(function(e){return st(Wt(e),"Handlers map can contain only effects as keys")})))}return a},at.forward=function(e){var t="forward",n=mt(e,1),r=n[0],a=r.from,o=r.to,i=n[1],s=pt(t,i);return Qt(0,t,"sample",s),gn(a,s,'"from"'),gn(o,s,'"to"'),yn(s,o,"to"),lr(ct({parent:a,child:o,meta:{op:t,config:i},family:{},regional:1}))},at.fromObservable=function(e){vn(e);var t=Ot in e?e[Ot]():e;st(t.subscribe,"expect observable to have .subscribe");var n=gt(),r=lr(n);return t.subscribe({next:n,error:r,complete:r}),n},at.guard=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=mt(t),a=r[0],o=a[0],i=a[1],s=r[1],l=pt("guard",s);return Qt(0,"guard","sample",l),i||(o=(i=o).source),kt(i,l),jr("guard",i.clock,o,i.filter,i.target,null,i.name,s,!i.greedy,0,1)},at.hydrate=function(e,t){var n=t.values;st(fn(n),"values property should be an object");var r=Ct(n),a=r.sidMap,o=r.unitMap,i=Object.getOwnPropertyNames(a),s={};it(o,(function(e,t){s[t.stateRef.id]=t}));var l,c,u,d=[],f=[];Gt(e)?(u=1,st((l=e).cloneOf,"scope should be created from domain"),Qt(0,"hydrate(fork(domain), { values })","fork({ values })"),c=Rt(l.cloneOf)):$t(e)?(Qt(0,"hydrate(domain, { values })","fork({ values })"),c=Rt(e)):st(0,"first argument of hydrate should be domain or scope"),Nt(c,(function(e,t){if(t&&Xt(i,t)){Jt(d,e);var n=Lt(e,"serialize");n&&"ignore"!==n&&(a[t]=n.read(a[t])),Jt(f,a[t])}else e.scope.state.id in s&&(Jt(d,e),Jt(f,o.get(s[e.scope.state.id])))}),1),ut({target:d,params:f,scope:l}),u&&Object.assign(l.values.sidMap,a)},at.is=Zt,at.launch=ut,at.merge=St,at.restore=function(e,t,n){var r=pt("restore",n);if(st(!Bt(e),"restore($store) is not supported",r),Kt(e)||Wt(e)){var a=Tt(e),o=xt(t,{parent:a,name:e.shortName,and:n});return cr(Wt(e)?e.doneData:e,o),a&&a.hooks.store(o),o}var i=Array.isArray(e)?[]:{};return ot(e,(function(e,t){return i[t]=Bt(e)?e:xt(e,{name:t})})),i},at.sample=function(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o,i,s=mt(r),l=s[0],c=l[0],u=l[1],d=l[2],f=s[1],p=1,m=pt("sample",f);return mn(u)&&fn(c)&&kt(c,m)&&(u=c.clock,d=c.fn,"batch"in c?p=c.batch:(Qt(!("greedy"in c),"greedy in sample","batch",m),p=!c.greedy),i=c.filter,e=c.target,t=c.name,o=c.sid,c=c.source),jr("sample",u,c,i,e,d,t,f,p,1,0,o)},at.scopeBind=function(e,t){var n=void 0===t?{}:t,r=n.scope;st(r||Ln||n.safe,"scopeBind: scope not found");var a=r||Ln;return function(t){function n(){Xn(i)}var r,o=0,i=Ln;Xn(a);try{r=e(t)}catch(_r){r=_r,o=1}if(n(),o)throw r;return r instanceof Promise&&r.then(n,n),r}},at.serialize=function(e,t){void 0===t&&(t={}),e.warnSerialize&&console.error("There is a store without sid in this scope, its value is omitted"),st(!e.hasSidDoubles,"duplicate sid found in this scope");var n=t.ignore?t.ignore.map((function(e){return e.sid})):[],r={};return ot(e.values.sidMap,(function(t,a){var o;if(!Xt(n,a)){var i=e.sidIdMap[a],s=null!==(o=e.sidSerializeSettings.get(a))&&void 0!==o?o:{ignore:0,write:Er};s.ignore||(r[a]=(0,s.write)(i&&i in e.reg?e.reg[i].current:t))}})),"onlyChanges"in t&&(Qt(0,"onlyChanges"),t.onlyChanges||(st(e.cloneOf,"scope should be created from domain"),Nt(Rt(e.cloneOf),(function(t,a){a in r||Xt(n,a)||Lt(t,"isCombine")||"ignore"===Lt(t,"serialize")||(r[a]=e.getState(t))})))),r},at.setGraphInspector=function(e){Mt=e},at.setInspector=function(e){Fn=e},at.setStoreName=function(e,t){e.shortName=t,Object.assign(Vt(e),ft(t,Tt(e)))},at.split=function(){for(var e,t,n="split",r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=mt(a),s=i[0],l=s[0],c=s[1],u=i[1],d=pt(n,u),f=!c;f&&(e=l.cases,c=l.match,t=l.clock,l=l.source);var p=Bt(c),m=!Ht(c)&&pn(c),v=!p&&!m&&fn(c);st(Ht(l),"source must be a unit",d),e||(e={}),f?ot(e,(function(e,t){return yn(d,e,"cases."+t)})):(st(v,"match should be an object",d),ot(c,(function(t,n){return e[n]=gt({derived:1,named:"cases."+n,and:u})})),e.__=gt({derived:1,named:"cases.__",and:u}));var h,g=new Set([].concat(l,t||[],Object.values(e))),y=Object.keys(p||m?e:c);if(p||m)p&&g.add(c),h=[p&&Mn(Dt(c),0,1),Nn({safe:p,filter:1,pure:!p,fn:function(e,t,n){var r=String(p?n.a:c(e));Nr(t,Xt(y,r)?r:"__",e,n)}})];else if(v){var x=_n({});x.type="shape";var b,w=[];ot(c,(function(e,t){if(Ht(e)){b=1,Jt(w,t),g.add(e);var n=cr(e,[],[Mn(x),En((function(e,n,r){return r.a[t]=e}))]);if(Bt(e)){x.current[t]=e.getState();var r=Dt(e);Dn(x,{from:r,field:t,type:"field"}),ht("splitMatchStore",r,n)}}})),b&&ht("splitBase",x),h=[b&&Mn(x,0,1),On((function(e,t,n){for(var r=0;r<y.length;r++){var a=y[r];if(Xt(w,a)?n.a[a]:c[a](e))return void Nr(t,a,e,n)}Nr(t,"__",e,n)}),1)]}else st(0,"expect match to be unit, function or object");var j=ct({meta:{op:n},parent:t?[]:l,scope:e,node:h,family:{owners:Array.from(g)},regional:1});if(t&&jr(n,t,l,null,j,null,n,u,0,0,0),!f)return e},at.step=Rn,at.version="23.1.0",at.withFactory=function(e){var t=e.sid,n=e.name,r=e.loc,a=e.method,o=e.fn;return lt(ct({meta:{sidRoot:cn(t),sid:t,name:n,loc:r,method:a,type:"factory"}}),o)},at.withRegion=lt,Object.defineProperty(rt,"__esModule",{value:1});var Lr=F,Fr=at,Vr=z,Hr=L,qr=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(Lr),Br=function(e){throw Error(e)},Kr="undefined"!=typeof window?qr.useLayoutEffect:qr.useEffect,Wr=function(e,t,n){Lr.useEffect((function(){e&&console.error(t+" is deprecated"+(n?", prefer "+n+" instead":""))}),[e,t,n])},Ur=function(e,t){return t?t.getState(e):e.getState()},$r=function(e,t){return e!==t},Gr=qr.createContext(null),Zr=function(e,t){console.error(e+" is deprecated"+(t?", use "+t+" instead":""))},Xr=function(e){return"object"==typeof e&&null!==e},Yr=function e(t,n){return void 0===n&&(n={}),Xr(t)&&(e(t.or,n),function(e){for(var t in e)a=t,function(e){return void 0===e}(r=e[t])||"or"===a||"and"===a||(n[a]=r);var r,a}(t),e(t.and,n)),n};rt.Provider=Gr.Provider,rt.connect=function(e){return Zr("connect","useUnit"),function(t){var n=e;return"function"!=typeof e&&(n=t,t=e),Mr("Connect("+(n.displayName||n.name||"Unknown")+")",(function(e){return qr.createElement(n,Object.assign({},e,Dr(t)))}))}},rt.createComponent=Ar,rt.createGate=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tr(zr(_r,t))},rt.createStoreConsumer=function(e){return Zr("createStoreConsumer","useUnit"),Ar(e,(function(e,t){return(0,e.children)(t)}))},rt.useEvent=function(e,t){return function(e,t){if(Wr(1,"useEvent","useUnit"),!t)return e;var n=Fr.is.unit(e)||"object"!=typeof e?{event:e}:e;return qr.useMemo((function(){if(Fr.is.unit(e))return Fr.scopeBind(e,{scope:t});var n=Array.isArray(e)?[]:{};for(var r in e)n[r]=Fr.scopeBind(e[r],{scope:t});return n}),[t].concat(Object.keys(n),Object.values(n)))}(e,Pr(null==t?void 0:t.forceScope))},rt.useGate=function(e,t,n){return void 0===t&&(t={}),_r(e,t,Pr(null==n?void 0:n.forceScope))},rt.useList=function(e,t,n){return function(e,t,n){var r,a,o,i=[];"object"==typeof t&&null!==t?(t.keys&&(i=t.keys),r=t.fn,a=t.getKey,o=t.placeholder):r=t,Fr.is.store(e)||Br("expect useList first argument to be a store"),"function"!=typeof r&&Br("expect useList's renderItem to be a function"),Array.isArray(i)||Br("expect useList's keys to be an array");var s=qr.useMemo((function(){var t=Mr((e.shortName||"Unknown")+".Item",(function(t){var r=t.index,a=t.keys;if(l.current[1])return l.current[0](t.value,t.keyVal);var o=Rr([{store:e,keys:[r].concat(a),fn:function(e,t){return e[t[0]]}}],n);return l.current[0](o,r)}));return qr.memo(t)}),[e,n,!!a]),l=qr.useRef([r,a]);l.current=[r,a];var c=qr.useMemo((function(){return i}),i);if(a){var u=Or(e,n);return 0===u.length&&o?o:u.map((function(e){var t=l.current[1](e);return qr.createElement(s,{keyVal:t,key:t,keys:c,value:e})}))}var d=Rr([{store:e,keys:[e],fn:function(e){return e.length}}],n);return 0===d&&o?o:Array.from({length:d},(function(e,t){return qr.createElement(s,{index:t,key:t,keys:c})}))}(e,t,Pr(null==n?void 0:n.forceScope))},rt.useProvidedScope=function(){return Pr()||null},rt.useStore=Dr,rt.useStoreMap=function(e,t){return Rr([e,t],Pr(null==e?void 0:e.forceScope))},Vn=rt.useUnit=function(e,t){return Or(e,Pr(null==t?void 0:t.forceScope))};const Jr=F.forwardRef(((t,n)=>{let{className:r}=t,a=I(t,e);return V.jsx("div",D({ref:n,className:H("rounded-lg border bg-card text-card-foreground shadow-sm",r)},a))}));Jr.displayName="Card";F.forwardRef(((e,n)=>{let{className:r}=e,a=I(e,t);return V.jsx("div",D({ref:n,className:H("flex flex-col space-y-1.5 p-6",r)},a))})).displayName="CardHeader";F.forwardRef(((e,t)=>{let{className:r}=e,a=I(e,n);return V.jsx("h3",D({ref:t,className:H("text-2xl font-semibold tracking-tight",r)},a))})).displayName="CardTitle";F.forwardRef(((e,t)=>{let{className:n}=e,a=I(e,r);return V.jsx("p",D({ref:t,className:H("text-sm text-muted-foreground",n)},a))})).displayName="CardDescription";F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,a);return V.jsx("div",D({ref:t,className:H("p-6 pt-0",n)},r))})).displayName="CardContent";F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,o);return V.jsx("div",D({ref:t,className:H("flex items-center p-6 pt-0",n)},r))})).displayName="CardFooter";const Qr=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,i);return V.jsx("textarea",D({className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},r))}));Qr.displayName="Textarea";const ea=e=>{let{leftContent:t,rightContent:n}=e,r=I(e,s);const a=q(B),o=K(W.$value,(e=>(null==e?void 0:e.rate)||0));return V.jsxs("span",D(D({},r),{},{children:[t,U.format.dateTime(a,{format:"time",asTime:!0}),V.jsx("span",{className:"pl-1 text-xs font-medium text-reverse/60",children:`(${+(o*(a/$(1,"hour"))).toFixed(2)} руб.)`}),n]}))},ta=({className:e})=>{const t=Vn(W),n=Vn(G),r=F.useRef(null),a=Vn({finishActiveLog:Z,continueActiveLog:X,pauseActiveLog:Y,createActiveLog:J});return F.useEffect((()=>{n.value&&r.current&&n.value.meta!==r.current.value&&(r.current.value=n.value.meta)}),[!!n.value]),V.jsxs(Jr,{className:Q("flex flex-col items-center justify-center gap-2 p-4",e),children:[V.jsxs("h1",{className:"inline-flex w-full flex-1 text-xl font-semibold",children:["Трекер",n.value?` (${n.value.projectName})`:""]}),V.jsx(Qr,{ref:r,onChange:e=>{n.value&&n.update({meta:e.target.value})},className:"!h-[40px] bg-card",placeholder:n.value?"Чем занимаешься?":"Чем будешь заниматься?"}),V.jsx("div",{className:"mt-4 flex w-full flex-row items-center gap-2",children:n.value?V.jsxs(V.Fragment,{children:[V.jsx(ea,{className:ee("relative mr-auto flex items-center text-2xl font-bold",{"text-reverse":"paused"===n.value.status,"text-destructive":"paused"!==n.value.status}),title:"Сохранение лога начинается от 1 минуты",style:{opacity:Math.max(te(n.value.spentTime,0,$(1,"min"))/$(1,"min"),.5)},leftContent:"active"===n.value.status&&V.jsx(V.Fragment,{children:V.jsxs("span",{className:"relative mr-2 flex h-4 w-4",children:[V.jsx("span",{className:"absolute block h-full w-full animate-ping rounded-full bg-destructive opacity-75"}),V.jsx("span",{className:"relative block h-4 w-4 rounded-full bg-destructive"})]})})}),V.jsx(ne,{variant:(n.value.status,"destructive"),disabled:"active"===n.value.status,onClick:()=>{a.finishActiveLog(),r.current&&(r.current.value="")},children:"ЗАВЕРШИТЬ"}),"paused"===n.value.status?V.jsx(ne,{style:{width:150},variant:"positive",onClick:a.continueActiveLog,children:"ПРОДОЛЖИТЬ"}):V.jsx(ne,{style:{width:150},variant:"outline",className:"bg-card",onClick:a.pauseActiveLog,children:"ПАУЗА"})]}):V.jsx(ne,{disabled:!t.value,className:"ml-auto",variant:"positive",onClick:()=>{var e,n;a.createActiveLog({meta:(null===(e=r.current)||void 0===e?void 0:e.value)||"",lastTickDate:null,startDate:(new Date).toISOString(),spentTime:0,projectName:(null===(n=t.value)||void 0===n?void 0:n.name)||"",status:"active"})},children:"ПРИСТУПИТЬ К РАБОТЕ"})})]})};function na(e,[t,n]){return Math.min(n,Math.max(t,e))}const ra=F.createContext(void 0);const aa=[" ","Enter","ArrowUp","ArrowDown"],oa=[" ","Enter"],ia="Select",[sa,la,ca]=function(e){const t=e+"CollectionProvider",[n,r]=re(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=e+"CollectionSlot",s=e+"CollectionItemSlot",c="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:n}=e,r=ae.useRef(null),o=ae.useRef(new Map).current;return ae.createElement(a,{scope:t,itemMap:o,collectionRef:r},n)},Slot:ae.forwardRef(((e,t)=>{const{scope:n,children:r}=e,a=o(i,n),s=oe(t,a.collectionRef);return ae.createElement(ie,{ref:s},r)})),ItemSlot:ae.forwardRef(((e,t)=>{const{scope:n,children:r}=e,a=I(e,l),i=ae.useRef(null),u=oe(t,i),d=o(s,n);return ae.useEffect((()=>(d.itemMap.set(i,D({ref:i},a)),()=>{d.itemMap.delete(i)}))),ae.createElement(ie,{[c]:"",ref:u},r)}))},function(t){const n=o(e+"CollectionConsumer",t),r=ae.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`)),r=Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return r}),[n.collectionRef,n.itemMap]);return r},r]}(ia),[ua,da]=re(ia,[ca,se]),fa=se(),[pa,ma]=ua(ia),[va,ha]=ua(ia),ga=F.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:r=!1}=e,a=I(e,c),o=fa(n),i=ma("SelectTrigger",n),s=i.disabled||r,l=oe(t,i.onTriggerChange),u=la(n),[d,f,p]=Xa((e=>{const t=u().filter((e=>!e.disabled)),n=t.find((e=>e.value===i.value)),r=Ya(t,e,n);void 0!==r&&i.onValueChange(r.value)})),m=()=>{s||(i.onOpenChange(!0),p())};return F.createElement(le,ce({asChild:!0},o),F.createElement(ue.button,ce({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Ga(i.value)?"":void 0},a,{ref:l,onClick:de(a.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:de(a.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(m(),i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:de(a.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||aa.includes(e.key)&&(m(),e.preventDefault())}))})))})),ya=F.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:i=""}=e,s=I(e,u),l=ma("SelectValue",n),{onValueNodeHasChildrenChange:c}=l,d=void 0!==o,f=oe(t,l.onValueNodeChange);return fe((()=>{c(d)}),[c,d]),F.createElement(ue.span,ce({},s,{ref:f,style:{pointerEvents:"none"}}),Ga(l.value)?F.createElement(F.Fragment,null,i):o)})),xa=F.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r}=e,a=I(e,d);return F.createElement(ue.span,ce({"aria-hidden":!0},a,{ref:t}),r||"▼")})),ba="SelectContent",wa=F.forwardRef(((e,t)=>{const n=ma(ba,e.__scopeSelect),[r,a]=F.useState();if(fe((()=>{a(new DocumentFragment)}),[]),!n.open){const t=r;return t?pe.createPortal(F.createElement(Sa,{scope:e.__scopeSelect},F.createElement(sa.Slot,{scope:e.__scopeSelect},F.createElement("div",null,e.children))),t):null}return F.createElement(Na,ce({},e,{ref:t}))})),ja=10,[Sa,ka]=ua(ba),Na=F.forwardRef(((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:h,avoidCollisions:g}=e,y=I(e,f),x=ma(ba,n),[b,w]=F.useState(null),[j,S]=F.useState(null),k=oe(t,(e=>w(e))),[N,C]=F.useState(null),[E,M]=F.useState(null),O=la(n),[R,_]=F.useState(!1),P=F.useRef(!1);F.useEffect((()=>{if(b)return me(b)}),[b]),ve();const A=F.useCallback((e=>{const[t,...n]=O().map((e=>e.ref.current)),[r]=n.slice(-1),a=document.activeElement;for(const o of e){if(o===a)return;if(null==o||o.scrollIntoView({block:"nearest"}),o===t&&j&&(j.scrollTop=0),o===r&&j&&(j.scrollTop=j.scrollHeight),null==o||o.focus(),document.activeElement!==a)return}}),[O,j]),T=F.useCallback((()=>A([N,b])),[A,N,b]);F.useEffect((()=>{R&&T()}),[R,T]);const{onOpenChange:z,triggerPointerDownPosRef:L}=x;F.useEffect((()=>{if(b){let e={x:0,y:0};const t=t=>{var n,r,a,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=L.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(o=L.current)||void 0===o?void 0:o.y)&&void 0!==a?a:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||z(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[b,z,L]),F.useEffect((()=>{const e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[z]);const[V,H]=Xa((e=>{const t=O().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=Ya(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),q=F.useCallback(((e,t,n)=>{const r=!P.current&&!n;(void 0!==x.value&&x.value===t||r)&&(C(e),r&&(P.current=!0))}),[x.value]),B=F.useCallback((()=>null==b?void 0:b.focus()),[b]),K=F.useCallback(((e,t,n)=>{const r=!P.current&&!n;(void 0!==x.value&&x.value===t||r)&&M(e)}),[x.value]),W="popper"===r?Ea:Ca,U=W===Ea?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:h,avoidCollisions:g}:{};return F.createElement(Sa,{scope:n,content:b,viewport:j,onViewportChange:S,itemRefCallback:q,selectedItem:N,onItemLeave:B,itemTextRefCallback:K,focusSelectedItem:T,selectedItemText:E,position:r,isPositioned:R,searchRef:V},F.createElement(he,{as:ie,allowPinchZoom:!0},F.createElement(ge,{asChild:!0,trapped:x.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:de(a,(e=>{var t;null===(t=x.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}))},F.createElement(ye,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},F.createElement(W,ce({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:e=>e.preventDefault()},y,U,{onPlaced:()=>_(!0),ref:k,style:D({display:"flex",flexDirection:"column",outline:"none"},y.style),onKeyDown:de(y.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||H(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=O().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>A(t))),e.preventDefault()}}))}))))))})),Ca=F.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:r}=e,a=I(e,p),o=ma(ba,n),i=ka(ba,n),[s,l]=F.useState(null),[c,u]=F.useState(null),d=oe(t,(e=>u(e))),f=la(n),m=F.useRef(!1),v=F.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=i,b=F.useCallback((()=>{if(o.trigger&&o.valueNode&&s&&c&&h&&g&&y){const e=o.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),a=y.getBoundingClientRect();if("rtl"!==o.dir){const r=a.left-t.left,o=n.left-r,i=e.left-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-ja,d=na(o,[ja,u-c]);s.style.minWidth=l+"px",s.style.left=d+"px"}else{const r=t.right-a.right,o=window.innerWidth-n.right-r,i=window.innerWidth-e.right-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-ja,d=na(o,[ja,u-c]);s.style.minWidth=l+"px",s.style.right=d+"px"}const i=f(),l=window.innerHeight-2*ja,u=h.scrollHeight,d=window.getComputedStyle(c),p=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),x=parseInt(d.borderBottomWidth,10),b=p+v+u+parseInt(d.paddingBottom,10)+x,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(h),S=parseInt(j.paddingTop,10),k=parseInt(j.paddingBottom,10),N=e.top+e.height/2-ja,C=l-N,E=g.offsetHeight/2,M=p+v+(g.offsetTop+E),O=b-M;if(M<=N){const e=g===i[i.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-h.offsetTop-h.offsetHeight,n=M+Math.max(C,E+(e?k:0)+t+x);s.style.height=n+"px"}else{const e=g===i[0].ref.current;s.style.top="0px";const t=Math.max(N,p+h.offsetTop+(e?S:0)+E)+O;s.style.height=t+"px",h.scrollTop=M-N+h.offsetTop}s.style.margin=`${ja}px 0`,s.style.minHeight=w+"px",s.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame((()=>m.current=!0))}}),[f,o.trigger,o.valueNode,s,c,h,g,y,o.dir,r]);fe((()=>b()),[b]);const[w,j]=F.useState();fe((()=>{c&&j(window.getComputedStyle(c).zIndex)}),[c]);const S=F.useCallback((e=>{e&&!0===v.current&&(b(),null==x||x(),v.current=!1)}),[b,x]);return F.createElement(Ma,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:S},F.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},F.createElement(ue.div,ce({},a,{ref:d,style:D({boxSizing:"border-box",maxHeight:"100%"},a.style)}))))})),Ea=F.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=ja}=e,o=I(e,m),i=fa(n);return F.createElement(Se,ce({},i,o,{ref:t,align:r,collisionPadding:a,style:D(D({boxSizing:"border-box"},o.style),{},{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))})),[Ma,Oa]=ua(ba,{}),Ra="SelectViewport",_a=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,v),a=ka(Ra,n),o=Oa(Ra,n),i=oe(t,a.onViewportChange),s=F.useRef(0);return F.createElement(F.Fragment,null,F.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),F.createElement(sa.Slot,{scope:n},F.createElement(ue.div,ce({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:D({position:"relative",flex:1,overflow:"auto"},r.style),onScroll:de(r.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(null!=r&&r.current&&n){const e=Math.abs(s.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*ja,a=parseFloat(n.style.minHeight),o=parseFloat(n.style.height),i=Math.max(a,o);if(i<r){const a=i+e,o=Math.min(r,a),s=a-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}s.current=t.scrollTop}))}))))})),[Pa,Da]=ua("SelectGroup"),Aa=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,h),a=Da("SelectLabel",n);return F.createElement(ue.div,ce({id:a.id},r,{ref:t}))})),Ia="SelectItem",[Ta,za]=ua(Ia),La=F.forwardRef(((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o}=e,i=I(e,g),s=ma(Ia,n),l=ka(Ia,n),c=s.value===r,[u,d]=F.useState(null!=o?o:""),[f,p]=F.useState(!1),m=oe(t,(e=>{var t;return null===(t=l.itemRefCallback)||void 0===t?void 0:t.call(l,e,r,a)})),v=xe(),h=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return F.createElement(Ta,{scope:n,value:r,disabled:a,textId:v,isSelected:c,onItemTextChange:F.useCallback((e=>{d((t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()}))}),[])},F.createElement(sa.ItemSlot,{scope:n,value:r,disabled:a,textValue:u},F.createElement(ue.div,ce({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i,{ref:m,onFocus:de(i.onFocus,(()=>p(!0))),onBlur:de(i.onBlur,(()=>p(!1))),onPointerUp:de(i.onPointerUp,h),onPointerMove:de(i.onPointerMove,(e=>{var t;a?null===(t=l.onItemLeave)||void 0===t||t.call(l):e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:de(i.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null===(t=l.onItemLeave)||void 0===t||t.call(l))})),onKeyDown:de(i.onKeyDown,(e=>{var t;""!==(null===(t=l.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(oa.includes(e.key)&&h()," "===e.key&&e.preventDefault())}))}))))})),Fa="SelectItemText",Va=F.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:a}=e,o=I(e,y),i=ma(Fa,n),s=ka(Fa,n),l=za(Fa,n),c=ha(Fa,n),[u,d]=F.useState(null),f=oe(t,(e=>d(e)),l.onItemTextChange,(e=>{var t;return null===(t=s.itemTextRefCallback)||void 0===t?void 0:t.call(s,e,l.value,l.disabled)})),p=null==u?void 0:u.textContent,m=F.useMemo((()=>F.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p)),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:h}=c;return fe((()=>(v(m),()=>h(m))),[v,h,m]),F.createElement(F.Fragment,null,F.createElement(ue.span,ce({id:l.textId},o,{ref:f})),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?pe.createPortal(o.children,i.valueNode):null)})),Ha=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,x);return za("SelectItemIndicator",n).isSelected?F.createElement(ue.span,ce({"aria-hidden":!0},r,{ref:t})):null})),qa="SelectScrollUpButton",Ba=F.forwardRef(((e,t)=>{const n=ka(qa,e.__scopeSelect),r=Oa(qa,e.__scopeSelect),[a,o]=F.useState(!1),i=oe(t,r.onScrollButtonChange);return fe((()=>{if(n.viewport&&n.isPositioned){const e=n.viewport;function t(){const t=e.scrollTop>0;o(t)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[n.viewport,n.isPositioned]),a?F.createElement(Ua,ce({},e,{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null})),Ka="SelectScrollDownButton",Wa=F.forwardRef(((e,t)=>{const n=ka(Ka,e.__scopeSelect),r=Oa(Ka,e.__scopeSelect),[a,o]=F.useState(!1),i=oe(t,r.onScrollButtonChange);return fe((()=>{if(n.viewport&&n.isPositioned){const e=n.viewport;function t(){const t=e.scrollHeight-e.clientHeight,n=Math.ceil(e.scrollTop)<t;o(n)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[n.viewport,n.isPositioned]),a?F.createElement(Ua,ce({},e,{ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null})),Ua=F.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:r}=e,a=I(e,b),o=ka("SelectScrollButton",n),i=F.useRef(null),s=la(n),l=F.useCallback((()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)}),[]);return F.useEffect((()=>()=>l()),[l]),fe((()=>{var e;const t=s().find((e=>e.ref.current===document.activeElement));null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})}),[s]),F.createElement(ue.div,ce({"aria-hidden":!0},a,{ref:t,style:D({flexShrink:0},a.style),onPointerDown:de(a.onPointerDown,(()=>{null===i.current&&(i.current=window.setInterval(r,50))})),onPointerMove:de(a.onPointerMove,(()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===i.current&&(i.current=window.setInterval(r,50))})),onPointerLeave:de(a.onPointerLeave,(()=>{l()}))}))})),$a=F.forwardRef(((e,t)=>{const{__scopeSelect:n}=e,r=I(e,w);return F.createElement(ue.div,ce({"aria-hidden":!0},r,{ref:t}))}));function Ga(e){return""===e||void 0===e}const Za=F.forwardRef(((e,t)=>{const{value:n}=e,r=I(e,j),a=F.useRef(null),o=oe(t,a),i=function(e){const t=F.useRef({value:e,previous:e});return F.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(n);return F.useEffect((()=>{const e=a.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(i!==n&&r){const t=new Event("change",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}}),[i,n]),F.createElement(be,{asChild:!0},F.createElement("select",ce({},r,{ref:o,defaultValue:n})))}));function Xa(e){const t=we(e),n=F.useRef(""),r=F.useRef(0),a=F.useCallback((e=>{const a=n.current+e;t(a),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(a)}),[t]),o=F.useCallback((()=>{n.current="",window.clearTimeout(r.current)}),[]);return F.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[n,a,o]}function Ya(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,a=n?e.indexOf(n):-1;let o=(i=e,s=Math.max(a,0),i.map(((e,t)=>i[(s+t)%i.length])));var i,s;1===r.length&&(o=o.filter((e=>e!==n)));const l=o.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}Za.displayName="BubbleSelect";const Ja=ga,Qa=xa,eo=e=>F.createElement(je,ce({asChild:!0},e)),to=wa,no=_a,ro=Aa,ao=La,oo=Va,io=Ha,so=Ba,lo=Wa,co=$a,uo=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p}=e,m=fa(t),[v,h]=F.useState(null),[g,y]=F.useState(null),[x,b]=F.useState(!1),w=function(e){const t=F.useContext(ra);return e||t||"ltr"}(c),[j=!1,S]=ke({prop:r,defaultProp:a,onChange:o}),[k,N]=ke({prop:i,defaultProp:s,onChange:l}),C=F.useRef(null),E=!v||Boolean(v.closest("form")),[M,O]=F.useState(new Set),R=Array.from(M).map((e=>e.props.value)).join(";");return F.createElement(Ne,m,F.createElement(pa,{required:p,scope:t,trigger:v,onTriggerChange:h,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:x,onValueNodeHasChildrenChange:b,contentId:xe(),value:k,onValueChange:N,open:j,onOpenChange:S,dir:w,triggerPointerDownPosRef:C,disabled:f},F.createElement(sa.Provider,{scope:t},F.createElement(va,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback((e=>{O((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:F.useCallback((e=>{O((t=>{const n=new Set(t);return n.delete(e),n}))}),[])},n)),E?F.createElement(Za,{key:R,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:e=>N(e.target.value),disabled:f},void 0===k?F.createElement("option",{value:""}):null,Array.from(M)):null))},fo=ya,po=F.forwardRef(((e,t)=>{let{className:n,children:r}=e,a=I(e,S);return V.jsxs(Ja,D(D({ref:t,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},a),{},{children:[r,V.jsx(Qa,{asChild:!0,children:V.jsx($e,{className:"h-4 w-4 opacity-50"})})]}))}));po.displayName=Ja.displayName;const mo=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,k);return V.jsx(so,D(D({ref:t,className:H("flex cursor-default items-center justify-center py-1",n)},r),{},{children:V.jsx(Ge,{className:"h-4 w-4"})}))}));mo.displayName=so.displayName;const vo=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,N);return V.jsx(lo,D(D({ref:t,className:H("flex cursor-default items-center justify-center py-1",n)},r),{},{children:V.jsx($e,{className:"h-4 w-4"})}))}));vo.displayName=lo.displayName;const ho=F.forwardRef(((e,t)=>{let{className:n,children:r,position:a="popper"}=e,o=I(e,C);return V.jsx(eo,{children:V.jsxs(to,D(D({ref:t,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:a},o),{},{children:[V.jsx(mo,{}),V.jsx(no,{className:H("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),V.jsx(vo,{})]}))})}));ho.displayName=to.displayName;F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,E);return V.jsx(ro,D({ref:t,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},r))})).displayName=ro.displayName;const go=F.forwardRef(((e,t)=>{let{className:n,children:r}=e,a=I(e,M);return V.jsxs(ao,D(D({ref:t,className:H("relative flex w-full cursor-default items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},a),{},{children:[V.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:V.jsx(io,{children:V.jsx(A,{className:"h-4 w-4"})})}),V.jsx(oo,{children:r})]}))}));go.displayName=ao.displayName;F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,O);return V.jsx(co,D({ref:t,className:H("-mx-1 my-1 h-px bg-muted",n)},r))})).displayName=co.displayName;const yo=()=>{var e;const t=Vn(Ce),n=Vn(W),r=Vn(Ee);return V.jsxs(uo,{value:null===(e=n.value)||void 0===e?void 0:e.name,disabled:t.empty,onValueChange:e=>r(t.value.find((t=>t.name===e))),children:[V.jsx(po,{className:"max-w-[250px]",children:V.jsx(fo,{placeholder:"Выберите проект..."})}),V.jsx(ho,{children:t.value.map((e=>V.jsx(go,{value:e.name||"-",children:e.name||"-"},e.name)))})]})},xo=e=>{const[t,n]=F.useState(!!e);return[t,F.useCallback((()=>n((e=>!e))),[]),n]},bo=Me("flex rounded-md border border-input bg-background ring-offset-background file:border-0 file:bg-transparent placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{default:"h-10 w-full px-3 py-2 text-sm file:text-sm file:font-medium",sm:"h-8 w-full px-1.5 text-sm file:text-sm file:font-medium"}},defaultVariants:{size:"default"}}),wo=F.forwardRef(((e,t)=>{let{className:n,type:r,size:a}=e,o=I(e,R);return V.jsx("input",D({type:r,className:H(bo({size:a,className:n})),ref:t},o))}));wo.displayName="Input";const jo=F.forwardRef(((e,t)=>F.createElement(ue.label,ce({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))),So=Me("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ko=F.forwardRef(((e,t)=>{let{className:n}=e,r=I(e,_);return V.jsx(jo,D({ref:t,className:H(So(),n)},r))}));ko.displayName=jo.displayName;const No=()=>{const[e,,t]=xo(!1),n=F.useRef(null);return F.useLayoutEffect((()=>{var t;e||(null===(t=n.current)||void 0===t||t.reset())}),[e]),V.jsxs(Oe,{open:e,onOpenChange:t,children:[V.jsx(Re,{asChild:!0,children:V.jsx(ne,{variant:"outline",size:"icon",className:"shrink-0",children:V.jsx(Je,{className:"h-4 w-4"})})}),V.jsxs(_e,{className:"sm:max-w-[425px]",children:[V.jsxs(Pe,{children:[V.jsx(De,{children:"Создание проекта"}),V.jsx(Ae,{children:"Создавай давай"})]}),V.jsxs("form",{ref:n,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const r=n.current,a=Object.fromEntries(new FormData(r));Ie({logs:[],rate:0,name:a.name}),r.reset(),t(!1),Te({type:"success",message:"Проект успешно сделан!"})},children:[V.jsx("div",{className:"grid gap-4 py-4",children:V.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[V.jsx(ko,{htmlFor:"name",className:"text-right",children:"Имя"}),V.jsx(wo,{id:"name",name:"name",required:!0,className:"col-span-3"})]})}),V.jsx(ze,{children:V.jsx(ne,{type:"submit",children:"Создать"})})]})]})]})},Co=()=>{const e=q(Le),t=K(Fe,(e=>!e));return V.jsx(ne,{variant:"outline",size:"icon",className:"shrink-0",disabled:t,onClick:e,children:V.jsx(Xe,{className:"h-4 w-4"})})},Eo=({index:e,onDelete:t})=>{const[n,,r]=xo(!1),[a]=q([Ve]),o=F.useRef(null);return F.useLayoutEffect((()=>{var e;n||(null===(e=o.current)||void 0===e||e.reset())}),[n]),V.jsxs(Oe,{open:n,onOpenChange:r,children:[V.jsx(Re,{asChild:!0,children:V.jsx(ne,{className:"mt-auto h-5 w-5",size:"icon",variant:"destructive",children:V.jsx(tt,{className:"h-3 w-3"})})}),V.jsxs(_e,{className:"sm:max-w-[425px]",children:[V.jsxs(Pe,{children:[V.jsx(De,{children:"Удаление лога"}),V.jsx(Ae,{children:"Нужно подтвердить удаление"})]}),V.jsx("form",{ref:o,onSubmit:n=>{n.preventDefault(),n.stopPropagation();const i=o.current;a({index:e}),i.reset(),t(),r(!1),Te({type:"success",message:"Лог удалён!"})},children:V.jsxs(ze,{children:[V.jsx(ne,{type:"submit",variant:"destructive",children:"УДАЛИТЬ"}),V.jsx(ne,{type:"button",variant:"ghost",onClick:()=>{r(!1)},children:"НЕ НАДО"})]})})]})]})};const Mo=e=>Be(e).replace(/(https?:\/\/[-a-zA-Z0-9@:%._\\+~#?&//=]*)/g,(e=>`<a href="${e}" target="_blank" rel="nofollow" class="text-link">${e}</a>`)),Oo=({log:e,index:t})=>{const[n,r,a]=xo(!1),[o]=q([He]),[i,s]=F.useState(e.meta),[l,c]=F.useState((()=>{const t=U.parser.msDuration(e.spentTime);return{hours:t.hours,minutes:t.minutes}}));return F.useLayoutEffect((()=>{if(!n){const t=U.parser.msDuration(e.spentTime);s(e.meta),c({hours:t.hours,minutes:t.minutes})}}),[e,n]),V.jsx(V.Fragment,{children:V.jsxs("div",{className:"group relative my-1 select-text","data-active":n||void 0,children:[V.jsx("div",{className:"absolute left-0 top-0 h-full w-1 select-text rounded-sm "+(n?"bg-reverse/70":"bg-accent")}),V.jsx("span",{className:"ml-3 select-text text-sm text-foreground/70",children:U.format.dateTime(e.startDate,{format:"dddd, D, HH:mm A"})}),V.jsx("span",{className:"ml-1 inline-flex select-text text-sm text-foreground/70 "+(n?"mb-1.5":""),children:n?V.jsx(wo,{size:"sm",type:"time",className:"h-6.5 px-1.5 font-semibold text-foreground",value:`${l.hours.toString().padStart(2,"0")}:${l.minutes.toString().padStart(2,"0")}`,onChange:e=>{const[t,n]=e.target.value.split(":");c({hours:+t||0,minutes:+n||0})}}):V.jsx(V.Fragment,{children:V.jsx("span",{className:"select-text font-semibold text-foreground",children:U.format.dateTime(e.spentTime,{format:"time-short",asTime:!0})})})}),n?V.jsx(Qr,{className:"ml-3",value:i,onChange:e=>s(e.target.value)}):V.jsx("div",{className:"ml-3 select-text whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Mo(i)}}),V.jsx("div",{className:"absolute -left-6 top-0 flex flex-col gap-2 opacity-10 group-hover:opacity-100 group-data-[active]:opacity-100",children:n?V.jsxs(V.Fragment,{children:[V.jsx(ne,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:r,children:V.jsx(qe,{className:"h-3 w-3"})}),V.jsx(ne,{size:"icon",variant:"positive",className:"mb-4 h-5 w-5",onClick:()=>{o(D(D({},e),{},{meta:i,index:t,spentTime:l.hours*$(1,"hour")+l.minutes*$(1,"min")})),r()},children:V.jsx(Qe,{className:"h-3 w-3"})}),V.jsx(Eo,{index:t,onDelete:()=>a(!1)})]}):V.jsx(V.Fragment,{children:V.jsx(ne,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:r,children:V.jsx(et,{className:"h-3 w-3"})})})})]})})},Ro=()=>{const e=K(W.$value,(e=>{if(!e)return null;if(!e.logs.length)return[];const t={};return e.logs.slice().map(((e,t)=>D(D({},e),{},{index:t}))).sort(((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime())).forEach((e=>{const n=U.format.dateTime(e.startDate,{format:"month"});t[n]||(t[n]={label:n,logs:[]}),t[n].logs.push(e)})),Object.values(t)}));return e?e.length?V.jsx("div",{className:"max-w-[540px] select-text",children:e.map((e=>V.jsxs("div",{className:"relative select-text py-4",children:[V.jsx("h1",{className:"sticky top-0 z-10 mb-2 select-text bg-custom-background/50 text-lg backdrop-blur-md",children:e.label}),V.jsx("div",{className:"flex select-text flex-col",children:e.logs.map(((e,t)=>V.jsx(Oo,{log:e,index:e.index},t)))})]},e.label)))}):V.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Нет логов"}):V.jsx("div",{className:"my-40 text-center text-2xl text-accent",children:"Проект не выбран"})},_o=()=>{const e=q(Fe);return e?V.jsx("div",{className:"select-text p-1 text-sm font-semibold",children:e}):null},Po=({className:e})=>{const[t,,n]=xo(!1),r=F.useRef(null);return F.useLayoutEffect((()=>{var e;t||(null===(e=r.current)||void 0===e||e.reset())}),[t]),V.jsxs(Oe,{open:t,onOpenChange:n,children:[V.jsx(Re,{asChild:!0,children:V.jsx(ne,{variant:"outline",size:"icon",className:Q("shrink-0",e),children:V.jsx(Ze,{className:"h-4 w-4"})})}),V.jsxs(_e,{className:"sm:max-w-[425px]",children:[V.jsx(Pe,{children:V.jsx(De,{children:"Ручное добавление лога"})}),V.jsxs("form",{ref:r,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const t=r.current,a=Object.fromEntries(new FormData(t));console.info("fff",a);const[o,i]=a.time.split(":"),s=+o*$(1,"hour")+ +i*$(1,"min"),l=new Date(a.date).toISOString();Ke({startDate:l,spentTime:s,meta:a.description||""}),t.reset(),n(!1),Te({type:"success",message:"Лог добавлен!"})},children:[V.jsx("div",{className:"grid gap-4 py-4",children:V.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[V.jsx(ko,{htmlFor:"date",className:"text-right",children:"Дата"}),V.jsx(wo,{id:"date",name:"date",type:"date",required:!0,className:"col-span-3"})]})}),V.jsx("div",{className:"grid gap-4 py-4",children:V.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[V.jsx(ko,{htmlFor:"time",className:"text-right",children:"Время"}),V.jsx(wo,{id:"time",name:"time",type:"time",required:!0,className:"col-span-3"})]})}),V.jsxs("div",{className:"grid gap-4 py-4",children:[V.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:V.jsx(ko,{htmlFor:"description",className:"text-right",children:"Описание"})}),V.jsx(Qr,{id:"description",name:"description"})]}),V.jsx(ze,{children:V.jsx(ne,{type:"submit",children:"Создать"})})]})]})]})},Do=()=>{const e=q(W);return e.value?V.jsx(wo,{type:"number",placeholder:"0",className:"max-w-[140px]",value:e.value.rate||"",onChange:t=>{e.update({rate:+t.target.value||0})}}):null},Ao=()=>{const[e,,t]=xo(!1),n=F.useRef(null),r=K(Fe,(e=>!e));return F.useLayoutEffect((()=>{var t;e||(null===(t=n.current)||void 0===t||t.reset())}),[e]),V.jsxs(Oe,{open:e,onOpenChange:t,children:[V.jsx(Re,{asChild:!0,disabled:r,children:V.jsx(ne,{variant:"outline",size:"icon",className:"shrink-0",disabled:r,children:V.jsx(Ye,{className:"h-4 w-4"})})}),V.jsxs(_e,{className:"sm:max-w-[425px]",children:[V.jsxs(Pe,{children:[V.jsx(De,{children:"Сброс данных по трекингу"}),V.jsx(Ae,{children:"Все логи по текущему проекту будут удалены"})]}),V.jsx("form",{ref:n,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const r=n.current;W.update({logs:[]}),r.reset(),t(!1),Te({type:"success",message:"Всё сброшено!"})},children:V.jsx(ze,{children:V.jsx(ne,{type:"submit",children:"ОК"})})})]})]})};P("HomePage",(()=>{const e=q(Ue);return V.jsx(We,{className:"flex flex-col",children:V.jsxs("div",{children:[V.jsxs("div",{className:"flex flex-row justify-between",children:[V.jsxs("div",{children:[V.jsx("span",{className:"text-xs text-muted-foreground",children:"проект:"}),V.jsxs("div",{className:"flex w-[260px] flex-row gap-2",children:[V.jsx(yo,{}),V.jsx(No,{})]})]}),V.jsxs("div",{children:[V.jsx("span",{className:"text-xs text-muted-foreground",children:"ставка:"}),V.jsx(Do,{})]})]}),V.jsx(ta,{className:"mb-6 mr-auto mt-10 w-full"}),e&&V.jsxs("div",{className:"mb-4 flex flex-1 flex-row gap-2",children:[V.jsx(Po,{className:"mr-auto"}),V.jsx(Ao,{}),V.jsx(Co,{})]}),V.jsx(_o,{}),V.jsx(Ro,{})]})})}))}}}))}();
